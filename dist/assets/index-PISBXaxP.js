var ii=Object.defineProperty;var oi=(e,t,n)=>t in e?ii(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var et=(e,t,n)=>oi(e,typeof t!="symbol"?t+"":t,n);import{j as r,M as ur,u as li,c as Kn,p as Yn,s as ea,D as er,o as X,G as ci,e as ht,a as Bt,P as mr,I as hr,h as pr,t as fr,g as gr,v as nt,B as di,S as ui,b as mi,d as hi,r as st,f as pi,A as fi,E as Ye,i as on,V as ln,F as qn,k as Gn,T as yr,H as gi,C as ta,l as yi,m as Kr,n as ra,q as na,w as Dt,x as It,y as Xn}from"./ui-vendor-CvkCDyx7.js";import{a as xi,r as f,b as M,G as vi,u as Ee,L as we,g as sa,e as bi,O as wi,c as me,f as Si,h as aa,i as ji,N as cn,j as ki,k as Ni}from"./react-vendor-CXnY9SFb.js";import{b as Yr,a as Ct,c as At,d as Ei,f as Tr,e as Ie,g as ia,p as Pi,h as Ti}from"./utils-vendor-DppIigtq.js";import{u as Me,a as Ci,b as Ai,c as tt,Q as Ri,d as _i}from"./query-vendor-D4tH_04Y.js";import"./video-vendor-ngu5V-Th.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function s(a){if(a.ep)return;a.ep=!0;const i=n(a);fetch(a.href,i)}})();var dn={},Qn=xi;dn.createRoot=Qn.createRoot,dn.hydrateRoot=Qn.hydrateRoot;const Li="/zenshin/assets/anime-Cy1bVbdO.gif";var Oi={cm:!0,mm:!0,in:!0,px:!0,pt:!0,pc:!0,em:!0,ex:!0,ch:!0,rem:!0,vw:!0,vh:!0,vmin:!0,vmax:!0,"%":!0};function Di(e){if(typeof e=="number")return{value:e,unit:"px"};var t,n=(e.match(/^[0-9.]*/)||"").toString();n.includes(".")?t=parseFloat(n):t=parseInt(n,10);var s=(e.match(/[^0-9]*$/)||"").toString();return Oi[s]?{value:t,unit:s}:(console.warn("React Spinners: ".concat(e," is not a valid css value. Defaulting to ").concat(t,"px.")),{value:t,unit:"px"})}function qr(e){var t=Di(e);return"".concat(t.value).concat(t.unit)}var oa=function(e,t,n){var s="react-spinners-".concat(e,"-").concat(n);if(typeof window>"u"||!window.document)return s;var a=document.createElement("style");document.head.appendChild(a);var i=a.sheet,o=`
    @keyframes `.concat(s,` {
      `).concat(t,`
    }
  `);return i&&i.insertRule(o,0),s},xr;(function(e){e.maroon="#800000",e.red="#FF0000",e.orange="#FFA500",e.yellow="#FFFF00",e.olive="#808000",e.green="#008000",e.purple="#800080",e.fuchsia="#FF00FF",e.lime="#00FF00",e.teal="#008080",e.aqua="#00FFFF",e.blue="#0000FF",e.navy="#000080",e.black="#000000",e.gray="#808080",e.silver="#C0C0C0",e.white="#FFFFFF"})(xr||(xr={}));var Ii=function(e,t){if(e.includes("/"))return e.replace("rgb(","rgba(");var n=e.substring(e.startsWith("rgba(")?5:4,e.length-1).trim(),s=n.split(",");return s.length===4?e.replace("rgb(","rgba("):s.length===3?"rgba(".concat(n,", ").concat(t,")"):"rgba(".concat(n," / ").concat(t,")")},Mi=function(e,t){if(e.startsWith("rgb"))return Ii(e,t);if(Object.keys(xr).includes(e)&&(e=xr[e]),e[0]==="#"&&(e=e.slice(1)),e.length===3){var n="";e.split("").forEach(function(a){n+=a,n+=a}),e=n}var s=(e.match(/.{2}/g)||[]).map(function(a){return parseInt(a,16)}).join(", ");return"rgba(".concat(s,", ").concat(t,")")},vr=function(){return vr=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},vr.apply(this,arguments)},$i=function(e,t){var n={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.indexOf(s)<0&&(n[s]=e[s]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,s=Object.getOwnPropertySymbols(e);a<s.length;a++)t.indexOf(s[a])<0&&Object.prototype.propertyIsEnumerable.call(e,s[a])&&(n[s[a]]=e[s[a]]);return n},zi=oa("BarLoader","0% {left: -35%;right: 100%} 60% {left: 100%;right: -90%} 100% {left: 100%;right: -90%}","long"),Fi=oa("BarLoader","0% {left: -200%;right: 100%} 60% {left: 107%;right: -8%} 100% {left: 107%;right: -8%}","short");function Ui(e){var t=e.loading,n=t===void 0?!0:t,s=e.color,a=s===void 0?"#000000":s,i=e.speedMultiplier,o=i===void 0?1:i,l=e.cssOverride,c=l===void 0?{}:l,d=e.height,u=d===void 0?4:d,h=e.width,m=h===void 0?100:h,p=$i(e,["loading","color","speedMultiplier","cssOverride","height","width"]),g=vr({display:"inherit",position:"relative",width:qr(m),height:qr(u),overflow:"hidden",backgroundColor:Mi(a,.2),backgroundClip:"padding-box"},c),b=function(P){return{position:"absolute",height:qr(u),overflow:"hidden",backgroundColor:a,backgroundClip:"padding-box",display:"block",borderRadius:2,willChange:"left, right",animationFillMode:"forwards",animation:"".concat(P===1?zi:Fi," ").concat(2.1/o,"s ").concat(P===2?"".concat(1.15/o,"s"):""," ").concat(P===1?"cubic-bezier(0.65, 0.815, 0.735, 0.395)":"cubic-bezier(0.165, 0.84, 0.44, 1)"," infinite")}};return n?f.createElement("span",vr({style:g},p),f.createElement("span",{style:b(1)}),f.createElement("span",{style:b(2)})):null}function la(){return r.jsxs("div",{className:"flex h-fit w-fit flex-col items-center justify-center gap-y-1",children:[r.jsx("img",{className:"w-36",src:Li,alt:""}),r.jsx("div",{className:"relative right-3 mt-2",children:r.jsx(Ui,{color:"#e5bc94"})})]})}var Hi=e=>{switch(e){case"success":return Wi;case"info":return Yi;case"warning":return Ki;case"error":return qi;default:return null}},Bi=Array(12).fill(0),Vi=({visible:e})=>M.createElement("div",{className:"sonner-loading-wrapper","data-visible":e},M.createElement("div",{className:"sonner-spinner"},Bi.map((t,n)=>M.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Wi=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Ki=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Yi=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),qi=M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},M.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Gi=()=>{let[e,t]=M.useState(document.hidden);return M.useEffect(()=>{let n=()=>{t(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),e},un=1,Xi=class{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{let t=this.subscribers.indexOf(e);this.subscribers.splice(t,1)}),this.publish=e=>{this.subscribers.forEach(t=>t(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var t;let{message:n,...s}=e,a=typeof e?.id=="number"||((t=e.id)==null?void 0:t.length)>0?e.id:un++,i=this.toasts.find(l=>l.id===a),o=e.dismissible===void 0?!0:e.dismissible;return i?this.toasts=this.toasts.map(l=>l.id===a?(this.publish({...l,...e,id:a,title:n}),{...l,...e,id:a,dismissible:o,title:n}):l):this.addToast({title:n,...s,dismissible:o,id:a}),a},this.dismiss=e=>(e||this.toasts.forEach(t=>{this.subscribers.forEach(n=>n({id:t.id,dismiss:!0}))}),this.subscribers.forEach(t=>t({id:e,dismiss:!0})),e),this.message=(e,t)=>this.create({...t,message:e}),this.error=(e,t)=>this.create({...t,message:e,type:"error"}),this.success=(e,t)=>this.create({...t,type:"success",message:e}),this.info=(e,t)=>this.create({...t,type:"info",message:e}),this.warning=(e,t)=>this.create({...t,type:"warning",message:e}),this.loading=(e,t)=>this.create({...t,type:"loading",message:e}),this.promise=(e,t)=>{if(!t)return;let n;t.loading!==void 0&&(n=this.create({...t,promise:e,type:"loading",message:t.loading,description:typeof t.description!="function"?t.description:void 0}));let s=e instanceof Promise?e:e(),a=n!==void 0;return s.then(async i=>{if(Ji(i)&&!i.ok){a=!1;let o=typeof t.error=="function"?await t.error(`HTTP error! status: ${i.status}`):t.error,l=typeof t.description=="function"?await t.description(`HTTP error! status: ${i.status}`):t.description;this.create({id:n,type:"error",message:o,description:l})}else if(t.success!==void 0){a=!1;let o=typeof t.success=="function"?await t.success(i):t.success,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"success",message:o,description:l})}}).catch(async i=>{if(t.error!==void 0){a=!1;let o=typeof t.error=="function"?await t.error(i):t.error,l=typeof t.description=="function"?await t.description(i):t.description;this.create({id:n,type:"error",message:o,description:l})}}).finally(()=>{var i;a&&(this.dismiss(n),n=void 0),(i=t.finally)==null||i.call(t)}),n},this.custom=(e,t)=>{let n=t?.id||un++;return this.create({jsx:e(n),id:n,...t}),n},this.subscribers=[],this.toasts=[]}},Re=new Xi,Qi=(e,t)=>{let n=t?.id||un++;return Re.addToast({title:e,...t,id:n}),n},Ji=e=>e&&typeof e=="object"&&"ok"in e&&typeof e.ok=="boolean"&&"status"in e&&typeof e.status=="number",Zi=Qi,eo=()=>Re.toasts,R=Object.assign(Zi,{success:Re.success,info:Re.info,warning:Re.warning,error:Re.error,custom:Re.custom,message:Re.message,promise:Re.promise,dismiss:Re.dismiss,loading:Re.loading},{getHistory:eo});function to(e,{insertAt:t}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",t==="top"&&n.firstChild?n.insertBefore(s,n.firstChild):n.appendChild(s),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(document.createTextNode(e))}to(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999}:where([data-sonner-toaster][data-x-position="right"]){right:max(var(--offset),env(safe-area-inset-right))}:where([data-sonner-toaster][data-x-position="left"]){left:max(var(--offset),env(safe-area-inset-left))}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:max(var(--offset),env(safe-area-inset-top))}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:max(var(--offset),env(safe-area-inset-bottom))}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;background:var(--gray1);color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:0;right:0;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount, 0px));transition:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation:swipe-out .2s ease-out forwards}@keyframes swipe-out{0%{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount)));opacity:1}to{transform:translateY(calc(var(--lift) * var(--offset) + var(--swipe-amount) + var(--lift) * -100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;--mobile-offset: 16px;right:var(--mobile-offset);left:var(--mobile-offset);width:100%}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset)}[data-sonner-toaster][data-y-position=bottom]{bottom:20px}[data-sonner-toaster][data-y-position=top]{top:20px}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset);right:var(--mobile-offset);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function tr(e){return e.label!==void 0}var ro=3,no="32px",so=4e3,ao=356,io=14,oo=20,lo=200;function co(...e){return e.filter(Boolean).join(" ")}var uo=e=>{var t,n,s,a,i,o,l,c,d,u;let{invert:h,toast:m,unstyled:p,interacting:g,setHeights:b,visibleToasts:P,heights:D,index:S,toasts:N,expanded:T,removeToast:v,defaultRichColors:j,closeButton:L,style:$,cancelButtonStyle:O,actionButtonStyle:A,className:W="",descriptionClassName:Z="",duration:C,position:E,gap:U,loadingIcon:_,expandByDefault:k,classNames:I,icons:B,closeButtonAriaLabel:y="Close toast",pauseWhenPageIsHidden:x,cn:z}=e,[H,ae]=M.useState(!1),[q,ce]=M.useState(!1),[dt,Pe]=M.useState(!1),[Ve,Te]=M.useState(!1),[Tt,ut]=M.useState(0),[yt,Qe]=M.useState(0),G=M.useRef(null),K=M.useRef(null),fe=S===0,de=S+1<=P,te=m.type,w=m.dismissible!==!1,F=m.className||"",V=m.descriptionClassName||"",se=M.useMemo(()=>D.findIndex(Q=>Q.toastId===m.id)||0,[D,m.id]),oe=M.useMemo(()=>{var Q;return(Q=m.closeButton)!=null?Q:L},[m.closeButton,L]),ge=M.useMemo(()=>m.duration||C||so,[m.duration,C]),Ce=M.useRef(0),ve=M.useRef(0),Le=M.useRef(0),Oe=M.useRef(null),[ze,pe]=E.split("-"),Je=M.useMemo(()=>D.reduce((Q,ue,le)=>le>=se?Q:Q+ue.height,0),[D,se]),Ze=Gi(),ni=m.invert||h,Wr=te==="loading";ve.current=M.useMemo(()=>se*U+Je,[se,Je]),M.useEffect(()=>{ae(!0)},[]),M.useLayoutEffect(()=>{if(!H)return;let Q=K.current,ue=Q.style.height;Q.style.height="auto";let le=Q.getBoundingClientRect().height;Q.style.height=ue,Qe(le),b(We=>We.find(Ke=>Ke.toastId===m.id)?We.map(Ke=>Ke.toastId===m.id?{...Ke,height:le}:Ke):[{toastId:m.id,height:le,position:m.position},...We])},[H,m.title,m.description,b,m.id]);let it=M.useCallback(()=>{ce(!0),ut(ve.current),b(Q=>Q.filter(ue=>ue.toastId!==m.id)),setTimeout(()=>{v(m)},lo)},[m,v,b,ve]);M.useEffect(()=>{if(m.promise&&te==="loading"||m.duration===1/0||m.type==="loading")return;let Q,ue=ge;return T||g||x&&Ze?(()=>{if(Le.current<Ce.current){let le=new Date().getTime()-Ce.current;ue=ue-le}Le.current=new Date().getTime()})():ue!==1/0&&(Ce.current=new Date().getTime(),Q=setTimeout(()=>{var le;(le=m.onAutoClose)==null||le.call(m,m),it()},ue)),()=>clearTimeout(Q)},[T,g,k,m,ge,it,m.promise,te,x,Ze]),M.useEffect(()=>{let Q=K.current;if(Q){let ue=Q.getBoundingClientRect().height;return Qe(ue),b(le=>[{toastId:m.id,height:ue,position:m.position},...le]),()=>b(le=>le.filter(We=>We.toastId!==m.id))}},[b,m.id]),M.useEffect(()=>{m.delete&&it()},[it,m.delete]);function si(){return B!=null&&B.loading?M.createElement("div",{className:"sonner-loader","data-visible":te==="loading"},B.loading):_?M.createElement("div",{className:"sonner-loader","data-visible":te==="loading"},_):M.createElement(Vi,{visible:te==="loading"})}return M.createElement("li",{"aria-live":m.important?"assertive":"polite","aria-atomic":"true",role:"status",tabIndex:0,ref:K,className:z(W,F,I?.toast,(t=m?.classNames)==null?void 0:t.toast,I?.default,I?.[te],(n=m?.classNames)==null?void 0:n[te]),"data-sonner-toast":"","data-rich-colors":(s=m.richColors)!=null?s:j,"data-styled":!(m.jsx||m.unstyled||p),"data-mounted":H,"data-promise":!!m.promise,"data-removed":q,"data-visible":de,"data-y-position":ze,"data-x-position":pe,"data-index":S,"data-front":fe,"data-swiping":dt,"data-dismissible":w,"data-type":te,"data-invert":ni,"data-swipe-out":Ve,"data-expanded":!!(T||k&&H),style:{"--index":S,"--toasts-before":S,"--z-index":N.length-S,"--offset":`${q?Tt:ve.current}px`,"--initial-height":k?"auto":`${yt}px`,...$,...m.style},onPointerDown:Q=>{Wr||!w||(G.current=new Date,ut(ve.current),Q.target.setPointerCapture(Q.pointerId),Q.target.tagName!=="BUTTON"&&(Pe(!0),Oe.current={x:Q.clientX,y:Q.clientY}))},onPointerUp:()=>{var Q,ue,le,We;if(Ve||!w)return;Oe.current=null;let Ke=Number(((Q=K.current)==null?void 0:Q.style.getPropertyValue("--swipe-amount").replace("px",""))||0),Zt=new Date().getTime()-((ue=G.current)==null?void 0:ue.getTime()),ai=Math.abs(Ke)/Zt;if(Math.abs(Ke)>=oo||ai>.11){ut(ve.current),(le=m.onDismiss)==null||le.call(m,m),it(),Te(!0);return}(We=K.current)==null||We.style.setProperty("--swipe-amount","0px"),Pe(!1)},onPointerMove:Q=>{var ue;if(!Oe.current||!w)return;let le=Q.clientY-Oe.current.y,We=Q.clientX-Oe.current.x,Ke=(ze==="top"?Math.min:Math.max)(0,le),Zt=Q.pointerType==="touch"?10:2;Math.abs(Ke)>Zt?(ue=K.current)==null||ue.style.setProperty("--swipe-amount",`${le}px`):Math.abs(We)>Zt&&(Oe.current=null)}},oe&&!m.jsx?M.createElement("button",{"aria-label":y,"data-disabled":Wr,"data-close-button":!0,onClick:Wr||!w?()=>{}:()=>{var Q;it(),(Q=m.onDismiss)==null||Q.call(m,m)},className:z(I?.closeButton,(a=m?.classNames)==null?void 0:a.closeButton)},M.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},M.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),M.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"}))):null,m.jsx||M.isValidElement(m.title)?m.jsx||m.title:M.createElement(M.Fragment,null,te||m.icon||m.promise?M.createElement("div",{"data-icon":"",className:z(I?.icon,(i=m?.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||si():null,m.type!=="loading"?m.icon||B?.[te]||Hi(te):null):null,M.createElement("div",{"data-content":"",className:z(I?.content,(o=m?.classNames)==null?void 0:o.content)},M.createElement("div",{"data-title":"",className:z(I?.title,(l=m?.classNames)==null?void 0:l.title)},m.title),m.description?M.createElement("div",{"data-description":"",className:z(Z,V,I?.description,(c=m?.classNames)==null?void 0:c.description)},m.description):null),M.isValidElement(m.cancel)?m.cancel:m.cancel&&tr(m.cancel)?M.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||O,onClick:Q=>{var ue,le;tr(m.cancel)&&w&&((le=(ue=m.cancel).onClick)==null||le.call(ue,Q),it())},className:z(I?.cancelButton,(d=m?.classNames)==null?void 0:d.cancelButton)},m.cancel.label):null,M.isValidElement(m.action)?m.action:m.action&&tr(m.action)?M.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||A,onClick:Q=>{var ue,le;tr(m.action)&&(Q.defaultPrevented||((le=(ue=m.action).onClick)==null||le.call(ue,Q),it()))},className:z(I?.actionButton,(u=m?.classNames)==null?void 0:u.actionButton)},m.action.label):null))};function Jn(){if(typeof window>"u"||typeof document>"u")return"ltr";let e=document.documentElement.getAttribute("dir");return e==="auto"||!e?window.getComputedStyle(document.documentElement).direction:e}var mo=e=>{let{invert:t,position:n="bottom-right",hotkey:s=["altKey","KeyT"],expand:a,closeButton:i,className:o,offset:l,theme:c="light",richColors:d,duration:u,style:h,visibleToasts:m=ro,toastOptions:p,dir:g=Jn(),gap:b=io,loadingIcon:P,icons:D,containerAriaLabel:S="Notifications",pauseWhenPageIsHidden:N,cn:T=co}=e,[v,j]=M.useState([]),L=M.useMemo(()=>Array.from(new Set([n].concat(v.filter(x=>x.position).map(x=>x.position)))),[v,n]),[$,O]=M.useState([]),[A,W]=M.useState(!1),[Z,C]=M.useState(!1),[E,U]=M.useState(c!=="system"?c:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),_=M.useRef(null),k=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),I=M.useRef(null),B=M.useRef(!1),y=M.useCallback(x=>{var z;(z=v.find(H=>H.id===x.id))!=null&&z.delete||Re.dismiss(x.id),j(H=>H.filter(({id:ae})=>ae!==x.id))},[v]);return M.useEffect(()=>Re.subscribe(x=>{if(x.dismiss){j(z=>z.map(H=>H.id===x.id?{...H,delete:!0}:H));return}setTimeout(()=>{vi.flushSync(()=>{j(z=>{let H=z.findIndex(ae=>ae.id===x.id);return H!==-1?[...z.slice(0,H),{...z[H],...x},...z.slice(H+1)]:[x,...z]})})})}),[]),M.useEffect(()=>{if(c!=="system"){U(c);return}c==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window<"u"&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",({matches:x})=>{U(x?"dark":"light")})},[c]),M.useEffect(()=>{v.length<=1&&W(!1)},[v]),M.useEffect(()=>{let x=z=>{var H,ae;s.every(q=>z[q]||z.code===q)&&(W(!0),(H=_.current)==null||H.focus()),z.code==="Escape"&&(document.activeElement===_.current||(ae=_.current)!=null&&ae.contains(document.activeElement))&&W(!1)};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[s]),M.useEffect(()=>{if(_.current)return()=>{I.current&&(I.current.focus({preventScroll:!0}),I.current=null,B.current=!1)}},[_.current]),v.length?M.createElement("section",{"aria-label":`${S} ${k}`,tabIndex:-1},L.map((x,z)=>{var H;let[ae,q]=x.split("-");return M.createElement("ol",{key:x,dir:g==="auto"?Jn():g,tabIndex:-1,ref:_,className:o,"data-sonner-toaster":!0,"data-theme":E,"data-y-position":ae,"data-x-position":q,style:{"--front-toast-height":`${((H=$[0])==null?void 0:H.height)||0}px`,"--offset":typeof l=="number"?`${l}px`:l||no,"--width":`${ao}px`,"--gap":`${b}px`,...h},onBlur:ce=>{B.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(B.current=!1,I.current&&(I.current.focus({preventScroll:!0}),I.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||B.current||(B.current=!0,I.current=ce.relatedTarget)},onMouseEnter:()=>W(!0),onMouseMove:()=>W(!0),onMouseLeave:()=>{Z||W(!1)},onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||C(!0)},onPointerUp:()=>C(!1)},v.filter(ce=>!ce.position&&z===0||ce.position===x).map((ce,dt)=>{var Pe,Ve;return M.createElement(uo,{key:ce.id,icons:D,index:dt,toast:ce,defaultRichColors:d,duration:(Pe=p?.duration)!=null?Pe:u,className:p?.className,descriptionClassName:p?.descriptionClassName,invert:t,visibleToasts:m,closeButton:(Ve=p?.closeButton)!=null?Ve:i,interacting:Z,position:x,style:p?.style,unstyled:p?.unstyled,classNames:p?.classNames,cancelButtonStyle:p?.cancelButtonStyle,actionButtonStyle:p?.actionButtonStyle,removeToast:y,toasts:v.filter(Te=>Te.position==ce.position),heights:$.filter(Te=>Te.position==ce.position),setHeights:O,expandByDefault:a,gap:b,loadingIcon:P,expanded:A,pauseWhenPageIsHidden:N,cn:T})}))})):null};const ho={lessThanXSeconds:{one:"bir saniyeden az",other:"{{count}} saniyeden az"},xSeconds:{one:"1 saniye",other:"{{count}} saniye"},halfAMinute:"yarım dakika",lessThanXMinutes:{one:"bir dakikadan az",other:"{{count}} dakikadan az"},xMinutes:{one:"1 dakika",other:"{{count}} dakika"},aboutXHours:{one:"yaklaşık 1 saat",other:"yaklaşık {{count}} saat"},xHours:{one:"1 saat",other:"{{count}} saat"},xDays:{one:"1 gün",other:"{{count}} gün"},aboutXWeeks:{one:"yaklaşık 1 hafta",other:"yaklaşık {{count}} hafta"},xWeeks:{one:"1 hafta",other:"{{count}} hafta"},aboutXMonths:{one:"yaklaşık 1 ay",other:"yaklaşık {{count}} ay"},xMonths:{one:"1 ay",other:"{{count}} ay"},aboutXYears:{one:"yaklaşık 1 yıl",other:"yaklaşık {{count}} yıl"},xYears:{one:"1 yıl",other:"{{count}} yıl"},overXYears:{one:"1 yıldan fazla",other:"{{count}} yıldan fazla"},almostXYears:{one:"neredeyse 1 yıl",other:"neredeyse {{count}} yıl"}},po=(e,t,n)=>{let s;const a=ho[e];return typeof a=="string"?s=a:t===1?s=a.one:s=a.other.replace("{{count}}",t.toString()),n?.addSuffix?n.comparison&&n.comparison>0?s+" sonra":s+" önce":s},fo={full:"d MMMM y EEEE",long:"d MMMM y",medium:"d MMM y",short:"dd.MM.yyyy"},go={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},yo={full:"{{date}} 'saat' {{time}}",long:"{{date}} 'saat' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},xo={date:Yr({formats:fo,defaultWidth:"full"}),time:Yr({formats:go,defaultWidth:"full"}),dateTime:Yr({formats:yo,defaultWidth:"full"})},vo={lastWeek:"'geçen hafta' eeee 'saat' p",yesterday:"'dün saat' p",today:"'bugün saat' p",tomorrow:"'yarın saat' p",nextWeek:"eeee 'saat' p",other:"P"},bo=(e,t,n,s)=>vo[e],wo={narrow:["MÖ","MS"],abbreviated:["MÖ","MS"],wide:["Milattan Önce","Milattan Sonra"]},So={narrow:["1","2","3","4"],abbreviated:["1Ç","2Ç","3Ç","4Ç"],wide:["İlk çeyrek","İkinci Çeyrek","Üçüncü çeyrek","Son çeyrek"]},jo={narrow:["O","Ş","M","N","M","H","T","A","E","E","K","A"],abbreviated:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara"],wide:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık"]},ko={narrow:["P","P","S","Ç","P","C","C"],short:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],abbreviated:["Paz","Pzt","Sal","Çar","Per","Cum","Cts"],wide:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"]},No={narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"},wide:{am:"Ö.Ö.",pm:"Ö.S.",midnight:"gece yarısı",noon:"öğle",morning:"sabah",afternoon:"öğleden sonra",evening:"akşam",night:"gece"}},Eo={narrow:{am:"öö",pm:"ös",midnight:"gy",noon:"ö",morning:"sa",afternoon:"ös",evening:"ak",night:"ge"},abbreviated:{am:"ÖÖ",pm:"ÖS",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"},wide:{am:"ö.ö.",pm:"ö.s.",midnight:"gece yarısı",noon:"öğlen",morning:"sabahleyin",afternoon:"öğleden sonra",evening:"akşamleyin",night:"geceleyin"}},Po=(e,t)=>Number(e)+".",To={ordinalNumber:Po,era:Ct({values:wo,defaultWidth:"wide"}),quarter:Ct({values:So,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:Ct({values:jo,defaultWidth:"wide"}),day:Ct({values:ko,defaultWidth:"wide"}),dayPeriod:Ct({values:No,defaultWidth:"wide",formattingValues:Eo,defaultFormattingWidth:"wide"})},Co=/^(\d+)(\.)?/i,Ao=/\d+/i,Ro={narrow:/^(mö|ms)/i,abbreviated:/^(mö|ms)/i,wide:/^(milattan önce|milattan sonra)/i},_o={any:[/(^mö|^milattan önce)/i,/(^ms|^milattan sonra)/i]},Lo={narrow:/^[1234]/i,abbreviated:/^[1234]ç/i,wide:/^((i|İ)lk|(i|İ)kinci|üçüncü|son) çeyrek/i},Oo={any:[/1/i,/2/i,/3/i,/4/i],abbreviated:[/1ç/i,/2ç/i,/3ç/i,/4ç/i],wide:[/^(i|İ)lk çeyrek/i,/(i|İ)kinci çeyrek/i,/üçüncü çeyrek/i,/son çeyrek/i]},Do={narrow:/^[oşmnhtaek]/i,abbreviated:/^(oca|şub|mar|nis|may|haz|tem|ağu|eyl|eki|kas|ara)/i,wide:/^(ocak|şubat|mart|nisan|mayıs|haziran|temmuz|ağustos|eylül|ekim|kasım|aralık)/i},Io={narrow:[/^o/i,/^ş/i,/^m/i,/^n/i,/^m/i,/^h/i,/^t/i,/^a/i,/^e/i,/^e/i,/^k/i,/^a/i],any:[/^o/i,/^ş/i,/^mar/i,/^n/i,/^may/i,/^h/i,/^t/i,/^ağ/i,/^ey/i,/^ek/i,/^k/i,/^ar/i]},Mo={narrow:/^[psçc]/i,short:/^(pz|pt|sa|ça|pe|cu|ct)/i,abbreviated:/^(paz|pzt|sal|çar|per|cum|cts)/i,wide:/^(pazar(?!tesi)|pazartesi|salı|çarşamba|perşembe|cuma(?!rtesi)|cumartesi)/i},$o={narrow:[/^p/i,/^p/i,/^s/i,/^ç/i,/^p/i,/^c/i,/^c/i],any:[/^pz/i,/^pt/i,/^sa/i,/^ça/i,/^pe/i,/^cu/i,/^ct/i],wide:[/^pazar(?!tesi)/i,/^pazartesi/i,/^salı/i,/^çarşamba/i,/^perşembe/i,/^cuma(?!rtesi)/i,/^cumartesi/i]},zo={narrow:/^(öö|ös|gy|ö|sa|ös|ak|ge)/i,any:/^(ö\.?\s?[ös]\.?|öğleden sonra|gece yarısı|öğle|(sabah|öğ|akşam|gece)(leyin))/i},Fo={any:{am:/^ö\.?ö\.?/i,pm:/^ö\.?s\.?/i,midnight:/^(gy|gece yarısı)/i,noon:/^öğ/i,morning:/^sa/i,afternoon:/^öğleden sonra/i,evening:/^ak/i,night:/^ge/i}},Uo={ordinalNumber:Ei({matchPattern:Co,parsePattern:Ao,valueCallback:function(e){return parseInt(e,10)}}),era:At({matchPatterns:Ro,defaultMatchWidth:"wide",parsePatterns:_o,defaultParseWidth:"any"}),quarter:At({matchPatterns:Lo,defaultMatchWidth:"wide",parsePatterns:Oo,defaultParseWidth:"any",valueCallback:e=>e+1}),month:At({matchPatterns:Do,defaultMatchWidth:"wide",parsePatterns:Io,defaultParseWidth:"any"}),day:At({matchPatterns:Mo,defaultMatchWidth:"wide",parsePatterns:$o,defaultParseWidth:"any"}),dayPeriod:At({matchPatterns:zo,defaultMatchWidth:"any",parsePatterns:Fo,defaultParseWidth:"any"})},Yt={code:"tr",formatDistance:po,formatLong:xo,formatRelative:bo,localize:To,match:Uo,options:{weekStartsOn:1,firstWeekContainsDate:1}};function Ho({data:e,setIsActive:t}){const n=Ee();function s(){n(`/anime/${e.id}`),t(!1)}const a=e?.startDate?new Date(e.startDate.year,e.startDate.month-1,e.startDate.day):null;return r.jsxs("div",{onClick:()=>s(),className:"flex animate-fade cursor-pointer gap-x-5 bg-[#111113] px-2 py-1 font-inter transition-all duration-200 ease-in-out hover:scale-105 hover:bg-[#232326] hover:z-10 hover:rounded-md hover:drop-shadow-xl",children:[r.jsx("img",{className:"duration-400 h-12 w-12 animate-fade rounded-lg object-cover transition-all ease-in-out hover:scale-150",src:e.coverImage.large,alt:"img"}),r.jsxs("div",{className:"flex w-[85%] flex-col",children:[r.jsx("div",{className:"w-full truncate text-sm font-medium opacity-80",children:e.title.romaji}),r.jsxs("div",{children:[r.jsxs("p",{className:"text-xs opacity-45",children:[e.format," - ",`${e.episodes?e.episodes:"?"} episodes`," (",e.status,")"]}),a&&r.jsx("p",{className:"text-xs opacity-45",children:Tr(new Date(a),"MMMM yyyy",{locale:Yt})})]})]})]})}const Bo="https://api.jikan.moe/v4";decodeURIComponent(atob("aHR0cHM6Ly9ueWFhYXBpLm9ucmVuZGVyLmNvbS9ueWFh"));const Et="https://graphql.anilist.co",Gr="https://api.ani.zip",_t=decodeURIComponent(atob("aHR0cHM6Ly9mZWVkLmFuaW1ldG9zaG8ub3Jn"));function Vo(e){return`${Bo}/anime/${e}/full`}function Wo(e,t=!1){return console.log(`${Gr}/mappings?anilist_id=${e}`),t?`${Gr}/mappings?anidb_id=${e}`:`${Gr}/mappings?anilist_id=${e}`}function Ko(e="[SubsPlease]"){return`${_t}/json?qx=1&q=${e}`}function Yo(e="all",t,n){return n===0||n===null?e.toLowerCase()==="all"?`${_t}/json?qx=1&aids=${t}`:`${_t}/json?qx=1&q=${e}&aids=${t}`:e.toLowerCase()==="all"?`${_t}/json?qx=1&aids=${t}&eids=${n}`:`${_t}/json?qx=1&q=${e}&aids=${t}&eids=${n}`}const ne=Ie.create({baseURL:"https://zenshin-backend-i34n.onrender.com/",timeout:3e4,headers:{"Content-Type":"application/json"}});ne.interceptors.request.use(e=>{const t=localStorage.getItem("auth_token");return t&&(e.headers.Authorization=`Bearer ${t}`),e},e=>Promise.reject(e));ne.interceptors.response.use(e=>e,e=>(e.response?.status===401&&(localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),window.location.href="/login"),Promise.reject(e)));const Xr={login:e=>ne.post("/users/login",e),register:e=>ne.post("/users/register",e),logout:()=>ne.post("/users/logout")},St={getProfile:()=>ne.get("/users/profile"),updateProfile:e=>e instanceof FormData?ne.put("/users/profile",e,{headers:{"Content-Type":"multipart/form-data"}}):ne.put("/users/profile",e),getSettings:()=>ne.get("/users/settings"),updateSettings:e=>ne.put("/users/settings",e)},Cr={getComments:(e,t=1)=>ne.get(`/comments/anime/${e}?page=${t}`),createComment:e=>ne.post("/comments",e),likeComment:e=>ne.post(`/comments/${e}/like`),deleteComment:e=>ne.delete(`/comments/${e}`)},jt={getHistory:()=>ne.get("/watch/history"),getLastWatched:()=>ne.get("/watch/last-watched"),addToHistory:e=>ne.post("/watch/history",e),updateProgress:(e,t,n)=>ne.put(`/watch/history/${e}/${t}`,{progress:n}),getCompleted:()=>ne.get("/watch/completed"),markAsCompleted:e=>ne.post(`/watch/completed/${e}`),removeFromHistory:e=>ne.delete(`/watch/history/${e}`)},Fe={grantAdmin:e=>ne.post("/admin/users/grant-admin",e),revokeAdmin:e=>ne.delete(`/admin/users/revoke-admin/${e}`),getAdmins:()=>ne.get("/admin/users/admins"),add4KEpisode:e=>ne.post("/admin/episodes/add-4k",e),get4KEpisodes:e=>ne.get(`/admin/episodes/4k/${e}`),getAll4KEpisodes:()=>ne.get("/admin/episodes/4k"),delete4KEpisode:e=>ne.delete(`/admin/episodes/4k/${e}`),searchTorrents:e=>ne.get(`/admin/torrents/search?query=${encodeURIComponent(e)}`),searchMKV:e=>ne.get(`/admin/mkv/search?query=${encodeURIComponent(e)}`),extractSubtitles:e=>ne.post("/admin/subtitles/extract",e),addSubtitle:e=>ne.post("/admin/subtitles/add",e),getSubtitles:(e,t)=>ne.get(`/admin/subtitles/${e}/${t}`),deleteSubtitle:e=>ne.delete(`/admin/subtitles/${e}`),searchAnime:e=>ne.get(`/admin/anime/search?query=${encodeURIComponent(e)}`),getStats:()=>ne.get("/admin/stats")},qo=Cr.getComments,Zn=Cr.createComment,Go=Cr.likeComment,Xo=Cr.deleteComment,at=localStorage.getItem("anilist_token");async function Qo(e,t=10){try{const a=await fetch(Et,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:`
      query ($search: String, $limit: Int) {
        Page(perPage: $limit) {
          media(search: $search, type: ANIME, sort: START_DATE_DESC) {
            id
            format
            status
            episodes
            startDate {
              year
              month
              day
            }
            title {
              romaji
              english
              native
            }
            description
            coverImage {
              large
              medium
            }
            genres
            relations {
              edges {
                relationType
                node {
                  id
                  format
                  title {
                    romaji
                  }
                }
              }
            }
          }
        }
      }
    `,variables:{search:e,limit:t}})}),i=await a.json();if(!a.ok)throw new Error(i.errors?.[0]?.message||"Failed to fetch anime data");const o=i.data.Page.media,l=o.filter(c=>!c.relations?.edges?.some(u=>u.relationType==="PREQUEL"&&u.node.format==="TV"));return console.log(`Filtered ${o.length} -> ${l.length} (removed sequels)`),l}catch(n){throw new Error(n.message||n)}}async function Jo(){const e=`
    query {
      Page(perPage: 49, page: 1) {
        media(type: ANIME, sort: TRENDING_DESC, status_in: [RELEASING], isAdult: false) {
          id
          idMal
          bannerImage
          title {
            romaji
            english
            native
          }
          season
          seasonYear
          coverImage {
            extraLarge
          }
          description
          episodes
          averageScore
          popularity
          startDate {
            year
            month
            day
          }
          format
          relations {
            edges {
              relationType
              node {
                id
                format
              }
            }
          }
          ${at?`mediaListEntry {
            id
            status
            score
            progress
          }`:""}
        }
      }
    }
  `;try{const t={"Content-Type":"application/json",Accept:"application/json"};at&&(t.Authorization=`Bearer ${at}`);const n=await fetch(Et,{method:"POST",headers:t,body:JSON.stringify({query:e})});if(n.status===429)throw new Error("Too many requests to the API. You are being rate-limited. Please come back after a minute.");if(!n.ok){const o=await n.json();throw new Error(`Error ${n.status}: ${n.statusText} - ${o.message}`)}const{data:s}=await n.json(),a=s.Page.media,i=a.filter(o=>!o.relations?.edges?.some(c=>c.relationType==="PREQUEL"&&c.node.format==="TV"));return console.log(`Top Airing: ${a.length} -> ${i.length} (removed sequels)`),i}catch(t){throw new Error(t.message)}}async function Zo(e=1){console.log("Fetching top anime with page:",e),await new Promise(n=>setTimeout(n,2e3));const t=`
    query ($page: Int) {
      Page(page: $page, perPage: 25) {
        media(type: ANIME, sort: SCORE_DESC, isAdult: false) {
          id
          idMal
          bannerImage
          title {
            romaji
            english
            native
          }
          coverImage {
            extraLarge
          }
          description
          episodes
          averageScore
          popularity
          startDate {
            year
            month
            day
          }
          format
          relations {
            edges {
              relationType
              node {
                id
                format
              }
            }
          }
          ${at?`mediaListEntry {
            id
            status
            score
            progress
          }`:""}
        }
      }
    }
  `;try{const n={"Content-Type":"application/json",Accept:"application/json"};at&&(n.Authorization=`Bearer ${at}`);const s=await fetch(Et,{method:"POST",headers:n,body:JSON.stringify({query:t,variables:{page:e}})});if(s.status===429)throw console.log("Too many requests to the API. You are being rate-limited. Please wait a minute and refresh the page."),new Error("Too many requests to the API. You are being rate-limited. Please wait a minute and refresh the page.");if(!s.ok){const l=await s.json();throw new Error(`Error ${s.status}: ${s.statusText} - ${l.message}`)}const i=(await s.json()).data.Page.media,o=i.filter(l=>!l.relations?.edges?.some(d=>d.relationType==="PREQUEL"&&d.node.format==="TV"));return console.log(`Top Anime (Page ${e}): ${i.length} -> ${o.length} (removed sequels)`),o}catch(n){throw new Error(n.message)}}async function el(e){console.log("Fetching anime with id:",e);const t=`
    query ($id: Int) {
      Media(id: $id, type: ANIME) {
        id
        title {
          romaji
          english
          native
        }
        bannerImage
        coverImage {
          extraLarge
        }
        description
        episodes
        averageScore
        popularity
        idMal
        startDate {
          year
          month
          day
        }
        endDate {
          year
          month
          day
        }
        siteUrl
        format
        status
        genres
        season
        streamingEpisodes {
          title
          thumbnail
          url
          site
        }
        trailer {
          id
          site
          thumbnail
        }
        relations {
          edges {
            relationType
            node {
              id
              title {
                romaji
                english
              }
              format
              status
              episodes
              coverImage {
                large
              }
            }
          }
        }
        characters {
          edges {
            node {
              id
              name {
                full
              }
            }
          }
        }
        ${at?`mediaListEntry {
          id
          status
          score
          progress
        }`:""}
      }
    }
  `;try{const n={"Content-Type":"application/json",Accept:"application/json"};at&&(n.Authorization=`Bearer ${at}`);const s=await fetch(Et,{method:"POST",headers:n,body:JSON.stringify({query:t,variables:{id:e}})});if(s.status===429)throw new Error("Too many requests to the API. You are being rate-limited. Please wait a minute and refresh the page.");if(!s.ok){const i=await s.json();throw new Error(`Error ${s.status}: ${s.statusText} - ${i.message}`)}const{data:a}=await s.json();return console.log(a),a.Media}catch(n){throw new Error(n.message)}}async function tl(e){try{console.log("Fetching anime with id:",e);const t=await fetch(Vo(e));if(t.status===429)throw new Error("Too many requests to the API. You are being rate-limited. Please wait a min and refresh the page.");if(!t.ok){const s=await t.json();throw new Error(`Error ${t.status}: ${t.statusText} - ${s.message}`)}const n=await t.json();return console.log(n),n}catch(t){throw new Error(t)}}async function rl(e,t=!1){try{const n=await fetch(Wo(e,t));if(n.status===429)throw new Error("Too many requests to the API. You are being rate-limited. Please wait a minute and refresh the page.");if(n.status===404)return[];if(!n.ok){const a=await n.json();throw new Error(`Error ${n.status}: ${n.statusText} - ${a.message}`)}return await n.json()}catch(n){throw console.log(n),new Error(n)}}async function nl(){const e=`
    query {
      Page(perPage: 30, page: 1) {
        activities(type: ANIME_LIST, sort: ID_DESC) {
          ... on ListActivity {
            id
            createdAt
            status
            progress
            media {
              id
              title {
                romaji
                english
                native
              }
              coverImage {
                extraLarge
              }
            }
            user {
              id
              name
              avatar {
                large
              }
            }
          }
        }
      }
    }
  `;try{const t=await fetch(Et,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:e})});if(t.status===429)throw new Error("Too many requests to the API. You are being rate-limited. Please wait a minute and refresh the page.");if(!t.ok){const s=await t.json();throw new Error(`Error ${t.status}: ${t.statusText} - ${s.message}`)}const{data:n}=await t.json();return n.Page.activities}catch(t){throw new Error(t.message)}}async function sl(e="[SubsPlease]"){try{const t=await fetch(Ko(e));if(!t.ok)throw new Error(`HTTP error! Status: ${t.status}`);return await t.json()}catch(t){throw console.log(t),new Error(t)}}async function al(e,t,n){try{const s=await fetch(Yo(e,t,n));if(!s.ok)throw new Error(`HTTP error! Status: ${s.status}`);return await s.json()}catch(s){throw new Error(s)}}const il=(e,t,n,s)=>{const a=[n,{code:t,...s||{}}];if(e?.services?.logger?.forward)return e.services.logger.forward(a,"warn","react-i18next::",!0);gt(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),e?.services?.logger?.warn?e.services.logger.warn(...a):console?.warn&&console.warn(...a)},es={},mn=(e,t,n,s)=>{gt(n)&&es[n]||(gt(n)&&(es[n]=new Date),il(e,t,n,s))},ca=(e,t)=>()=>{if(e.isInitialized)t();else{const n=()=>{setTimeout(()=>{e.off("initialized",n)},0),t()};e.on("initialized",n)}},hn=(e,t,n)=>{e.loadNamespaces(t,ca(e,n))},ts=(e,t,n,s)=>{if(gt(n)&&(n=[n]),e.options.preload&&e.options.preload.indexOf(t)>-1)return hn(e,n,s);n.forEach(a=>{e.options.ns.indexOf(a)<0&&e.options.ns.push(a)}),e.loadLanguages(t,ca(e,s))},ol=(e,t,n={})=>!t.languages||!t.languages.length?(mn(t,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:t.languages}),!0):t.hasLoadedNamespace(e,{lng:n.lng,precheck:(s,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&s.services.backendConnector.backend&&s.isLanguageChangingTo&&!a(s.isLanguageChangingTo,e))return!1}}),gt=e=>typeof e=="string",ll=e=>typeof e=="object"&&e!==null,cl=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,dl={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},ul=e=>dl[e],ml=e=>e.replace(cl,ul);let pn={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:ml};const hl=(e={})=>{pn={...pn,...e}},pl=()=>pn;let da;const fl=e=>{da=e},gl=()=>da,yl={type:"3rdParty",init(e){hl(e.options.react),fl(e)}},ua=f.createContext();class xl{constructor(){this.usedNamespaces={}}addUsedNamespaces(t){t.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const vl=(e,t)=>{const n=f.useRef();return f.useEffect(()=>{n.current=e},[e,t]),n.current},ma=(e,t,n,s)=>e.getFixedT(t,n,s),bl=(e,t,n,s)=>f.useCallback(ma(e,t,n,s),[e,t,n,s]),he=(e,t={})=>{const{i18n:n}=t,{i18n:s,defaultNS:a}=f.useContext(ua)||{},i=n||s||gl();if(i&&!i.reportNamespaces&&(i.reportNamespaces=new xl),!i){mn(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const T=(j,L)=>gt(L)?L:ll(L)&&gt(L.defaultValue)?L.defaultValue:Array.isArray(j)?j[j.length-1]:j,v=[T,{},!1];return v.t=T,v.i18n={},v.ready=!1,v}i.options.react?.wait&&mn(i,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const o={...pl(),...i.options.react,...t},{useSuspense:l,keyPrefix:c}=o;let d=a||i.options?.defaultNS;d=gt(d)?[d]:d||["translation"],i.reportNamespaces.addUsedNamespaces?.(d);const u=(i.isInitialized||i.initializedStoreOnce)&&d.every(T=>ol(T,i,o)),h=bl(i,t.lng||null,o.nsMode==="fallback"?d:d[0],c),m=()=>h,p=()=>ma(i,t.lng||null,o.nsMode==="fallback"?d:d[0],c),[g,b]=f.useState(m);let P=d.join();t.lng&&(P=`${t.lng}${P}`);const D=vl(P),S=f.useRef(!0);f.useEffect(()=>{const{bindI18n:T,bindI18nStore:v}=o;S.current=!0,!u&&!l&&(t.lng?ts(i,t.lng,d,()=>{S.current&&b(p)}):hn(i,d,()=>{S.current&&b(p)})),u&&D&&D!==P&&S.current&&b(p);const j=()=>{S.current&&b(p)};return T&&i?.on(T,j),v&&i?.store.on(v,j),()=>{S.current=!1,i&&T&&T?.split(" ").forEach(L=>i.off(L,j)),v&&i&&v.split(" ").forEach(L=>i.store.off(L,j))}},[i,P]),f.useEffect(()=>{S.current&&u&&b(m)},[i,c,u]);const N=[g,i,u];if(N.t=g,N.i18n=i,N.ready=u,u||!u&&!l)return N;throw new Promise(T=>{t.lng?ts(i,t.lng,d,()=>T()):hn(i,d,()=>T())})};function wl({i18n:e,defaultNS:t,children:n}){const s=f.useMemo(()=>({i18n:e,defaultNS:t}),[e,t]);return f.createElement(ua.Provider,{value:s},n)}function Sl(){const{t:e}=he(),t=Ee(),[n,s]=f.useState(""),[a,i]=f.useState([]),[o,l]=f.useState(!1),c=f.useRef(null),d=f.useRef(null);console.log(n),f.useEffect(()=>{function g(b){d.current&&!d.current.contains(b.target)&&l(!1)}return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[d]);const u=g=>{const b=g.target.value;i([]),s(b),b==="ZenshinAdmin@2024!PowerMode"&&(R.success("🛡️ Admin Access Granted!",{description:"Redirecting to admin panel...",duration:1500}),setTimeout(()=>{t("/admin"),s(""),l(!1)},1500))},[h,m]=f.useState(!1),p=f.useCallback(async function(b){if(b){m(!0);const P=await Qo(b);m(!1),i(P)}else{R.error(e("searchBar.invalidQuery"),{icon:r.jsx(ur,{height:"16",width:"16",color:"#ffffff"}),description:e("searchBar.enterValidQuery"),classNames:{title:"text-rose-500"}});return}},[e]);return console.log(a),f.useEffect(()=>{const g=b=>{b.key==="Enter"&&c.current===document.activeElement&&p(n),b.ctrlKey&&b.key==="k"&&(b.preventDefault(),c.current.select(),c.current.focus())};return document.addEventListener("keydown",g),()=>{document.removeEventListener("keydown",g)}},[p,n]),r.jsxs("div",{ref:d,className:"relative",children:[r.jsxs(li,{placeholder:e("searchBar.placeholder"),onInput:u,ref:c,type:"text",value:n,onFocus:()=>l(!0),children:[r.jsx(Kn,{children:r.jsx(ur,{height:"16",width:"16"})}),r.jsxs(Kn,{className:"transition-all duration-100 ease-in-out hover:cursor-pointer hover:bg-[#5a5e6750]",onClick:()=>p(n),children:[r.jsx(Yn,{size:"1",color:"gray",variant:"outline",children:"ctrl"}),r.jsx(Yn,{size:"1",color:"gray",variant:"outline",children:"k"})]})]}),o&&r.jsxs("div",{className:"absolute mt-2 flex w-full animate-fade-down flex-col justify-center animate-duration-[400ms]",children:[h&&r.jsx("div",{className:"flex flex-col items-center justify-center gap-y-5",children:r.jsx(ea,{})}),a?.map(g=>r.jsx(Ho,{data:g,setIsActive:l},g.id))]})]})}const ha="/zenshin/assets/zenshinLogo-9sXGGHse.png",pa=f.createContext();function Ar(){const e=f.useContext(pa);if(e===void 0)throw new Error("useZenshinContext must be used within a ZenshinProvider");return e}function jl({children:e}){const[t,n]=f.useState(!1);return r.jsx(pa.Provider,{value:{glow:t,setGlow:n},children:e})}const br="zenshin_secure_key_2024",kl=e=>{try{let t="";for(let n=0;n<e.length;n++){const s=e.charCodeAt(n)^br.charCodeAt(n%br.length);t+=String.fromCharCode(s)}return btoa(t)}catch(t){return console.error("Encryption error:",t),null}},Nl=e=>{try{const t=atob(e);let n="";for(let s=0;s<t.length;s++){const a=t.charCodeAt(s)^br.charCodeAt(s%br.length);n+=String.fromCharCode(a)}return n}catch(t){return console.error("Decryption error:",t),null}},fa=(e,t)=>{try{const n=kl(t),s={username:e,encryptedPassword:n,timestamp:Date.now()};localStorage.setItem("zenshin_remembered_user",JSON.stringify(s)),console.log("✓ Credentials saved securely")}catch(n){console.error("Error saving credentials:",n)}},El=()=>{try{const e=localStorage.getItem("zenshin_remembered_user");if(!e)return null;const t=JSON.parse(e),n=30*24*60*60*1e3;return Date.now()-t.timestamp>n?(Cn(),null):{username:t.username,password:Nl(t.encryptedPassword)}}catch(e){return console.error("Error getting saved credentials:",e),null}},Cn=()=>{try{localStorage.removeItem("zenshin_remembered_user"),console.log("✓ Credentials cleared")}catch(e){console.error("Error clearing credentials:",e)}},Pl=()=>!!localStorage.getItem("zenshin_remembered_user"),ga=f.createContext(null),Tl=({children:e})=>{const[t,n]=f.useState(null),[s,a]=f.useState(!0),[i,o]=f.useState(!1);f.useEffect(()=>{(async()=>{const p=localStorage.getItem("auth_token"),g=localStorage.getItem("user_data");if(p&&g)try{n(JSON.parse(g)),o(!0);const b=await St.getProfile();n(b.data.data),localStorage.setItem("user_data",JSON.stringify(b.data.data))}catch{d()}a(!1)})()},[]);const l=async(m,p)=>{try{const g=await Xr.login({identifier:m,password:p}),{token:b,...P}=g.data.data;return localStorage.setItem("auth_token",b),localStorage.setItem("user_data",JSON.stringify(P)),n(P),o(!0),R.success("Giriş başarılı!",{description:`Hoş geldin, ${P.username}!`}),{success:!0}}catch(g){const b=g.response?.data?.message||"Giriş başarısız";return R.error("Giriş Hatası",{description:b}),{success:!1,message:b}}},c=async(m,p,g)=>{try{const b=await Xr.register({username:m,email:p,password:g}),{token:P,...D}=b.data.data;return localStorage.setItem("auth_token",P),localStorage.setItem("user_data",JSON.stringify(D)),n(D),o(!0),R.success("Kayıt başarılı!",{description:`Hoş geldin, ${D.username}!`}),{success:!0}}catch(b){const P=b.response?.data?.message||"Kayıt başarısız";return R.error("Kayıt Hatası",{description:P}),{success:!1,message:P}}},d=async(m=!1)=>{try{await Xr.logout()}catch(p){console.error("Logout error:",p)}finally{localStorage.removeItem("auth_token"),localStorage.removeItem("user_data"),m?(Cn(),console.log("🗑️ Cleared remembered credentials")):Pl()&&console.log("💾 Kept remembered credentials for next login"),n(null),o(!1),R.success("Çıkış yapıldı")}},h={user:t,loading:s,isAuthenticated:i,login:l,register:c,logout:d,updateUser:m=>{n(m),localStorage.setItem("user_data",JSON.stringify(m))}};return r.jsx(ga.Provider,{value:h,children:e})},$e=()=>{const e=f.useContext(ga);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};function Cl({theme:e}){const{t,i18n:n}=he(),{user:s,isAuthenticated:a,logout:i}=$e(),o=Ar();function l(){o.setGlow(!o.glow)}return r.jsxs("div",{className:"sticky top-0 z-20 flex h-12 items-center justify-between border-[#5a5e6750] bg-[#111113] bg-opacity-60 px-4 py-3 backdrop-blur-md",children:[r.jsxs("div",{className:"flex items-center justify-center gap-x-2",children:[r.jsx(we,{className:"hover: font-spaceMono flex w-fit cursor-pointer select-none gap-x-2 rounded-sm p-1 text-sm transition-all duration-200 hover:bg-[#70707030]",to:"/",children:r.jsx("img",{src:ha,alt:"",className:"w-16"})}),r.jsx(er,{width:20,height:20,color:"#ffffff40"}),r.jsx("a",{href:"https://github.com/hitarth-gg",target:"_blank",rel:"noreferrer",children:r.jsx(X,{color:"gray",variant:"ghost",size:"1",children:r.jsx(ci,{className:"my-1",width:17,height:17})})}),r.jsx(er,{width:20,height:20,color:"#ffffff40"}),r.jsx(X,{color:"gray",variant:"ghost",size:"1",children:r.jsx(we,{to:"/newreleases",children:r.jsx("div",{className:"p-1 font-space-mono text-[.8rem]",children:t("header.newReleases")})})}),r.jsx(er,{width:20,height:20,color:"#ffffff40"}),r.jsx(X,{color:"gray",variant:"ghost",size:"1",children:r.jsx(we,{to:"/browse",children:r.jsx("div",{className:"p-1 font-space-mono text-[.8rem]",children:t("header.browseAnime")})})}),r.jsx(er,{width:20,height:20,color:"#ffffff40"}),r.jsx(ht,{content:t("header.downloads")||"Active Downloads",children:r.jsx(X,{color:"gray",variant:"ghost",size:"1",children:r.jsx(we,{to:"/downloads",children:r.jsx(Bt,{className:"my-1",width:16,height:16})})})})]}),r.jsx("div",{className:"w-2/6",children:r.jsx(Sl,{})}),r.jsxs("div",{className:"flex items-center justify-center gap-x-8",children:[!a&&r.jsx(we,{to:"/login",children:r.jsxs(X,{color:"gray",variant:"ghost",size:"1",children:[r.jsx(mr,{className:"my-1",width:16,height:16}),r.jsx("span",{className:"ml-1",children:t("auth.login")})]})}),a&&s&&r.jsxs(hr,{modal:!1,children:[r.jsx(pr,{children:r.jsxs(X,{variant:"ghost",color:"gray",children:[r.jsxs("div",{className:"flex animate-fade items-center gap-x-2",children:[r.jsx("img",{src:s.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.username}`,alt:"avatar",className:"h-6 w-6 rounded-full"}),r.jsx("div",{className:"font-space-mono text-[.8rem]",children:s.username})]}),r.jsx(fr,{})]})}),r.jsxs(gr,{children:[r.jsx(nt,{asChild:!0,children:r.jsx(we,{to:"/profile",children:t("profile.myProfile")})}),r.jsx(nt,{asChild:!0,children:r.jsx(we,{to:"/edit-profile",children:t("profile.editProfile")})}),r.jsx(di,{}),r.jsx(nt,{color:"red",onClick:i,children:t("auth.logout")})]})]}),r.jsx(we,{target:"_blank",to:"https://github.com/hitarth-gg/zenshin",children:r.jsx(X,{color:"gray",variant:"ghost",size:"1",children:r.jsx("div",{className:"p-1 text-[.8rem]",children:t("header.howToUse")})})}),r.jsxs(hr,{modal:!1,children:[r.jsx(pr,{children:r.jsxs(X,{color:"gray",variant:"ghost",size:"1",children:[t("header.language"),r.jsx(fr,{})]})}),r.jsxs(gr,{children:[r.jsx(nt,{onClick:()=>n.changeLanguage("en"),children:"English"}),r.jsx(nt,{onClick:()=>n.changeLanguage("tr"),children:"Türkçe"})]})]}),r.jsx(X,{color:"gray",variant:"ghost",size:"1",onClick:()=>l(),children:o.glow?r.jsx(ui,{className:"my-1",width:16,height:16}):r.jsx(mi,{className:"my-1",width:16,height:16})})]})]})}var rs=typeof window<"u"&&new class{constructor(){this.raf=e=>{requestAnimationFrame(this.raf);const t=e-this.now;this.now=e;for(let n=0;n<this.callbacks.length;n++)this.callbacks[n].callback(e,t)},this.callbacks=[],this.now=performance.now(),requestAnimationFrame(this.raf)}add(e,t=0){return this.callbacks.push({callback:e,priority:t}),this.callbacks.sort((n,s)=>n.priority-s.priority),()=>this.remove(e)}remove(e){this.callbacks=this.callbacks.filter(({callback:t})=>e!==t)}};function Al(e,t=0){f.useEffect(()=>{if(e)return rs.add(e,t),()=>rs.remove(e)},[e,t])}function ya(e,t,n){return Math.max(e,Math.min(t,n))}class Rl{advance(t){if(!this.isRunning)return;let n=!1;if(this.lerp)this.value=(s=this.value,a=this.to,i=60*this.lerp,o=t,function(l,c,d){return(1-d)*l+d*c}(s,a,1-Math.exp(-i*o))),Math.round(this.value)===this.to&&(this.value=this.to,n=!0);else{this.currentTime+=t;const l=ya(0,this.currentTime/this.duration,1);n=l>=1;const c=n?1:this.easing(l);this.value=this.from+(this.to-this.from)*c}var s,a,i,o;this.onUpdate?.(this.value,n),n&&this.stop()}stop(){this.isRunning=!1}fromTo(t,n,{lerp:s=.1,duration:a=1,easing:i=c=>c,onStart:o,onUpdate:l}){this.from=this.value=t,this.to=n,this.lerp=s,this.duration=a,this.easing=i,this.currentTime=0,this.isRunning=!0,o?.(),this.onUpdate=l}}class _l{constructor({wrapper:t,content:n,autoResize:s=!0,debounce:a=250}={}){et(this,"resize",()=>{this.onWrapperResize(),this.onContentResize()});et(this,"onWrapperResize",()=>{this.wrapper===window?(this.width=window.innerWidth,this.height=window.innerHeight):(this.width=this.wrapper.clientWidth,this.height=this.wrapper.clientHeight)});et(this,"onContentResize",()=>{this.wrapper===window?(this.scrollHeight=this.content.scrollHeight,this.scrollWidth=this.content.scrollWidth):(this.scrollHeight=this.wrapper.scrollHeight,this.scrollWidth=this.wrapper.scrollWidth)});this.wrapper=t,this.content=n,s&&(this.debouncedResize=function(i,o){let l;return function(){let c=arguments,d=this;clearTimeout(l),l=setTimeout(function(){i.apply(d,c)},o)}}(this.resize,a),this.wrapper===window?window.addEventListener("resize",this.debouncedResize,!1):(this.wrapperResizeObserver=new ResizeObserver(this.debouncedResize),this.wrapperResizeObserver.observe(this.wrapper)),this.contentResizeObserver=new ResizeObserver(this.debouncedResize),this.contentResizeObserver.observe(this.content)),this.resize()}destroy(){this.wrapperResizeObserver?.disconnect(),this.contentResizeObserver?.disconnect(),window.removeEventListener("resize",this.debouncedResize,!1)}get limit(){return{x:this.scrollWidth-this.width,y:this.scrollHeight-this.height}}}class xa{constructor(){this.events={}}emit(t,...n){let s=this.events[t]||[];for(let a=0,i=s.length;a<i;a++)s[a](...n)}on(t,n){return this.events[t]?.push(n)||(this.events[t]=[n]),()=>{this.events[t]=this.events[t]?.filter(s=>n!==s)}}off(t,n){this.events[t]=this.events[t]?.filter(s=>n!==s)}destroy(){this.events={}}}const ns=100/6;class Ll{constructor(t,{wheelMultiplier:n=1,touchMultiplier:s=1}){et(this,"onTouchStart",t=>{const{clientX:n,clientY:s}=t.targetTouches?t.targetTouches[0]:t;this.touchStart.x=n,this.touchStart.y=s,this.lastDelta={x:0,y:0},this.emitter.emit("scroll",{deltaX:0,deltaY:0,event:t})});et(this,"onTouchMove",t=>{const{clientX:n,clientY:s}=t.targetTouches?t.targetTouches[0]:t,a=-(n-this.touchStart.x)*this.touchMultiplier,i=-(s-this.touchStart.y)*this.touchMultiplier;this.touchStart.x=n,this.touchStart.y=s,this.lastDelta={x:a,y:i},this.emitter.emit("scroll",{deltaX:a,deltaY:i,event:t})});et(this,"onTouchEnd",t=>{this.emitter.emit("scroll",{deltaX:this.lastDelta.x,deltaY:this.lastDelta.y,event:t})});et(this,"onWheel",t=>{let{deltaX:n,deltaY:s,deltaMode:a}=t;n*=a===1?ns:a===2?this.windowWidth:1,s*=a===1?ns:a===2?this.windowHeight:1,n*=this.wheelMultiplier,s*=this.wheelMultiplier,this.emitter.emit("scroll",{deltaX:n,deltaY:s,event:t})});et(this,"onWindowResize",()=>{this.windowWidth=window.innerWidth,this.windowHeight=window.innerHeight});this.element=t,this.wheelMultiplier=n,this.touchMultiplier=s,this.touchStart={x:null,y:null},this.emitter=new xa,window.addEventListener("resize",this.onWindowResize,!1),this.onWindowResize(),this.element.addEventListener("wheel",this.onWheel,{passive:!1}),this.element.addEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.addEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.addEventListener("touchend",this.onTouchEnd,{passive:!1})}on(t,n){return this.emitter.on(t,n)}destroy(){this.emitter.destroy(),window.removeEventListener("resize",this.onWindowResize,!1),this.element.removeEventListener("wheel",this.onWheel,{passive:!1}),this.element.removeEventListener("touchstart",this.onTouchStart,{passive:!1}),this.element.removeEventListener("touchmove",this.onTouchMove,{passive:!1}),this.element.removeEventListener("touchend",this.onTouchEnd,{passive:!1})}}class Ol{constructor({wrapper:t=window,content:n=document.documentElement,wheelEventsTarget:s=t,eventsTarget:a=s,smoothWheel:i=!0,syncTouch:o=!1,syncTouchLerp:l=.075,touchInertiaMultiplier:c=35,duration:d,easing:u=N=>Math.min(1,1.001-Math.pow(2,-10*N)),lerp:h=!d&&.1,infinite:m=!1,orientation:p="vertical",gestureOrientation:g="vertical",touchMultiplier:b=1,wheelMultiplier:P=1,autoResize:D=!0,__experimental__naiveDimensions:S=!1}={}){this.__isSmooth=!1,this.__isScrolling=!1,this.__isStopped=!1,this.__isLocked=!1,this.onVirtualScroll=({deltaX:N,deltaY:T,event:v})=>{if(v.ctrlKey)return;const j=v.type.includes("touch"),L=v.type.includes("wheel");if(this.options.syncTouch&&j&&v.type==="touchstart"&&!this.isStopped&&!this.isLocked)return void this.reset();const $=N===0&&T===0,O=this.options.gestureOrientation==="vertical"&&T===0||this.options.gestureOrientation==="horizontal"&&N===0;if($||O)return;let A=v.composedPath();if(A=A.slice(0,A.indexOf(this.rootElement)),A.find(E=>{var U,_,k,I,B;return((U=E.hasAttribute)===null||U===void 0?void 0:U.call(E,"data-lenis-prevent"))||j&&((_=E.hasAttribute)===null||_===void 0?void 0:_.call(E,"data-lenis-prevent-touch"))||L&&((k=E.hasAttribute)===null||k===void 0?void 0:k.call(E,"data-lenis-prevent-wheel"))||((I=E.classList)===null||I===void 0?void 0:I.contains("lenis"))&&!(!((B=E.classList)===null||B===void 0)&&B.contains("lenis-stopped"))}))return;if(this.isStopped||this.isLocked)return void v.preventDefault();if(this.isSmooth=this.options.syncTouch&&j||this.options.smoothWheel&&L,!this.isSmooth)return this.isScrolling=!1,void this.animate.stop();v.preventDefault();let W=T;this.options.gestureOrientation==="both"?W=Math.abs(T)>Math.abs(N)?T:N:this.options.gestureOrientation==="horizontal"&&(W=N);const Z=j&&this.options.syncTouch,C=j&&v.type==="touchend"&&Math.abs(W)>5;C&&(W=this.velocity*this.options.touchInertiaMultiplier),this.scrollTo(this.targetScroll+W,Object.assign({programmatic:!1},Z?{lerp:C?this.options.syncTouchLerp:1}:{lerp:this.options.lerp,duration:this.options.duration,easing:this.options.easing}))},this.onNativeScroll=()=>{if(!this.__preventNextScrollEvent&&!this.isScrolling){const N=this.animatedScroll;this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.direction=Math.sign(this.animatedScroll-N),this.emit()}},window.lenisVersion="1.0.42",t!==document.documentElement&&t!==document.body||(t=window),this.options={wrapper:t,content:n,wheelEventsTarget:s,eventsTarget:a,smoothWheel:i,syncTouch:o,syncTouchLerp:l,touchInertiaMultiplier:c,duration:d,easing:u,lerp:h,infinite:m,gestureOrientation:g,orientation:p,touchMultiplier:b,wheelMultiplier:P,autoResize:D,__experimental__naiveDimensions:S},this.animate=new Rl,this.emitter=new xa,this.dimensions=new _l({wrapper:t,content:n,autoResize:D}),this.toggleClassName("lenis",!0),this.velocity=0,this.isLocked=!1,this.isStopped=!1,this.isSmooth=o||i,this.isScrolling=!1,this.targetScroll=this.animatedScroll=this.actualScroll,this.options.wrapper.addEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll=new Ll(a,{touchMultiplier:b,wheelMultiplier:P}),this.virtualScroll.on("scroll",this.onVirtualScroll)}destroy(){this.emitter.destroy(),this.options.wrapper.removeEventListener("scroll",this.onNativeScroll,!1),this.virtualScroll.destroy(),this.dimensions.destroy(),this.toggleClassName("lenis",!1),this.toggleClassName("lenis-smooth",!1),this.toggleClassName("lenis-scrolling",!1),this.toggleClassName("lenis-stopped",!1),this.toggleClassName("lenis-locked",!1)}on(t,n){return this.emitter.on(t,n)}off(t,n){return this.emitter.off(t,n)}setScroll(t){this.isHorizontal?this.rootElement.scrollLeft=t:this.rootElement.scrollTop=t}resize(){this.dimensions.resize()}emit(){this.emitter.emit("scroll",this)}reset(){this.isLocked=!1,this.isScrolling=!1,this.animatedScroll=this.targetScroll=this.actualScroll,this.velocity=0,this.animate.stop()}start(){this.isStopped&&(this.isStopped=!1,this.reset())}stop(){this.isStopped||(this.isStopped=!0,this.animate.stop(),this.reset())}raf(t){const n=t-(this.time||t);this.time=t,this.animate.advance(.001*n)}scrollTo(t,{offset:n=0,immediate:s=!1,lock:a=!1,duration:i=this.options.duration,easing:o=this.options.easing,lerp:l=!i&&this.options.lerp,onComplete:c,force:d=!1,programmatic:u=!0}={}){if(!this.isStopped&&!this.isLocked||d){if(["top","left","start"].includes(t))t=0;else if(["bottom","right","end"].includes(t))t=this.limit;else{let h;if(typeof t=="string"?h=document.querySelector(t):t?.nodeType&&(h=t),h){if(this.options.wrapper!==window){const p=this.options.wrapper.getBoundingClientRect();n-=this.isHorizontal?p.left:p.top}const m=h.getBoundingClientRect();t=(this.isHorizontal?m.left:m.top)+this.animatedScroll}}if(typeof t=="number"){if(t+=n,t=Math.round(t),this.options.infinite?u&&(this.targetScroll=this.animatedScroll=this.scroll):t=ya(0,t,this.limit),s)return this.animatedScroll=this.targetScroll=t,this.setScroll(this.scroll),this.reset(),void(c==null||c(this));if(!u){if(t===this.targetScroll)return;this.targetScroll=t}this.animate.fromTo(this.animatedScroll,t,{duration:i,easing:o,lerp:l,onStart:()=>{a&&(this.isLocked=!0),this.isScrolling=!0},onUpdate:(h,m)=>{this.isScrolling=!0,this.velocity=h-this.animatedScroll,this.direction=Math.sign(this.velocity),this.animatedScroll=h,this.setScroll(this.scroll),u&&(this.targetScroll=h),m||this.emit(),m&&(this.reset(),this.emit(),c?.(this),this.__preventNextScrollEvent=!0,requestAnimationFrame(()=>{delete this.__preventNextScrollEvent}))}})}}}get rootElement(){return this.options.wrapper===window?document.documentElement:this.options.wrapper}get limit(){return this.options.__experimental__naiveDimensions?this.isHorizontal?this.rootElement.scrollWidth-this.rootElement.clientWidth:this.rootElement.scrollHeight-this.rootElement.clientHeight:this.dimensions.limit[this.isHorizontal?"x":"y"]}get isHorizontal(){return this.options.orientation==="horizontal"}get actualScroll(){return this.isHorizontal?this.rootElement.scrollLeft:this.rootElement.scrollTop}get scroll(){return this.options.infinite?(t=this.animatedScroll,n=this.limit,(t%n+n)%n):this.animatedScroll;var t,n}get progress(){return this.limit===0?1:this.scroll/this.limit}get isSmooth(){return this.__isSmooth}set isSmooth(t){this.__isSmooth!==t&&(this.__isSmooth=t,this.toggleClassName("lenis-smooth",t))}get isScrolling(){return this.__isScrolling}set isScrolling(t){this.__isScrolling!==t&&(this.__isScrolling=t,this.toggleClassName("lenis-scrolling",t))}get isStopped(){return this.__isStopped}set isStopped(t){this.__isStopped!==t&&(this.__isStopped=t,this.toggleClassName("lenis-stopped",t))}get isLocked(){return this.__isLocked}set isLocked(t){this.__isLocked!==t&&(this.__isLocked=t,this.toggleClassName("lenis-locked",t))}get className(){let t="lenis";return this.isStopped&&(t+=" lenis-stopped"),this.isLocked&&(t+=" lenis-locked"),this.isScrolling&&(t+=" lenis-scrolling"),this.isSmooth&&(t+=" lenis-smooth"),t}toggleClassName(t,n){this.rootElement.classList.toggle(t,n),this.emitter.emit("className change",this)}}function va(e){var t,n,s="";if(typeof e=="string"||typeof e=="number")s+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=va(e[t]))&&(s&&(s+=" "),s+=n)}else for(n in e)e[n]&&(s&&(s+=" "),s+=n);return s}function ss(){for(var e,t,n=0,s="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=va(e))&&(s&&(s+=" "),s+=t);return s}const Dl={},as=e=>{let t;const n=new Set,s=(u,h)=>{const m=typeof u=="function"?u(t):u;if(!Object.is(m,t)){const p=t;t=h??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(g=>g(t,p))}},a=()=>t,c={setState:s,getState:a,getInitialState:()=>d,subscribe:u=>(n.add(u),()=>n.delete(u)),destroy:()=>{(Dl?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},d=t=e(s,a,c);return c},Il=e=>e?as(e):as;var ba={exports:{}},wa={},Sa={exports:{}},ja={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Nt=f;function Ml(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var $l=typeof Object.is=="function"?Object.is:Ml,zl=Nt.useState,Fl=Nt.useEffect,Ul=Nt.useLayoutEffect,Hl=Nt.useDebugValue;function Bl(e,t){var n=t(),s=zl({inst:{value:n,getSnapshot:t}}),a=s[0].inst,i=s[1];return Ul(function(){a.value=n,a.getSnapshot=t,Qr(a)&&i({inst:a})},[e,n,t]),Fl(function(){return Qr(a)&&i({inst:a}),e(function(){Qr(a)&&i({inst:a})})},[e]),Hl(n),n}function Qr(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!$l(e,n)}catch{return!0}}function Vl(e,t){return t()}var Wl=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Vl:Bl;ja.useSyncExternalStore=Nt.useSyncExternalStore!==void 0?Nt.useSyncExternalStore:Wl;Sa.exports=ja;var Kl=Sa.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rr=f,Yl=Kl;function ql(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Gl=typeof Object.is=="function"?Object.is:ql,Xl=Yl.useSyncExternalStore,Ql=Rr.useRef,Jl=Rr.useEffect,Zl=Rr.useMemo,ec=Rr.useDebugValue;wa.useSyncExternalStoreWithSelector=function(e,t,n,s,a){var i=Ql(null);if(i.current===null){var o={hasValue:!1,value:null};i.current=o}else o=i.current;i=Zl(function(){function c(p){if(!d){if(d=!0,u=p,p=s(p),a!==void 0&&o.hasValue){var g=o.value;if(a(g,p))return h=g}return h=p}if(g=h,Gl(u,p))return g;var b=s(p);return a!==void 0&&a(g,b)?g:(u=p,h=b)}var d=!1,u,h,m=n===void 0?null:n;return[function(){return c(t())},m===null?void 0:function(){return c(m())}]},[t,n,s,a]);var l=Xl(e,i[0],i[1]);return Jl(function(){o.hasValue=!0,o.value=l},[l]),ec(l),l};ba.exports=wa;var tc=ba.exports;const rc=sa(tc),ka={},{useDebugValue:nc}=M,{useSyncExternalStoreWithSelector:sc}=rc;let is=!1;const ac=e=>e;function ic(e,t=ac,n){(ka?"production":void 0)!=="production"&&n&&!is&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),is=!0);const s=sc(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return nc(s),s}const os=e=>{(ka?"production":void 0)!=="production"&&typeof e!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const t=typeof e=="function"?Il(e):e,n=(s,a)=>ic(t,s,a);return Object.assign(n,t),n},oc=e=>e?os(e):os;typeof window<"u"&&(window.reactLenisVersion="0.0.47");const lc=f.createContext(null),cc=oc(()=>({})),dc=f.forwardRef((e,t)=>{var{children:n,root:s=!1,options:a={},autoRaf:i=!0,rafPriority:o=0,className:l}=e,c=function(S,N){var T={};for(var v in S)Object.prototype.hasOwnProperty.call(S,v)&&N.indexOf(v)<0&&(T[v]=S[v]);if(S!=null&&typeof Object.getOwnPropertySymbols=="function"){var j=0;for(v=Object.getOwnPropertySymbols(S);j<v.length;j++)N.indexOf(v[j])<0&&Object.prototype.propertyIsEnumerable.call(S,v[j])&&(T[v[j]]=S[v[j]])}return T}(e,["children","root","options","autoRaf","rafPriority","className"]);const d=f.useRef(null),u=f.useRef(null),[h,m]=f.useState(void 0),p=f.useRef([]),g=f.useCallback((S,N)=>{p.current.push({callback:S,priority:N}),p.current.sort((T,v)=>T.priority-v.priority)},[]),b=f.useCallback(S=>{p.current=p.current.filter(N=>N.callback!==S)},[]);f.useImperativeHandle(t,()=>({wrapper:d.current,content:u.current,lenis:h}),[h]),f.useEffect(()=>{const S=new Ol(Object.assign(Object.assign({},a),!s&&{wrapper:d.current,content:u.current}));return m(S),()=>{S.destroy(),m(void 0)}},[s,JSON.stringify(a)]),Al(S=>{i&&h?.raf(S)},o),f.useEffect(()=>{s&&h&&cc.setState({lenis:h,addCallback:g,removeCallback:b})},[s,h,g,b]);const P=f.useCallback(S=>{for(let N=0;N<p.current.length;N++)p.current[N].callback(S)},[]);f.useEffect(()=>(h?.on("scroll",P),()=>{h?.off("scroll",P)}),[h,P]);const D=f.useCallback(()=>{d.current&&(d.current.className=ss(h?.className,l))},[h,l]);return f.useEffect(()=>(D(),h?.on("className change",D),()=>{h?.off("className change",D)}),[h,D]),M.createElement(lc.Provider,{value:{lenis:h,addCallback:g,removeCallback:b}},s?n:M.createElement("div",Object.assign({ref:d,className:ss(h?.className,l)},c),M.createElement("div",{ref:u},n)))});function ls({props:e}){const t=bi(),n=t.state==="loading",[s,a]=f.useState("dark"),i=Ee();return f.useEffect(()=>(document.addEventListener("keydown",o=>{o.altKey&&o.key==="ArrowLeft"&&i(-1),o.altKey&&o.key==="ArrowRight"&&i(1)}),()=>{document.removeEventListener("keydown",()=>{})}),[t]),r.jsx(dc,{root:!0,options:{lerp:.15},children:r.jsxs(hi,{appearance:s,children:[r.jsx(mo,{theme:s,unstyled:!1,toastOptions:{classNames:{error:"bg-[#1c1317] border border-rose-500",success:"bg-[#131c16] border border-green-500",icon:"opacity-80",description:"font-space-mono text-white opacity-90"}}}),r.jsxs("div",{className:"layout flex flex-col font-inter",children:[n&&r.jsx(la,{}),r.jsx(Cl,{}),r.jsx("main",{className:"",children:e||r.jsx(wi,{})})]})]})})}function fn({data:e}){const{t,i18n:n}=he(),s=Ee();function a(){s(`/anime/${e.id}`,{state:{data:e}})}const i=Ar(),{glow:o}=i,l=e?.startDate?new Date(e.startDate.year,e.startDate.month-1,e.startDate.day):null,c=e?.mediaListEntry?.status,d=n.language==="tr"?Yt:ia;return r.jsxs("div",{onClick:()=>a(),className:"group relative mt-6 flex w-48 cursor-pointer flex-col items-center justify-center gap-y-2 transition-all ease-in-out hover:scale-110",children:[r.jsx("img",{src:e?.coverImage?.extraLarge,alt:"",loading:"lazy",decoding:"async",className:"duration-400 z-10 h-60 w-40 animate-fade rounded-sm object-cover transition-all ease-in-out"}),r.jsxs("div",{className:"flex w-[85%] flex-col gap-y-1",children:[r.jsx("div",{className:"z-10 line-clamp-2 h-11 w-full text-sm font-medium opacity-90",children:e?.title?.romaji}),r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsxs("div",{className:"flex items-center gap-x-2",children:[r.jsx("p",{className:"text-nowrap opacity-60",children:l&&Tr(new Date(l),"MMMM yyyy",{locale:d})}),c==="CURRENT"&&r.jsx(ht,{content:t("animeCard.watching"),children:r.jsx("p",{className:"h-2 w-2 rounded-full bg-blue-500"})}),c==="PLANNING"&&r.jsx(ht,{content:t("animeCard.planning"),children:r.jsx("p",{className:"h-2 w-2 rounded-full bg-gray-400"})}),c==="COMPLETED"&&r.jsx(ht,{content:t("animeCard.completed"),children:r.jsx("p",{className:"h-2 w-2 rounded-full bg-green-500"})}),c==="DROPPED"&&r.jsx(ht,{content:t("animeCard.dropped"),children:r.jsx("p",{className:"h-2 w-2 rounded-full bg-red-700"})}),c==="PAUSED"&&r.jsx(ht,{content:t("animeCard.paused"),children:r.jsx("p",{className:"h-2 w-2 rounded-full bg-orange-500"})})]}),r.jsx("p",{className:"opacity-60",children:e.format?e.format.slice(0,3):""})]}),r.jsx("div",{})]}),o&&r.jsx("img",{src:e?.coverImage?.extraLarge,alt:"",className:"duration-500 absolute top-0 z-0 h-60 w-40 rounded-md object-cover opacity-0 blur-2xl contrast-200 saturate-200 transition-all ease-in-out group-hover:opacity-70"})]})}function uc(){const{isLoading:e,data:t,error:n,status:s}=Me({queryKey:["top_airing_anime"],queryFn:Jo,staleTime:6e5});return{isLoading:e,topAiringAnime:t,error:n,status:s}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */var gn=function(e,t){return gn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var a in s)s.hasOwnProperty(a)&&(n[a]=s[a])},gn(e,t)};function mc(e,t){gn(e,t);function n(){this.constructor=e}e.prototype=t===null?Object.create(t):(n.prototype=t.prototype,new n)}var Mt=function(){return Mt=Object.assign||function(t){for(var n,s=1,a=arguments.length;s<a;s++){n=arguments[s];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Mt.apply(this,arguments)};function hc(e,t,n,s){var a,i=!1,o=0;function l(){a&&clearTimeout(a)}function c(){l(),i=!0}typeof t!="boolean"&&(s=n,n=t,t=void 0);function d(){var u=this,h=Date.now()-o,m=arguments;if(i)return;function p(){o=Date.now(),n.apply(u,m)}function g(){a=void 0}s&&!a&&p(),l(),s===void 0&&h>e?p():t!==!0&&(a=setTimeout(s?g:p,s===void 0?e-h:e))}return d.cancel=c,d}var kt={Pixel:"Pixel",Percent:"Percent"},cs={unit:kt.Percent,value:.8};function ds(e){return typeof e=="number"?{unit:kt.Percent,value:e*100}:typeof e=="string"?e.match(/^(\d*(\.\d+)?)px$/)?{unit:kt.Pixel,value:parseFloat(e)}:e.match(/^(\d*(\.\d+)?)%$/)?{unit:kt.Percent,value:parseFloat(e)}:(console.warn('scrollThreshold format is invalid. Valid formats: "120px", "50%"...'),cs):(console.warn("scrollThreshold should be string or number"),cs)}var pc=function(e){mc(t,e);function t(n){var s=e.call(this,n)||this;return s.lastScrollTop=0,s.actionTriggered=!1,s.startY=0,s.currentY=0,s.dragging=!1,s.maxPullDownDistance=0,s.getScrollableTarget=function(){return s.props.scrollableTarget instanceof HTMLElement?s.props.scrollableTarget:typeof s.props.scrollableTarget=="string"?document.getElementById(s.props.scrollableTarget):(s.props.scrollableTarget===null&&console.warn(`You are trying to pass scrollableTarget but it is null. This might
        happen because the element may not have been added to DOM yet.
        See https://github.com/ankeetmaini/react-infinite-scroll-component/issues/59 for more info.
      `),null)},s.onStart=function(a){s.lastScrollTop||(s.dragging=!0,a instanceof MouseEvent?s.startY=a.pageY:a instanceof TouchEvent&&(s.startY=a.touches[0].pageY),s.currentY=s.startY,s._infScroll&&(s._infScroll.style.willChange="transform",s._infScroll.style.transition="transform 0.2s cubic-bezier(0,0,0.31,1)"))},s.onMove=function(a){s.dragging&&(a instanceof MouseEvent?s.currentY=a.pageY:a instanceof TouchEvent&&(s.currentY=a.touches[0].pageY),!(s.currentY<s.startY)&&(s.currentY-s.startY>=Number(s.props.pullDownToRefreshThreshold)&&s.setState({pullToRefreshThresholdBreached:!0}),!(s.currentY-s.startY>s.maxPullDownDistance*1.5)&&s._infScroll&&(s._infScroll.style.overflow="visible",s._infScroll.style.transform="translate3d(0px, "+(s.currentY-s.startY)+"px, 0px)")))},s.onEnd=function(){s.startY=0,s.currentY=0,s.dragging=!1,s.state.pullToRefreshThresholdBreached&&(s.props.refreshFunction&&s.props.refreshFunction(),s.setState({pullToRefreshThresholdBreached:!1})),requestAnimationFrame(function(){s._infScroll&&(s._infScroll.style.overflow="auto",s._infScroll.style.transform="none",s._infScroll.style.willChange="unset")})},s.onScrollListener=function(a){typeof s.props.onScroll=="function"&&setTimeout(function(){return s.props.onScroll&&s.props.onScroll(a)},0);var i=s.props.height||s._scrollableNode?a.target:document.documentElement.scrollTop?document.documentElement:document.body;if(!s.actionTriggered){var o=s.props.inverse?s.isElementAtTop(i,s.props.scrollThreshold):s.isElementAtBottom(i,s.props.scrollThreshold);o&&s.props.hasMore&&(s.actionTriggered=!0,s.setState({showLoader:!0}),s.props.next&&s.props.next()),s.lastScrollTop=i.scrollTop}},s.state={showLoader:!1,pullToRefreshThresholdBreached:!1,prevDataLength:n.dataLength},s.throttledOnScrollListener=hc(150,s.onScrollListener).bind(s),s.onStart=s.onStart.bind(s),s.onMove=s.onMove.bind(s),s.onEnd=s.onEnd.bind(s),s}return t.prototype.componentDidMount=function(){if(typeof this.props.dataLength>"u")throw new Error('mandatory prop "dataLength" is missing. The prop is needed when loading more content. Check README.md for usage');if(this._scrollableNode=this.getScrollableTarget(),this.el=this.props.height?this._infScroll:this._scrollableNode||window,this.el&&this.el.addEventListener("scroll",this.throttledOnScrollListener),typeof this.props.initialScrollY=="number"&&this.el&&this.el instanceof HTMLElement&&this.el.scrollHeight>this.props.initialScrollY&&this.el.scrollTo(0,this.props.initialScrollY),this.props.pullDownToRefresh&&this.el&&(this.el.addEventListener("touchstart",this.onStart),this.el.addEventListener("touchmove",this.onMove),this.el.addEventListener("touchend",this.onEnd),this.el.addEventListener("mousedown",this.onStart),this.el.addEventListener("mousemove",this.onMove),this.el.addEventListener("mouseup",this.onEnd),this.maxPullDownDistance=this._pullDown&&this._pullDown.firstChild&&this._pullDown.firstChild.getBoundingClientRect().height||0,this.forceUpdate(),typeof this.props.refreshFunction!="function"))throw new Error(`Mandatory prop "refreshFunction" missing.
          Pull Down To Refresh functionality will not work
          as expected. Check README.md for usage'`)},t.prototype.componentWillUnmount=function(){this.el&&(this.el.removeEventListener("scroll",this.throttledOnScrollListener),this.props.pullDownToRefresh&&(this.el.removeEventListener("touchstart",this.onStart),this.el.removeEventListener("touchmove",this.onMove),this.el.removeEventListener("touchend",this.onEnd),this.el.removeEventListener("mousedown",this.onStart),this.el.removeEventListener("mousemove",this.onMove),this.el.removeEventListener("mouseup",this.onEnd)))},t.prototype.componentDidUpdate=function(n){this.props.dataLength!==n.dataLength&&(this.actionTriggered=!1,this.setState({showLoader:!1}))},t.getDerivedStateFromProps=function(n,s){var a=n.dataLength!==s.prevDataLength;return a?Mt(Mt({},s),{prevDataLength:n.dataLength}):null},t.prototype.isElementAtTop=function(n,s){s===void 0&&(s=.8);var a=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=ds(s);return i.unit===kt.Pixel?n.scrollTop<=i.value+a-n.scrollHeight+1:n.scrollTop<=i.value/100+a-n.scrollHeight+1},t.prototype.isElementAtBottom=function(n,s){s===void 0&&(s=.8);var a=n===document.body||n===document.documentElement?window.screen.availHeight:n.clientHeight,i=ds(s);return i.unit===kt.Pixel?n.scrollTop+a>=n.scrollHeight-i.value:n.scrollTop+a>=i.value/100*n.scrollHeight},t.prototype.render=function(){var n=this,s=Mt({height:this.props.height||"auto",overflow:"auto",WebkitOverflowScrolling:"touch"},this.props.style),a=this.props.hasChildren||!!(this.props.children&&this.props.children instanceof Array&&this.props.children.length),i=this.props.pullDownToRefresh&&this.props.height?{overflow:"auto"}:{};return M.createElement("div",{style:i,className:"infinite-scroll-component__outerdiv"},M.createElement("div",{className:"infinite-scroll-component "+(this.props.className||""),ref:function(o){return n._infScroll=o},style:s},this.props.pullDownToRefresh&&M.createElement("div",{style:{position:"relative"},ref:function(o){return n._pullDown=o}},M.createElement("div",{style:{position:"absolute",left:0,right:0,top:-1*this.maxPullDownDistance}},this.state.pullToRefreshThresholdBreached?this.props.releaseToRefreshContent:this.props.pullDownToRefreshContent)),this.props.children,!this.state.showLoader&&!a&&this.props.hasMore&&this.props.loader,this.state.showLoader&&this.props.hasMore&&this.props.loader,!this.props.hasMore&&this.props.endMessage))},t}(f.Component);function ke(){return r.jsxs("div",{className:"mt-6 gap-y-2 flex w-48 cursor-pointer flex-col items-center justify-center ",children:[r.jsx(st,{as:"div",className:" h-60 w-40"}),r.jsxs("div",{className:"flex flex-col gap-y-1",children:[r.jsx(st,{as:"div",className:"h-3 mt-2 w-40"}),r.jsx(st,{as:"div",className:"h-3 w-20"})]}),r.jsxs("div",{className:"flex flex-row justify-between mt-3 w-40",children:[r.jsx(st,{as:"div",className:"h-3 w-20"}),r.jsx(st,{as:"div",className:"h-3 w-10"})]})]})}function fc(){const e=new Date().getMonth()+1;return e>=3&&e<=5?"SPRING":e>=6&&e<=9?"SUMMER":e>=9&&e<=11?"FALL":"WINTER"}var yn={},_r={},An={},Jr={},Zr={exports:{}},en,us;function gc(){if(us)return en;us=1;var e="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return en=e,en}var tn,ms;function yc(){if(ms)return tn;ms=1;var e=gc();function t(){}function n(){}return n.resetWarningCache=t,tn=function(){function s(o,l,c,d,u,h){if(h!==e){var m=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw m.name="Invariant Violation",m}}s.isRequired=s;function a(){return s}var i={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:a,element:s,elementType:s,instanceOf:a,node:s,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:n,resetWarningCache:t};return i.PropTypes=i,i},tn}var hs;function xc(){return hs||(hs=1,Zr.exports=yc()()),Zr.exports}var ps;function vc(){return ps||(ps=1,function(e){(function(t,n){n(e,f,xc())})(me,function(t,n,s){Object.defineProperty(t,"__esModule",{value:!0}),t.setHasSupportToCaptureOption=g;var a=o(n),i=o(s);function o(S){return S&&S.__esModule?S:{default:S}}var l=Object.assign||function(S){for(var N=1;N<arguments.length;N++){var T=arguments[N];for(var v in T)Object.prototype.hasOwnProperty.call(T,v)&&(S[v]=T[v])}return S};function c(S,N){var T={};for(var v in S)N.indexOf(v)>=0||Object.prototype.hasOwnProperty.call(S,v)&&(T[v]=S[v]);return T}function d(S,N){if(!(S instanceof N))throw new TypeError("Cannot call a class as a function")}var u=function(){function S(N,T){for(var v=0;v<T.length;v++){var j=T[v];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(N,j.key,j)}}return function(N,T,v){return T&&S(N.prototype,T),v&&S(N,v),N}}();function h(S,N){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return N&&(typeof N=="object"||typeof N=="function")?N:S}function m(S,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);S.prototype=Object.create(N&&N.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(S,N):S.__proto__=N)}var p=!1;function g(S){p=S}try{addEventListener("test",null,Object.defineProperty({},"capture",{get:function(){g(!0)}}))}catch{}function b(){var S=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{capture:!0};return p?S:S.capture}function P(S){if("touches"in S){var N=S.touches[0],T=N.pageX,v=N.pageY;return{x:T,y:v}}var j=S.screenX,L=S.screenY;return{x:j,y:L}}var D=function(S){m(N,S);function N(){var T;d(this,N);for(var v=arguments.length,j=Array(v),L=0;L<v;L++)j[L]=arguments[L];var $=h(this,(T=N.__proto__||Object.getPrototypeOf(N)).call.apply(T,[this].concat(j)));return $._handleSwipeStart=$._handleSwipeStart.bind($),$._handleSwipeMove=$._handleSwipeMove.bind($),$._handleSwipeEnd=$._handleSwipeEnd.bind($),$._onMouseDown=$._onMouseDown.bind($),$._onMouseMove=$._onMouseMove.bind($),$._onMouseUp=$._onMouseUp.bind($),$._setSwiperRef=$._setSwiperRef.bind($),$}return u(N,[{key:"componentDidMount",value:function(){this.swiper&&this.swiper.addEventListener("touchmove",this._handleSwipeMove,b({capture:!0,passive:!1}))}},{key:"componentWillUnmount",value:function(){this.swiper&&this.swiper.removeEventListener("touchmove",this._handleSwipeMove,b({capture:!0,passive:!1}))}},{key:"_onMouseDown",value:function(v){this.props.allowMouseEvents&&(this.mouseDown=!0,document.addEventListener("mouseup",this._onMouseUp),document.addEventListener("mousemove",this._onMouseMove),this._handleSwipeStart(v))}},{key:"_onMouseMove",value:function(v){this.mouseDown&&this._handleSwipeMove(v)}},{key:"_onMouseUp",value:function(v){this.mouseDown=!1,document.removeEventListener("mouseup",this._onMouseUp),document.removeEventListener("mousemove",this._onMouseMove),this._handleSwipeEnd(v)}},{key:"_handleSwipeStart",value:function(v){var j=P(v),L=j.x,$=j.y;this.moveStart={x:L,y:$},this.props.onSwipeStart(v)}},{key:"_handleSwipeMove",value:function(v){if(this.moveStart){var j=P(v),L=j.x,$=j.y,O=L-this.moveStart.x,A=$-this.moveStart.y;this.moving=!0;var W=this.props.onSwipeMove({x:O,y:A},v);W&&v.cancelable&&v.preventDefault(),this.movePosition={deltaX:O,deltaY:A}}}},{key:"_handleSwipeEnd",value:function(v){this.props.onSwipeEnd(v);var j=this.props.tolerance;this.moving&&this.movePosition&&(this.movePosition.deltaX<-j?this.props.onSwipeLeft(1,v):this.movePosition.deltaX>j&&this.props.onSwipeRight(1,v),this.movePosition.deltaY<-j?this.props.onSwipeUp(1,v):this.movePosition.deltaY>j&&this.props.onSwipeDown(1,v)),this.moveStart=null,this.moving=!1,this.movePosition=null}},{key:"_setSwiperRef",value:function(v){this.swiper=v,this.props.innerRef(v)}},{key:"render",value:function(){var v=this.props;v.tagName;var j=v.className,L=v.style,$=v.children;v.allowMouseEvents,v.onSwipeUp,v.onSwipeDown,v.onSwipeLeft,v.onSwipeRight,v.onSwipeStart,v.onSwipeMove,v.onSwipeEnd,v.innerRef,v.tolerance;var O=c(v,["tagName","className","style","children","allowMouseEvents","onSwipeUp","onSwipeDown","onSwipeLeft","onSwipeRight","onSwipeStart","onSwipeMove","onSwipeEnd","innerRef","tolerance"]);return a.default.createElement(this.props.tagName,l({ref:this._setSwiperRef,onMouseDown:this._onMouseDown,onTouchStart:this._handleSwipeStart,onTouchEnd:this._handleSwipeEnd,className:j,style:L},O),$)}}]),N}(n.Component);D.displayName="ReactSwipe",D.propTypes={tagName:i.default.string,className:i.default.string,style:i.default.object,children:i.default.node,allowMouseEvents:i.default.bool,onSwipeUp:i.default.func,onSwipeDown:i.default.func,onSwipeLeft:i.default.func,onSwipeRight:i.default.func,onSwipeStart:i.default.func,onSwipeMove:i.default.func,onSwipeEnd:i.default.func,innerRef:i.default.func,tolerance:i.default.number.isRequired},D.defaultProps={tagName:"div",allowMouseEvents:!1,onSwipeUp:function(){},onSwipeDown:function(){},onSwipeLeft:function(){},onSwipeRight:function(){},onSwipeStart:function(){},onSwipeMove:function(){},onSwipeEnd:function(){},innerRef:function(){},tolerance:0},t.default=D})}(Jr)),Jr}(function(e){(function(t,n){n(e,vc())})(me,function(t,n){Object.defineProperty(t,"__esModule",{value:!0});var s=a(n);function a(i){return i&&i.__esModule?i:{default:i}}t.default=s.default})})(An);var qt={};Object.defineProperty(qt,"__esModule",{value:!0});qt.default=void 0;var ot=bc(pi);function bc(e){return e&&e.__esModule?e:{default:e}}function wc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Sc={ROOT:function(t){return(0,ot.default)(wc({"carousel-root":!0},t||"",!!t))},CAROUSEL:function(t){return(0,ot.default)({carousel:!0,"carousel-slider":t})},WRAPPER:function(t,n){return(0,ot.default)({"thumbs-wrapper":!t,"slider-wrapper":t,"axis-horizontal":n==="horizontal","axis-vertical":n!=="horizontal"})},SLIDER:function(t,n){return(0,ot.default)({thumbs:!t,slider:t,animated:!n})},ITEM:function(t,n,s){return(0,ot.default)({thumb:!t,slide:t,selected:n,previous:s})},ARROW_PREV:function(t){return(0,ot.default)({"control-arrow control-prev":!0,"control-disabled":t})},ARROW_NEXT:function(t){return(0,ot.default)({"control-arrow control-next":!0,"control-disabled":t})},DOT:function(t){return(0,ot.default)({dot:!0,selected:t})}};qt.default=Sc;var Gt={},Lr={};Object.defineProperty(Lr,"__esModule",{value:!0});Lr.outerWidth=void 0;var jc=function(t){var n=t.offsetWidth,s=getComputedStyle(t);return n+=parseInt(s.marginLeft)+parseInt(s.marginRight),n};Lr.outerWidth=jc;var Pt={};Object.defineProperty(Pt,"__esModule",{value:!0});Pt.default=void 0;var kc=function(t,n,s){var a=t===0?t:t+n,i=s==="horizontal"?[a,0,0]:[0,a,0],o="translate3d",l="("+i.join(",")+")";return o+l};Pt.default=kc;var Xt={};Object.defineProperty(Xt,"__esModule",{value:!0});Xt.default=void 0;var Nc=function(){return window};Xt.default=Nc;Object.defineProperty(Gt,"__esModule",{value:!0});Gt.default=void 0;var Ue=Tc(f),mt=Or(qt),Ec=Lr,fs=Or(Pt),Pc=Or(An),rr=Or(Xt);function Or(e){return e&&e.__esModule?e:{default:e}}function Na(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return Na=function(){return e},e}function Tc(e){if(e&&e.__esModule)return e;if(e===null||$t(e)!=="object"&&typeof e!="function")return{default:e};var t=Na();if(t&&t.has(e))return t.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=s?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}function $t(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$t=function(n){return typeof n}:$t=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},$t(e)}function xn(){return xn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},xn.apply(this,arguments)}function Cc(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ac(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function Rc(e,t,n){return t&&Ac(e.prototype,t),e}function _c(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&vn(e,t)}function vn(e,t){return vn=Object.setPrototypeOf||function(s,a){return s.__proto__=a,s},vn(e,t)}function Lc(e){var t=Dc();return function(){var s=wr(e),a;if(t){var i=wr(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return Oc(this,a)}}function Oc(e,t){return t&&($t(t)==="object"||typeof t=="function")?t:Se(e)}function Se(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Dc(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function wr(e){return wr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},wr(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Ic=function(t){return t.hasOwnProperty("key")},Rn=function(e){_c(n,e);var t=Lc(n);function n(s){var a;return Cc(this,n),a=t.call(this,s),be(Se(a),"itemsWrapperRef",void 0),be(Se(a),"itemsListRef",void 0),be(Se(a),"thumbsRef",void 0),be(Se(a),"setItemsWrapperRef",function(i){a.itemsWrapperRef=i}),be(Se(a),"setItemsListRef",function(i){a.itemsListRef=i}),be(Se(a),"setThumbsRef",function(i,o){a.thumbsRef||(a.thumbsRef=[]),a.thumbsRef[o]=i}),be(Se(a),"updateSizes",function(){if(!(!a.props.children||!a.itemsWrapperRef||!a.thumbsRef)){var i=Ue.Children.count(a.props.children),o=a.itemsWrapperRef.clientWidth,l=a.props.thumbWidth?a.props.thumbWidth:(0,Ec.outerWidth)(a.thumbsRef[0]),c=Math.floor(o/l),d=c<i,u=d?i-c:0;a.setState(function(h,m){return{itemSize:l,visibleItems:c,firstItem:d?a.getFirstItem(m.selectedItem):0,lastPosition:u,showArrows:d}})}}),be(Se(a),"handleClickItem",function(i,o,l){if(!Ic(l)||l.key==="Enter"){var c=a.props.onSelectItem;typeof c=="function"&&c(i,o)}}),be(Se(a),"onSwipeStart",function(){a.setState({swiping:!0})}),be(Se(a),"onSwipeEnd",function(){a.setState({swiping:!1})}),be(Se(a),"onSwipeMove",function(i){var o=i.x;if(!a.state.itemSize||!a.itemsWrapperRef||!a.state.visibleItems)return!1;var l=0,c=Ue.Children.count(a.props.children),d=-(a.state.firstItem*100)/a.state.visibleItems,u=Math.max(c-a.state.visibleItems,0),h=-u*100/a.state.visibleItems;d===l&&o>0&&(o=0),d===h&&o<0&&(o=0);var m=a.itemsWrapperRef.clientWidth,p=d+100/(m/o);return a.itemsListRef&&["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(g){a.itemsListRef.style[g]=(0,fs.default)(p,"%",a.props.axis)}),!0}),be(Se(a),"slideRight",function(i){a.moveTo(a.state.firstItem-(typeof i=="number"?i:1))}),be(Se(a),"slideLeft",function(i){a.moveTo(a.state.firstItem+(typeof i=="number"?i:1))}),be(Se(a),"moveTo",function(i){i=i<0?0:i,i=i>=a.state.lastPosition?a.state.lastPosition:i,a.setState({firstItem:i})}),a.state={selectedItem:s.selectedItem,swiping:!1,showArrows:!1,firstItem:0,visibleItems:0,lastPosition:0},a}return Rc(n,[{key:"componentDidMount",value:function(){this.setupThumbs()}},{key:"componentDidUpdate",value:function(a){this.props.selectedItem!==this.state.selectedItem&&this.setState({selectedItem:this.props.selectedItem,firstItem:this.getFirstItem(this.props.selectedItem)}),this.props.children!==a.children&&this.updateSizes()}},{key:"componentWillUnmount",value:function(){this.destroyThumbs()}},{key:"setupThumbs",value:function(){(0,rr.default)().addEventListener("resize",this.updateSizes),(0,rr.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.updateSizes()}},{key:"destroyThumbs",value:function(){(0,rr.default)().removeEventListener("resize",this.updateSizes),(0,rr.default)().removeEventListener("DOMContentLoaded",this.updateSizes)}},{key:"getFirstItem",value:function(a){var i=a;return a>=this.state.lastPosition&&(i=this.state.lastPosition),a<this.state.firstItem+this.state.visibleItems&&(i=this.state.firstItem),a<this.state.firstItem&&(i=a),i}},{key:"renderItems",value:function(){var a=this;return this.props.children.map(function(i,o){var l=mt.default.ITEM(!1,o===a.state.selectedItem),c={key:o,ref:function(u){return a.setThumbsRef(u,o)},className:l,onClick:a.handleClickItem.bind(a,o,a.props.children[o]),onKeyDown:a.handleClickItem.bind(a,o,a.props.children[o]),"aria-label":"".concat(a.props.labels.item," ").concat(o+1),style:{width:a.props.thumbWidth}};return Ue.default.createElement("li",xn({},c,{role:"button",tabIndex:0}),i)})}},{key:"render",value:function(){var a=this;if(!this.props.children)return null;var i=Ue.Children.count(this.props.children)>1,o=this.state.showArrows&&this.state.firstItem>0,l=this.state.showArrows&&this.state.firstItem<this.state.lastPosition,c={},d=-this.state.firstItem*(this.state.itemSize||0),u=(0,fs.default)(d,"px",this.props.axis),h=this.props.transitionTime+"ms";return c={WebkitTransform:u,MozTransform:u,MsTransform:u,OTransform:u,transform:u,msTransform:u,WebkitTransitionDuration:h,MozTransitionDuration:h,MsTransitionDuration:h,OTransitionDuration:h,transitionDuration:h,msTransitionDuration:h},Ue.default.createElement("div",{className:mt.default.CAROUSEL(!1)},Ue.default.createElement("div",{className:mt.default.WRAPPER(!1),ref:this.setItemsWrapperRef},Ue.default.createElement("button",{type:"button",className:mt.default.ARROW_PREV(!o),onClick:function(){return a.slideRight()},"aria-label":this.props.labels.leftArrow}),i?Ue.default.createElement(Pc.default,{tagName:"ul",className:mt.default.SLIDER(!1,this.state.swiping),onSwipeLeft:this.slideLeft,onSwipeRight:this.slideRight,onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:c,innerRef:this.setItemsListRef,allowMouseEvents:this.props.emulateTouch},this.renderItems()):Ue.default.createElement("ul",{className:mt.default.SLIDER(!1,this.state.swiping),ref:function(p){return a.setItemsListRef(p)},style:c},this.renderItems()),Ue.default.createElement("button",{type:"button",className:mt.default.ARROW_NEXT(!l),onClick:function(){return a.slideLeft()},"aria-label":this.props.labels.rightArrow})))}}]),n}(Ue.Component);Gt.default=Rn;be(Rn,"displayName","Thumbs");be(Rn,"defaultProps",{axis:"horizontal",labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},selectedItem:0,thumbWidth:80,transitionTime:350});var Dr={};Object.defineProperty(Dr,"__esModule",{value:!0});Dr.default=void 0;var Mc=function(){return document};Dr.default=Mc;var _e={};Object.defineProperty(_e,"__esModule",{value:!0});_e.setPosition=_e.getPosition=_e.isKeyboardEvent=_e.defaultStatusFormatter=_e.noop=void 0;var $c=f,zc=Fc(Pt);function Fc(e){return e&&e.__esModule?e:{default:e}}var Uc=function(){};_e.noop=Uc;var Hc=function(t,n){return"".concat(t," of ").concat(n)};_e.defaultStatusFormatter=Hc;var Bc=function(t){return t?t.hasOwnProperty("key"):!1};_e.isKeyboardEvent=Bc;var Vc=function(t,n){if(n.infiniteLoop&&++t,t===0)return 0;var s=$c.Children.count(n.children);if(n.centerMode&&n.axis==="horizontal"){var a=-t*n.centerSlidePercentage,i=s-1;return t&&(t!==i||n.infiniteLoop)?a+=(100-n.centerSlidePercentage)/2:t===i&&(a+=100-n.centerSlidePercentage),a}return-t*100};_e.getPosition=Vc;var Wc=function(t,n){var s={};return["WebkitTransform","MozTransform","MsTransform","OTransform","transform","msTransform"].forEach(function(a){s[a]=(0,zc.default)(t,"%",n)}),s};_e.setPosition=Wc;var qe={};Object.defineProperty(qe,"__esModule",{value:!0});qe.fadeAnimationHandler=qe.slideStopSwipingHandler=qe.slideSwipeAnimationHandler=qe.slideAnimationHandler=void 0;var Ea=f,Kc=Yc(Pt),Ge=_e;function Yc(e){return e&&e.__esModule?e:{default:e}}function gs(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function pt(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gs(Object(n),!0).forEach(function(s){qc(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gs(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function qc(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var Gc=function(t,n){var s={},a=n.selectedItem,i=a,o=Ea.Children.count(t.children)-1,l=t.infiniteLoop&&(a<0||a>o);if(l)return i<0?t.centerMode&&t.centerSlidePercentage&&t.axis==="horizontal"?s.itemListStyle=(0,Ge.setPosition)(-(o+2)*t.centerSlidePercentage-(100-t.centerSlidePercentage)/2,t.axis):s.itemListStyle=(0,Ge.setPosition)(-(o+2)*100,t.axis):i>o&&(s.itemListStyle=(0,Ge.setPosition)(0,t.axis)),s;var c=(0,Ge.getPosition)(a,t),d=(0,Kc.default)(c,"%",t.axis),u=t.transitionTime+"ms";return s.itemListStyle={WebkitTransform:d,msTransform:d,OTransform:d,transform:d},n.swiping||(s.itemListStyle=pt(pt({},s.itemListStyle),{},{WebkitTransitionDuration:u,MozTransitionDuration:u,OTransitionDuration:u,transitionDuration:u,msTransitionDuration:u})),s};qe.slideAnimationHandler=Gc;var Xc=function(t,n,s,a){var i={},o=n.axis==="horizontal",l=Ea.Children.count(n.children),c=0,d=(0,Ge.getPosition)(s.selectedItem,n),u=n.infiniteLoop?(0,Ge.getPosition)(l-1,n)-100:(0,Ge.getPosition)(l-1,n),h=o?t.x:t.y,m=h;d===c&&h>0&&(m=0),d===u&&h<0&&(m=0);var p=d+100/(s.itemSize/m),g=Math.abs(h)>n.swipeScrollTolerance;return n.infiniteLoop&&g&&(s.selectedItem===0&&p>-100?p-=l*100:s.selectedItem===l-1&&p<-l*100&&(p+=l*100)),(!n.preventMovementUntilSwipeScrollTolerance||g||s.swipeMovementStarted)&&(s.swipeMovementStarted||a({swipeMovementStarted:!0}),i.itemListStyle=(0,Ge.setPosition)(p,n.axis)),g&&!s.cancelClick&&a({cancelClick:!0}),i};qe.slideSwipeAnimationHandler=Xc;var Qc=function(t,n){var s=(0,Ge.getPosition)(n.selectedItem,t),a=(0,Ge.setPosition)(s,t.axis);return{itemListStyle:a}};qe.slideStopSwipingHandler=Qc;var Jc=function(t,n){var s=t.transitionTime+"ms",a="ease-in-out",i={position:"absolute",display:"block",zIndex:-2,minHeight:"100%",opacity:0,top:0,right:0,left:0,bottom:0,transitionTimingFunction:a,msTransitionTimingFunction:a,MozTransitionTimingFunction:a,WebkitTransitionTimingFunction:a,OTransitionTimingFunction:a};return n.swiping||(i=pt(pt({},i),{},{WebkitTransitionDuration:s,MozTransitionDuration:s,OTransitionDuration:s,transitionDuration:s,msTransitionDuration:s})),{slideStyle:i,selectedStyle:pt(pt({},i),{},{opacity:1,position:"relative"}),prevStyle:pt({},i)}};qe.fadeAnimationHandler=Jc;Object.defineProperty(_r,"__esModule",{value:!0});_r.default=void 0;var ie=td(f),Zc=Qt(An),rt=Qt(qt),ed=Qt(Gt),nr=Qt(Dr),sr=Qt(Xt),Lt=_e,Sr=qe;function Qt(e){return e&&e.__esModule?e:{default:e}}function Pa(){if(typeof WeakMap!="function")return null;var e=new WeakMap;return Pa=function(){return e},e}function td(e){if(e&&e.__esModule)return e;if(e===null||zt(e)!=="object"&&typeof e!="function")return{default:e};var t=Pa();if(t&&t.has(e))return t.get(e);var n={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var a in e)if(Object.prototype.hasOwnProperty.call(e,a)){var i=s?Object.getOwnPropertyDescriptor(e,a):null;i&&(i.get||i.set)?Object.defineProperty(n,a,i):n[a]=e[a]}return n.default=e,t&&t.set(e,n),n}function zt(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zt=function(n){return typeof n}:zt=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},zt(e)}function bn(){return bn=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},bn.apply(this,arguments)}function ys(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),n.push.apply(n,s)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ys(Object(n),!0).forEach(function(s){J(e,s,n[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ys(Object(n)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(n,s))})}return e}function rd(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function nd(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function sd(e,t,n){return t&&nd(e.prototype,t),e}function ad(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&wn(e,t)}function wn(e,t){return wn=Object.setPrototypeOf||function(s,a){return s.__proto__=a,s},wn(e,t)}function id(e){var t=ld();return function(){var s=jr(e),a;if(t){var i=jr(this).constructor;a=Reflect.construct(s,arguments,i)}else a=s.apply(this,arguments);return od(this,a)}}function od(e,t){return t&&(zt(t)==="object"||typeof t=="function")?t:ee(e)}function ee(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ld(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function jr(e){return jr=Object.setPrototypeOf?Object.getPrototypeOf:function(n){return n.__proto__||Object.getPrototypeOf(n)},jr(e)}function J(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _n=function(e){ad(n,e);var t=id(n);function n(s){var a;rd(this,n),a=t.call(this,s),J(ee(a),"thumbsRef",void 0),J(ee(a),"carouselWrapperRef",void 0),J(ee(a),"listRef",void 0),J(ee(a),"itemsRef",void 0),J(ee(a),"timer",void 0),J(ee(a),"animationHandler",void 0),J(ee(a),"setThumbsRef",function(o){a.thumbsRef=o}),J(ee(a),"setCarouselWrapperRef",function(o){a.carouselWrapperRef=o}),J(ee(a),"setListRef",function(o){a.listRef=o}),J(ee(a),"setItemsRef",function(o,l){a.itemsRef||(a.itemsRef=[]),a.itemsRef[l]=o}),J(ee(a),"autoPlay",function(){ie.Children.count(a.props.children)<=1||(a.clearAutoPlay(),a.props.autoPlay&&(a.timer=setTimeout(function(){a.increment()},a.props.interval)))}),J(ee(a),"clearAutoPlay",function(){a.timer&&clearTimeout(a.timer)}),J(ee(a),"resetAutoPlay",function(){a.clearAutoPlay(),a.autoPlay()}),J(ee(a),"stopOnHover",function(){a.setState({isMouseEntered:!0},a.clearAutoPlay)}),J(ee(a),"startOnLeave",function(){a.setState({isMouseEntered:!1},a.autoPlay)}),J(ee(a),"isFocusWithinTheCarousel",function(){return a.carouselWrapperRef?!!((0,nr.default)().activeElement===a.carouselWrapperRef||a.carouselWrapperRef.contains((0,nr.default)().activeElement)):!1}),J(ee(a),"navigateWithKeyboard",function(o){if(a.isFocusWithinTheCarousel()){var l=a.props.axis,c=l==="horizontal",d={ArrowUp:38,ArrowRight:39,ArrowDown:40,ArrowLeft:37},u=c?d.ArrowRight:d.ArrowDown,h=c?d.ArrowLeft:d.ArrowUp;u===o.keyCode?a.increment():h===o.keyCode&&a.decrement()}}),J(ee(a),"updateSizes",function(){if(!(!a.state.initialized||!a.itemsRef||a.itemsRef.length===0)){var o=a.props.axis==="horizontal",l=a.itemsRef[0];if(l){var c=o?l.clientWidth:l.clientHeight;a.setState({itemSize:c}),a.thumbsRef&&a.thumbsRef.updateSizes()}}}),J(ee(a),"setMountState",function(){a.setState({hasMount:!0}),a.updateSizes()}),J(ee(a),"handleClickItem",function(o,l){if(ie.Children.count(a.props.children)!==0){if(a.state.cancelClick){a.setState({cancelClick:!1});return}a.props.onClickItem(o,l),o!==a.state.selectedItem&&a.setState({selectedItem:o})}}),J(ee(a),"handleOnChange",function(o,l){ie.Children.count(a.props.children)<=1||a.props.onChange(o,l)}),J(ee(a),"handleClickThumb",function(o,l){a.props.onClickThumb(o,l),a.moveTo(o)}),J(ee(a),"onSwipeStart",function(o){a.setState({swiping:!0}),a.props.onSwipeStart(o)}),J(ee(a),"onSwipeEnd",function(o){a.setState({swiping:!1,cancelClick:!1,swipeMovementStarted:!1}),a.props.onSwipeEnd(o),a.clearAutoPlay(),a.state.autoPlay&&a.autoPlay()}),J(ee(a),"onSwipeMove",function(o,l){a.props.onSwipeMove(l);var c=a.props.swipeAnimationHandler(o,a.props,a.state,a.setState.bind(ee(a)));return a.setState(He({},c)),!!Object.keys(c).length}),J(ee(a),"decrement",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;a.moveTo(a.state.selectedItem-(typeof o=="number"?o:1))}),J(ee(a),"increment",function(){var o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;a.moveTo(a.state.selectedItem+(typeof o=="number"?o:1))}),J(ee(a),"moveTo",function(o){if(typeof o=="number"){var l=ie.Children.count(a.props.children)-1;o<0&&(o=a.props.infiniteLoop?l:0),o>l&&(o=a.props.infiniteLoop?0:l),a.selectItem({selectedItem:o}),a.state.autoPlay&&a.state.isMouseEntered===!1&&a.resetAutoPlay()}}),J(ee(a),"onClickNext",function(){a.increment(1)}),J(ee(a),"onClickPrev",function(){a.decrement(1)}),J(ee(a),"onSwipeForward",function(){a.increment(1),a.props.emulateTouch&&a.setState({cancelClick:!0})}),J(ee(a),"onSwipeBackwards",function(){a.decrement(1),a.props.emulateTouch&&a.setState({cancelClick:!0})}),J(ee(a),"changeItem",function(o){return function(l){(!(0,Lt.isKeyboardEvent)(l)||l.key==="Enter")&&a.moveTo(o)}}),J(ee(a),"selectItem",function(o){a.setState(He({previousItem:a.state.selectedItem},o),function(){a.setState(a.animationHandler(a.props,a.state))}),a.handleOnChange(o.selectedItem,ie.Children.toArray(a.props.children)[o.selectedItem])}),J(ee(a),"getInitialImage",function(){var o=a.props.selectedItem,l=a.itemsRef&&a.itemsRef[o],c=l&&l.getElementsByTagName("img")||[];return c[0]}),J(ee(a),"getVariableItemHeight",function(o){var l=a.itemsRef&&a.itemsRef[o];if(a.state.hasMount&&l&&l.children.length){var c=l.children[0].getElementsByTagName("img")||[];if(c.length>0){var d=c[0];if(!d.complete){var u=function p(){a.forceUpdate(),d.removeEventListener("load",p)};d.addEventListener("load",u)}}var h=c[0]||l.children[0],m=h.clientHeight;return m>0?m:null}return null});var i={initialized:!1,previousItem:s.selectedItem,selectedItem:s.selectedItem,hasMount:!1,isMouseEntered:!1,autoPlay:s.autoPlay,swiping:!1,swipeMovementStarted:!1,cancelClick:!1,itemSize:1,itemListStyle:{},slideStyle:{},selectedStyle:{},prevStyle:{}};return a.animationHandler=typeof s.animationHandler=="function"&&s.animationHandler||s.animationHandler==="fade"&&Sr.fadeAnimationHandler||Sr.slideAnimationHandler,a.state=He(He({},i),a.animationHandler(s,i)),a}return sd(n,[{key:"componentDidMount",value:function(){this.props.children&&this.setupCarousel()}},{key:"componentDidUpdate",value:function(a,i){!a.children&&this.props.children&&!this.state.initialized&&this.setupCarousel(),!a.autoFocus&&this.props.autoFocus&&this.forceFocus(),i.swiping&&!this.state.swiping&&this.setState(He({},this.props.stopSwipingHandler(this.props,this.state))),(a.selectedItem!==this.props.selectedItem||a.centerMode!==this.props.centerMode)&&(this.updateSizes(),this.moveTo(this.props.selectedItem)),a.autoPlay!==this.props.autoPlay&&(this.props.autoPlay?this.setupAutoPlay():this.destroyAutoPlay(),this.setState({autoPlay:this.props.autoPlay}))}},{key:"componentWillUnmount",value:function(){this.destroyCarousel()}},{key:"setupCarousel",value:function(){var a=this;this.bindEvents(),this.state.autoPlay&&ie.Children.count(this.props.children)>1&&this.setupAutoPlay(),this.props.autoFocus&&this.forceFocus(),this.setState({initialized:!0},function(){var i=a.getInitialImage();i&&!i.complete?i.addEventListener("load",a.setMountState):a.setMountState()})}},{key:"destroyCarousel",value:function(){this.state.initialized&&(this.unbindEvents(),this.destroyAutoPlay())}},{key:"setupAutoPlay",value:function(){this.autoPlay();var a=this.carouselWrapperRef;this.props.stopOnHover&&a&&(a.addEventListener("mouseenter",this.stopOnHover),a.addEventListener("mouseleave",this.startOnLeave))}},{key:"destroyAutoPlay",value:function(){this.clearAutoPlay();var a=this.carouselWrapperRef;this.props.stopOnHover&&a&&(a.removeEventListener("mouseenter",this.stopOnHover),a.removeEventListener("mouseleave",this.startOnLeave))}},{key:"bindEvents",value:function(){(0,sr.default)().addEventListener("resize",this.updateSizes),(0,sr.default)().addEventListener("DOMContentLoaded",this.updateSizes),this.props.useKeyboardArrows&&(0,nr.default)().addEventListener("keydown",this.navigateWithKeyboard)}},{key:"unbindEvents",value:function(){(0,sr.default)().removeEventListener("resize",this.updateSizes),(0,sr.default)().removeEventListener("DOMContentLoaded",this.updateSizes);var a=this.getInitialImage();a&&a.removeEventListener("load",this.setMountState),this.props.useKeyboardArrows&&(0,nr.default)().removeEventListener("keydown",this.navigateWithKeyboard)}},{key:"forceFocus",value:function(){var a;(a=this.carouselWrapperRef)===null||a===void 0||a.focus()}},{key:"renderItems",value:function(a){var i=this;return this.props.children?ie.Children.map(this.props.children,function(o,l){var c=l===i.state.selectedItem,d=l===i.state.previousItem,u=c&&i.state.selectedStyle||d&&i.state.prevStyle||i.state.slideStyle||{};i.props.centerMode&&i.props.axis==="horizontal"&&(u=He(He({},u),{},{minWidth:i.props.centerSlidePercentage+"%"})),i.state.swiping&&i.state.swipeMovementStarted&&(u=He(He({},u),{},{pointerEvents:"none"}));var h={ref:function(p){return i.setItemsRef(p,l)},key:"itemKey"+l+(a?"clone":""),className:rt.default.ITEM(!0,l===i.state.selectedItem,l===i.state.previousItem),onClick:i.handleClickItem.bind(i,l,o),style:u};return ie.default.createElement("li",h,i.props.renderItem(o,{isSelected:l===i.state.selectedItem,isPrevious:l===i.state.previousItem}))}):[]}},{key:"renderControls",value:function(){var a=this,i=this.props,o=i.showIndicators,l=i.labels,c=i.renderIndicator,d=i.children;return o?ie.default.createElement("ul",{className:"control-dots"},ie.Children.map(d,function(u,h){return c&&c(a.changeItem(h),h===a.state.selectedItem,h,l.item)})):null}},{key:"renderStatus",value:function(){return this.props.showStatus?ie.default.createElement("p",{className:"carousel-status"},this.props.statusFormatter(this.state.selectedItem+1,ie.Children.count(this.props.children))):null}},{key:"renderThumbs",value:function(){return!this.props.showThumbs||!this.props.children||ie.Children.count(this.props.children)===0?null:ie.default.createElement(ed.default,{ref:this.setThumbsRef,onSelectItem:this.handleClickThumb,selectedItem:this.state.selectedItem,transitionTime:this.props.transitionTime,thumbWidth:this.props.thumbWidth,labels:this.props.labels,emulateTouch:this.props.emulateTouch},this.props.renderThumbs(this.props.children))}},{key:"render",value:function(){var a=this;if(!this.props.children||ie.Children.count(this.props.children)===0)return null;var i=this.props.swipeable&&ie.Children.count(this.props.children)>1,o=this.props.axis==="horizontal",l=this.props.showArrows&&ie.Children.count(this.props.children)>1,c=l&&(this.state.selectedItem>0||this.props.infiniteLoop)||!1,d=l&&(this.state.selectedItem<ie.Children.count(this.props.children)-1||this.props.infiniteLoop)||!1,u=this.renderItems(!0),h=u.shift(),m=u.pop(),p={className:rt.default.SLIDER(!0,this.state.swiping),onSwipeMove:this.onSwipeMove,onSwipeStart:this.onSwipeStart,onSwipeEnd:this.onSwipeEnd,style:this.state.itemListStyle,tolerance:this.props.swipeScrollTolerance},g={};if(o){if(p.onSwipeLeft=this.onSwipeForward,p.onSwipeRight=this.onSwipeBackwards,this.props.dynamicHeight){var b=this.getVariableItemHeight(this.state.selectedItem);g.height=b||"auto"}}else p.onSwipeUp=this.props.verticalSwipe==="natural"?this.onSwipeBackwards:this.onSwipeForward,p.onSwipeDown=this.props.verticalSwipe==="natural"?this.onSwipeForward:this.onSwipeBackwards,p.style=He(He({},p.style),{},{height:this.state.itemSize}),g.height=this.state.itemSize;return ie.default.createElement("div",{"aria-label":this.props.ariaLabel,className:rt.default.ROOT(this.props.className),ref:this.setCarouselWrapperRef,tabIndex:this.props.useKeyboardArrows?0:void 0},ie.default.createElement("div",{className:rt.default.CAROUSEL(!0),style:{width:this.props.width}},this.renderControls(),this.props.renderArrowPrev(this.onClickPrev,c,this.props.labels.leftArrow),ie.default.createElement("div",{className:rt.default.WRAPPER(!0,this.props.axis),style:g},i?ie.default.createElement(Zc.default,bn({tagName:"ul",innerRef:this.setListRef},p,{allowMouseEvents:this.props.emulateTouch}),this.props.infiniteLoop&&m,this.renderItems(),this.props.infiniteLoop&&h):ie.default.createElement("ul",{className:rt.default.SLIDER(!0,this.state.swiping),ref:function(D){return a.setListRef(D)},style:this.state.itemListStyle||{}},this.props.infiniteLoop&&m,this.renderItems(),this.props.infiniteLoop&&h)),this.props.renderArrowNext(this.onClickNext,d,this.props.labels.rightArrow),this.renderStatus()),this.renderThumbs())}}]),n}(ie.default.Component);_r.default=_n;J(_n,"displayName","Carousel");J(_n,"defaultProps",{ariaLabel:void 0,axis:"horizontal",centerSlidePercentage:80,interval:3e3,labels:{leftArrow:"previous slide / item",rightArrow:"next slide / item",item:"slide item"},onClickItem:Lt.noop,onClickThumb:Lt.noop,onChange:Lt.noop,onSwipeStart:function(){},onSwipeEnd:function(){},onSwipeMove:function(){return!1},preventMovementUntilSwipeScrollTolerance:!1,renderArrowPrev:function(t,n,s){return ie.default.createElement("button",{type:"button","aria-label":s,className:rt.default.ARROW_PREV(!n),onClick:t})},renderArrowNext:function(t,n,s){return ie.default.createElement("button",{type:"button","aria-label":s,className:rt.default.ARROW_NEXT(!n),onClick:t})},renderIndicator:function(t,n,s,a){return ie.default.createElement("li",{className:rt.default.DOT(n),onClick:t,onKeyDown:t,value:s,key:s,role:"button",tabIndex:0,"aria-label":"".concat(a," ").concat(s+1)})},renderItem:function(t){return t},renderThumbs:function(t){var n=ie.Children.map(t,function(s){var a=s;if(s.type!=="img"&&(a=ie.Children.toArray(s.props.children).find(function(i){return i.type==="img"})),!!a)return a});return n.filter(function(s){return s}).length===0?(console.warn("No images found! Can't build the thumb list without images. If you don't need thumbs, set showThumbs={false} in the Carousel. Note that it's not possible to get images rendered inside custom components. More info at https://github.com/leandrowd/react-responsive-carousel/blob/master/TROUBLESHOOTING.md"),[]):n},statusFormatter:Lt.defaultStatusFormatter,selectedItem:0,showArrows:!0,showIndicators:!0,showStatus:!0,showThumbs:!0,stopOnHover:!0,swipeScrollTolerance:5,swipeable:!0,transitionTime:350,verticalSwipe:"standard",width:"100%",animationHandler:"slide",swipeAnimationHandler:Sr.slideSwipeAnimationHandler,stopSwipingHandler:Sr.slideStopSwipingHandler});var cd={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),Object.defineProperty(e,"Carousel",{enumerable:!0,get:function(){return t.default}}),Object.defineProperty(e,"CarouselProps",{enumerable:!0,get:function(){return n.CarouselProps}}),Object.defineProperty(e,"Thumbs",{enumerable:!0,get:function(){return s.default}});var t=a(_r),n=cd,s=a(Gt);function a(i){return i&&i.__esModule?i:{default:i}}})(yn);var Ta={},Ln={},On={};Object.defineProperty(On,"__esModule",{value:!0});On.default=hd;var xs="html",vs="head",ar="body",dd=/<([a-zA-Z]+[0-9]?)/,bs=/<head[^]*>/i,ws=/<body[^]*>/i,kr=function(e,t){throw new Error("This browser does not support `document.implementation.createHTMLDocument`")},Sn=function(e,t){throw new Error("This browser does not support `DOMParser.prototype.parseFromString`")},Ss=typeof window=="object"&&window.DOMParser;if(typeof Ss=="function"){var ud=new Ss,md="text/html";Sn=function(e,t){return t&&(e="<".concat(t,">").concat(e,"</").concat(t,">")),ud.parseFromString(e,md)},kr=Sn}if(typeof document=="object"&&document.implementation){var ir=document.implementation.createHTMLDocument();kr=function(e,t){if(t){var n=ir.documentElement.querySelector(t);return n&&(n.innerHTML=e),ir}return ir.documentElement.innerHTML=e,ir}}var or=typeof document=="object"&&document.createElement("template"),jn;or&&or.content&&(jn=function(e){return or.innerHTML=e,or.content.childNodes});function hd(e){var t,n,s=e.match(dd),a=s&&s[1]?s[1].toLowerCase():"";switch(a){case xs:{var i=Sn(e);if(!bs.test(e)){var o=i.querySelector(vs);(t=o?.parentNode)===null||t===void 0||t.removeChild(o)}if(!ws.test(e)){var o=i.querySelector(ar);(n=o?.parentNode)===null||n===void 0||n.removeChild(o)}return i.querySelectorAll(xs)}case vs:case ar:{var l=kr(e).querySelectorAll(a);return ws.test(e)&&bs.test(e)?l[0].parentNode.childNodes:l}default:{if(jn)return jn(e);var o=kr(e,ar).querySelector(ar);return o.childNodes}}}var Ir={},Dn={},In={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.Doctype=e.CDATA=e.Tag=e.Style=e.Script=e.Comment=e.Directive=e.Text=e.Root=e.isTag=e.ElementType=void 0;var t;(function(s){s.Root="root",s.Text="text",s.Directive="directive",s.Comment="comment",s.Script="script",s.Style="style",s.Tag="tag",s.CDATA="cdata",s.Doctype="doctype"})(t=e.ElementType||(e.ElementType={}));function n(s){return s.type===t.Tag||s.type===t.Script||s.type===t.Style}e.isTag=n,e.Root=t.Root,e.Text=t.Text,e.Directive=t.Directive,e.Comment=t.Comment,e.Script=t.Script,e.Style=t.Style,e.Tag=t.Tag,e.CDATA=t.CDATA,e.Doctype=t.Doctype})(In);var re={},lt=me&&me.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function s(){this.constructor=t}t.prototype=n===null?Object.create(n):(s.prototype=n.prototype,new s)}}(),Ft=me&&me.__assign||function(){return Ft=Object.assign||function(e){for(var t,n=1,s=arguments.length;n<s;n++){t=arguments[n];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Ft.apply(this,arguments)};Object.defineProperty(re,"__esModule",{value:!0});re.cloneNode=re.hasChildren=re.isDocument=re.isDirective=re.isComment=re.isText=re.isCDATA=re.isTag=re.Element=re.Document=re.CDATA=re.NodeWithChildren=re.ProcessingInstruction=re.Comment=re.Text=re.DataNode=re.Node=void 0;var Ne=In,Mn=function(){function e(){this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent},set:function(t){this.parent=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev},set:function(t){this.prev=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next},set:function(t){this.next=t},enumerable:!1,configurable:!0}),e.prototype.cloneNode=function(t){return t===void 0&&(t=!1),$n(this,t)},e}();re.Node=Mn;var Mr=function(e){lt(t,e);function t(n){var s=e.call(this)||this;return s.data=n,s}return Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(n){this.data=n},enumerable:!1,configurable:!0}),t}(Mn);re.DataNode=Mr;var Ca=function(e){lt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Text,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 3},enumerable:!1,configurable:!0}),t}(Mr);re.Text=Ca;var Aa=function(e){lt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Comment,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 8},enumerable:!1,configurable:!0}),t}(Mr);re.Comment=Aa;var Ra=function(e){lt(t,e);function t(n,s){var a=e.call(this,s)||this;return a.name=n,a.type=Ne.ElementType.Directive,a}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),t}(Mr);re.ProcessingInstruction=Ra;var $r=function(e){lt(t,e);function t(n){var s=e.call(this)||this;return s.children=n,s}return Object.defineProperty(t.prototype,"firstChild",{get:function(){var n;return(n=this.children[0])!==null&&n!==void 0?n:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(n){this.children=n},enumerable:!1,configurable:!0}),t}(Mn);re.NodeWithChildren=$r;var _a=function(e){lt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.CDATA,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 4},enumerable:!1,configurable:!0}),t}($r);re.CDATA=_a;var La=function(e){lt(t,e);function t(){var n=e!==null&&e.apply(this,arguments)||this;return n.type=Ne.ElementType.Root,n}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 9},enumerable:!1,configurable:!0}),t}($r);re.Document=La;var Oa=function(e){lt(t,e);function t(n,s,a,i){a===void 0&&(a=[]),i===void 0&&(i=n==="script"?Ne.ElementType.Script:n==="style"?Ne.ElementType.Style:Ne.ElementType.Tag);var o=e.call(this,a)||this;return o.name=n,o.attribs=s,o.type=i,o}return Object.defineProperty(t.prototype,"nodeType",{get:function(){return 1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(n){this.name=n},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"attributes",{get:function(){var n=this;return Object.keys(this.attribs).map(function(s){var a,i;return{name:s,value:n.attribs[s],namespace:(a=n["x-attribsNamespace"])===null||a===void 0?void 0:a[s],prefix:(i=n["x-attribsPrefix"])===null||i===void 0?void 0:i[s]}})},enumerable:!1,configurable:!0}),t}($r);re.Element=Oa;function Da(e){return(0,Ne.isTag)(e)}re.isTag=Da;function Ia(e){return e.type===Ne.ElementType.CDATA}re.isCDATA=Ia;function Ma(e){return e.type===Ne.ElementType.Text}re.isText=Ma;function $a(e){return e.type===Ne.ElementType.Comment}re.isComment=$a;function za(e){return e.type===Ne.ElementType.Directive}re.isDirective=za;function Fa(e){return e.type===Ne.ElementType.Root}re.isDocument=Fa;function pd(e){return Object.prototype.hasOwnProperty.call(e,"children")}re.hasChildren=pd;function $n(e,t){t===void 0&&(t=!1);var n;if(Ma(e))n=new Ca(e.data);else if($a(e))n=new Aa(e.data);else if(Da(e)){var s=t?rn(e.children):[],a=new Oa(e.name,Ft({},e.attribs),s);s.forEach(function(c){return c.parent=a}),e.namespace!=null&&(a.namespace=e.namespace),e["x-attribsNamespace"]&&(a["x-attribsNamespace"]=Ft({},e["x-attribsNamespace"])),e["x-attribsPrefix"]&&(a["x-attribsPrefix"]=Ft({},e["x-attribsPrefix"])),n=a}else if(Ia(e)){var s=t?rn(e.children):[],i=new _a(s);s.forEach(function(d){return d.parent=i}),n=i}else if(Fa(e)){var s=t?rn(e.children):[],o=new La(s);s.forEach(function(d){return d.parent=o}),e["x-mode"]&&(o["x-mode"]=e["x-mode"]),n=o}else if(za(e)){var l=new Ra(e.name,e.data);e["x-name"]!=null&&(l["x-name"]=e["x-name"],l["x-publicId"]=e["x-publicId"],l["x-systemId"]=e["x-systemId"]),n=l}else throw new Error("Not implemented yet: ".concat(e.type));return n.startIndex=e.startIndex,n.endIndex=e.endIndex,e.sourceCodeLocation!=null&&(n.sourceCodeLocation=e.sourceCodeLocation),n}re.cloneNode=$n;function rn(e){for(var t=e.map(function(s){return $n(s,!0)}),n=1;n<t.length;n++)t[n].prev=t[n-1],t[n-1].next=t[n];return t}(function(e){var t=me&&me.__createBinding||(Object.create?function(l,c,d,u){u===void 0&&(u=d);var h=Object.getOwnPropertyDescriptor(c,d);(!h||("get"in h?!c.__esModule:h.writable||h.configurable))&&(h={enumerable:!0,get:function(){return c[d]}}),Object.defineProperty(l,u,h)}:function(l,c,d,u){u===void 0&&(u=d),l[u]=c[d]}),n=me&&me.__exportStar||function(l,c){for(var d in l)d!=="default"&&!Object.prototype.hasOwnProperty.call(c,d)&&t(c,l,d)};Object.defineProperty(e,"__esModule",{value:!0}),e.DomHandler=void 0;var s=In,a=re;n(re,e);var i={withStartIndices:!1,withEndIndices:!1,xmlMode:!1},o=function(){function l(c,d,u){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,typeof d=="function"&&(u=d,d=i),typeof c=="object"&&(d=c,c=void 0),this.callback=c??null,this.options=d??i,this.elementCB=u??null}return l.prototype.onparserinit=function(c){this.parser=c},l.prototype.onreset=function(){this.dom=[],this.root=new a.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},l.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},l.prototype.onerror=function(c){this.handleCallback(c)},l.prototype.onclosetag=function(){this.lastNode=null;var c=this.tagStack.pop();this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(c)},l.prototype.onopentag=function(c,d){var u=this.options.xmlMode?s.ElementType.Tag:void 0,h=new a.Element(c,d,void 0,u);this.addNode(h),this.tagStack.push(h)},l.prototype.ontext=function(c){var d=this.lastNode;if(d&&d.type===s.ElementType.Text)d.data+=c,this.options.withEndIndices&&(d.endIndex=this.parser.endIndex);else{var u=new a.Text(c);this.addNode(u),this.lastNode=u}},l.prototype.oncomment=function(c){if(this.lastNode&&this.lastNode.type===s.ElementType.Comment){this.lastNode.data+=c;return}var d=new a.Comment(c);this.addNode(d),this.lastNode=d},l.prototype.oncommentend=function(){this.lastNode=null},l.prototype.oncdatastart=function(){var c=new a.Text(""),d=new a.CDATA([c]);this.addNode(d),c.parent=d,this.lastNode=c},l.prototype.oncdataend=function(){this.lastNode=null},l.prototype.onprocessinginstruction=function(c,d){var u=new a.ProcessingInstruction(c,d);this.addNode(u)},l.prototype.handleCallback=function(c){if(typeof this.callback=="function")this.callback(c,this.dom);else if(c)throw c},l.prototype.addNode=function(c){var d=this.tagStack[this.tagStack.length-1],u=d.children[d.children.length-1];this.options.withStartIndices&&(c.startIndex=this.parser.startIndex),this.options.withEndIndices&&(c.endIndex=this.parser.endIndex),d.children.push(c),u&&(c.prev=u,u.next=c),c.parent=d,this.lastNode=null},l}();e.DomHandler=o,e.default=o})(Dn);var Ua={};(function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES=void 0,e.CASE_SENSITIVE_TAG_NAMES=["animateMotion","animateTransform","clipPath","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","foreignObject","linearGradient","radialGradient","textPath"],e.CASE_SENSITIVE_TAG_NAMES_MAP=e.CASE_SENSITIVE_TAG_NAMES.reduce(function(t,n){return t[n.toLowerCase()]=n,t},{})})(Ua);Object.defineProperty(Ir,"__esModule",{value:!0});Ir.formatAttributes=Ha;Ir.formatDOM=Ba;var lr=Dn,fd=Ua;function gd(e){return fd.CASE_SENSITIVE_TAG_NAMES_MAP[e]}function Ha(e){for(var t={},n=0,s=e.length;n<s;n++){var a=e[n];t[a.name]=a.value}return t}function yd(e){e=e.toLowerCase();var t=gd(e);return t||e}function Ba(e,t,n){t===void 0&&(t=null);for(var s=[],a,i=0,o=e.length;i<o;i++){var l=e[i];switch(l.nodeType){case 1:{var c=yd(l.nodeName);a=new lr.Element(c,Ha(l.attributes)),a.children=Ba(c==="template"?l.content.childNodes:l.childNodes,a);break}case 3:a=new lr.Text(l.nodeValue);break;case 8:a=new lr.Comment(l.nodeValue);break;default:continue}var d=s[i-1]||null;d&&(d.next=a),a.parent=t,a.prev=d,a.next=null,s.push(a)}return n&&(a=new lr.ProcessingInstruction(n.substring(0,n.indexOf(" ")).toLowerCase(),n),a.next=s[0]||null,a.parent=t,s.unshift(a),s[1]&&(s[1].prev=s[0])),s}var xd=me&&me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ln,"__esModule",{value:!0});Ln.default=Sd;var vd=xd(On),bd=Ir,wd=/<(![a-zA-Z\s]+)>/;function Sd(e){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];var t=e.match(wd),n=t?t[1]:void 0;return(0,bd.formatDOM)((0,vd.default)(e),null,n)}var zr={},Be={},Fr={},jd=0;Fr.SAME=jd;var kd=1;Fr.CAMELCASE=kd;Fr.possibleStandardNames={accept:0,acceptCharset:1,"accept-charset":"acceptCharset",accessKey:1,action:0,allowFullScreen:1,alt:0,as:0,async:0,autoCapitalize:1,autoComplete:1,autoCorrect:1,autoFocus:1,autoPlay:1,autoSave:1,capture:0,cellPadding:1,cellSpacing:1,challenge:0,charSet:1,checked:0,children:0,cite:0,class:"className",classID:1,className:1,cols:0,colSpan:1,content:0,contentEditable:1,contextMenu:1,controls:0,controlsList:1,coords:0,crossOrigin:1,dangerouslySetInnerHTML:1,data:0,dateTime:1,default:0,defaultChecked:1,defaultValue:1,defer:0,dir:0,disabled:0,disablePictureInPicture:1,disableRemotePlayback:1,download:0,draggable:0,encType:1,enterKeyHint:1,for:"htmlFor",form:0,formMethod:1,formAction:1,formEncType:1,formNoValidate:1,formTarget:1,frameBorder:1,headers:0,height:0,hidden:0,high:0,href:0,hrefLang:1,htmlFor:1,httpEquiv:1,"http-equiv":"httpEquiv",icon:0,id:0,innerHTML:1,inputMode:1,integrity:0,is:0,itemID:1,itemProp:1,itemRef:1,itemScope:1,itemType:1,keyParams:1,keyType:1,kind:0,label:0,lang:0,list:0,loop:0,low:0,manifest:0,marginWidth:1,marginHeight:1,max:0,maxLength:1,media:0,mediaGroup:1,method:0,min:0,minLength:1,multiple:0,muted:0,name:0,noModule:1,nonce:0,noValidate:1,open:0,optimum:0,pattern:0,placeholder:0,playsInline:1,poster:0,preload:0,profile:0,radioGroup:1,readOnly:1,referrerPolicy:1,rel:0,required:0,reversed:0,role:0,rows:0,rowSpan:1,sandbox:0,scope:0,scoped:0,scrolling:0,seamless:0,selected:0,shape:0,size:0,sizes:0,span:0,spellCheck:1,src:0,srcDoc:1,srcLang:1,srcSet:1,start:0,step:0,style:0,summary:0,tabIndex:1,target:0,title:0,type:0,useMap:1,value:0,width:0,wmode:0,wrap:0,about:0,accentHeight:1,"accent-height":"accentHeight",accumulate:0,additive:0,alignmentBaseline:1,"alignment-baseline":"alignmentBaseline",allowReorder:1,alphabetic:0,amplitude:0,arabicForm:1,"arabic-form":"arabicForm",ascent:0,attributeName:1,attributeType:1,autoReverse:1,azimuth:0,baseFrequency:1,baselineShift:1,"baseline-shift":"baselineShift",baseProfile:1,bbox:0,begin:0,bias:0,by:0,calcMode:1,capHeight:1,"cap-height":"capHeight",clip:0,clipPath:1,"clip-path":"clipPath",clipPathUnits:1,clipRule:1,"clip-rule":"clipRule",color:0,colorInterpolation:1,"color-interpolation":"colorInterpolation",colorInterpolationFilters:1,"color-interpolation-filters":"colorInterpolationFilters",colorProfile:1,"color-profile":"colorProfile",colorRendering:1,"color-rendering":"colorRendering",contentScriptType:1,contentStyleType:1,cursor:0,cx:0,cy:0,d:0,datatype:0,decelerate:0,descent:0,diffuseConstant:1,direction:0,display:0,divisor:0,dominantBaseline:1,"dominant-baseline":"dominantBaseline",dur:0,dx:0,dy:0,edgeMode:1,elevation:0,enableBackground:1,"enable-background":"enableBackground",end:0,exponent:0,externalResourcesRequired:1,fill:0,fillOpacity:1,"fill-opacity":"fillOpacity",fillRule:1,"fill-rule":"fillRule",filter:0,filterRes:1,filterUnits:1,floodOpacity:1,"flood-opacity":"floodOpacity",floodColor:1,"flood-color":"floodColor",focusable:0,fontFamily:1,"font-family":"fontFamily",fontSize:1,"font-size":"fontSize",fontSizeAdjust:1,"font-size-adjust":"fontSizeAdjust",fontStretch:1,"font-stretch":"fontStretch",fontStyle:1,"font-style":"fontStyle",fontVariant:1,"font-variant":"fontVariant",fontWeight:1,"font-weight":"fontWeight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:1,"glyph-name":"glyphName",glyphOrientationHorizontal:1,"glyph-orientation-horizontal":"glyphOrientationHorizontal",glyphOrientationVertical:1,"glyph-orientation-vertical":"glyphOrientationVertical",glyphRef:1,gradientTransform:1,gradientUnits:1,hanging:0,horizAdvX:1,"horiz-adv-x":"horizAdvX",horizOriginX:1,"horiz-origin-x":"horizOriginX",ideographic:0,imageRendering:1,"image-rendering":"imageRendering",in2:0,in:0,inlist:0,intercept:0,k1:0,k2:0,k3:0,k4:0,k:0,kernelMatrix:1,kernelUnitLength:1,kerning:0,keyPoints:1,keySplines:1,keyTimes:1,lengthAdjust:1,letterSpacing:1,"letter-spacing":"letterSpacing",lightingColor:1,"lighting-color":"lightingColor",limitingConeAngle:1,local:0,markerEnd:1,"marker-end":"markerEnd",markerHeight:1,markerMid:1,"marker-mid":"markerMid",markerStart:1,"marker-start":"markerStart",markerUnits:1,markerWidth:1,mask:0,maskContentUnits:1,maskUnits:1,mathematical:0,mode:0,numOctaves:1,offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:1,"overline-position":"overlinePosition",overlineThickness:1,"overline-thickness":"overlineThickness",paintOrder:1,"paint-order":"paintOrder",panose1:0,"panose-1":"panose1",pathLength:1,patternContentUnits:1,patternTransform:1,patternUnits:1,pointerEvents:1,"pointer-events":"pointerEvents",points:0,pointsAtX:1,pointsAtY:1,pointsAtZ:1,prefix:0,preserveAlpha:1,preserveAspectRatio:1,primitiveUnits:1,property:0,r:0,radius:0,refX:1,refY:1,renderingIntent:1,"rendering-intent":"renderingIntent",repeatCount:1,repeatDur:1,requiredExtensions:1,requiredFeatures:1,resource:0,restart:0,result:0,results:0,rotate:0,rx:0,ry:0,scale:0,security:0,seed:0,shapeRendering:1,"shape-rendering":"shapeRendering",slope:0,spacing:0,specularConstant:1,specularExponent:1,speed:0,spreadMethod:1,startOffset:1,stdDeviation:1,stemh:0,stemv:0,stitchTiles:1,stopColor:1,"stop-color":"stopColor",stopOpacity:1,"stop-opacity":"stopOpacity",strikethroughPosition:1,"strikethrough-position":"strikethroughPosition",strikethroughThickness:1,"strikethrough-thickness":"strikethroughThickness",string:0,stroke:0,strokeDasharray:1,"stroke-dasharray":"strokeDasharray",strokeDashoffset:1,"stroke-dashoffset":"strokeDashoffset",strokeLinecap:1,"stroke-linecap":"strokeLinecap",strokeLinejoin:1,"stroke-linejoin":"strokeLinejoin",strokeMiterlimit:1,"stroke-miterlimit":"strokeMiterlimit",strokeWidth:1,"stroke-width":"strokeWidth",strokeOpacity:1,"stroke-opacity":"strokeOpacity",suppressContentEditableWarning:1,suppressHydrationWarning:1,surfaceScale:1,systemLanguage:1,tableValues:1,targetX:1,targetY:1,textAnchor:1,"text-anchor":"textAnchor",textDecoration:1,"text-decoration":"textDecoration",textLength:1,textRendering:1,"text-rendering":"textRendering",to:0,transform:0,typeof:0,u1:0,u2:0,underlinePosition:1,"underline-position":"underlinePosition",underlineThickness:1,"underline-thickness":"underlineThickness",unicode:0,unicodeBidi:1,"unicode-bidi":"unicodeBidi",unicodeRange:1,"unicode-range":"unicodeRange",unitsPerEm:1,"units-per-em":"unitsPerEm",unselectable:0,vAlphabetic:1,"v-alphabetic":"vAlphabetic",values:0,vectorEffect:1,"vector-effect":"vectorEffect",version:0,vertAdvY:1,"vert-adv-y":"vertAdvY",vertOriginX:1,"vert-origin-x":"vertOriginX",vertOriginY:1,"vert-origin-y":"vertOriginY",vHanging:1,"v-hanging":"vHanging",vIdeographic:1,"v-ideographic":"vIdeographic",viewBox:1,viewTarget:1,visibility:0,vMathematical:1,"v-mathematical":"vMathematical",vocab:0,widths:0,wordSpacing:1,"word-spacing":"wordSpacing",writingMode:1,"writing-mode":"writingMode",x1:0,x2:0,x:0,xChannelSelector:1,xHeight:1,"x-height":"xHeight",xlinkActuate:1,"xlink:actuate":"xlinkActuate",xlinkArcrole:1,"xlink:arcrole":"xlinkArcrole",xlinkHref:1,"xlink:href":"xlinkHref",xlinkRole:1,"xlink:role":"xlinkRole",xlinkShow:1,"xlink:show":"xlinkShow",xlinkTitle:1,"xlink:title":"xlinkTitle",xlinkType:1,"xlink:type":"xlinkType",xmlBase:1,"xml:base":"xmlBase",xmlLang:1,"xml:lang":"xmlLang",xmlns:0,"xml:space":"xmlSpace",xmlnsXlink:1,"xmlns:xlink":"xmlnsXlink",xmlSpace:1,y1:0,y2:0,y:0,yChannelSelector:1,z:0,zoomAndPan:1};const Va=0,ct=1,Ur=2,Hr=3,zn=4,Wa=5,Ka=6;function Nd(e){return ye.hasOwnProperty(e)?ye[e]:null}function je(e,t,n,s,a,i,o){this.acceptsBooleans=t===Ur||t===Hr||t===zn,this.attributeName=s,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=i,this.removeEmptyString=o}const ye={},Ed=["children","dangerouslySetInnerHTML","defaultValue","defaultChecked","innerHTML","suppressContentEditableWarning","suppressHydrationWarning","style"];Ed.forEach(e=>{ye[e]=new je(e,Va,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(([e,t])=>{ye[e]=new je(e,ct,!1,t,null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(e=>{ye[e]=new je(e,Ur,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(e=>{ye[e]=new je(e,Ur,!1,e,null,!1,!1)});["allowFullScreen","async","autoFocus","autoPlay","controls","default","defer","disabled","disablePictureInPicture","disableRemotePlayback","formNoValidate","hidden","loop","noModule","noValidate","open","playsInline","readOnly","required","reversed","scoped","seamless","itemScope"].forEach(e=>{ye[e]=new je(e,Hr,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(e=>{ye[e]=new je(e,Hr,!0,e,null,!1,!1)});["capture","download"].forEach(e=>{ye[e]=new je(e,zn,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(e=>{ye[e]=new je(e,Ka,!1,e,null,!1,!1)});["rowSpan","start"].forEach(e=>{ye[e]=new je(e,Wa,!1,e.toLowerCase(),null,!1,!1)});const Fn=/[\-\:]([a-z])/g,Un=e=>e[1].toUpperCase();["accent-height","alignment-baseline","arabic-form","baseline-shift","cap-height","clip-path","clip-rule","color-interpolation","color-interpolation-filters","color-profile","color-rendering","dominant-baseline","enable-background","fill-opacity","fill-rule","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","glyph-name","glyph-orientation-horizontal","glyph-orientation-vertical","horiz-adv-x","horiz-origin-x","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","overline-position","overline-thickness","paint-order","panose-1","pointer-events","rendering-intent","shape-rendering","stop-color","stop-opacity","strikethrough-position","strikethrough-thickness","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-rendering","underline-position","underline-thickness","unicode-bidi","unicode-range","units-per-em","v-alphabetic","v-hanging","v-ideographic","v-mathematical","vector-effect","vert-adv-y","vert-origin-x","vert-origin-y","word-spacing","writing-mode","xmlns:xlink","x-height"].forEach(e=>{const t=e.replace(Fn,Un);ye[t]=new je(t,ct,!1,e,null,!1,!1)});["xlink:actuate","xlink:arcrole","xlink:role","xlink:show","xlink:title","xlink:type"].forEach(e=>{const t=e.replace(Fn,Un);ye[t]=new je(t,ct,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(e=>{const t=e.replace(Fn,Un);ye[t]=new je(t,ct,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(e=>{ye[e]=new je(e,ct,!1,e.toLowerCase(),null,!1,!1)});const Pd="xlinkHref";ye[Pd]=new je("xlinkHref",ct,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(e=>{ye[e]=new je(e,ct,!1,e.toLowerCase(),null,!0,!0)});const{CAMELCASE:Td,SAME:Cd,possibleStandardNames:js}=Fr,Ad=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",Rd=Ad+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",_d=RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+Rd+"]*$")),Ld=Object.keys(js).reduce((e,t)=>{const n=js[t];return n===Cd?e[t]=t:n===Td?e[t.toLowerCase()]=t:e[t]=n,e},{});Be.BOOLEAN=Hr;Be.BOOLEANISH_STRING=Ur;Be.NUMERIC=Wa;Be.OVERLOADED_BOOLEAN=zn;Be.POSITIVE_NUMERIC=Ka;Be.RESERVED=Va;Be.STRING=ct;Be.getPropertyInfo=Nd;Be.isCustomAttribute=_d;Be.possibleStandardNames=Ld;var Hn={},Bn={},ks=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,Od=/\n/g,Dd=/^\s*/,Id=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,Md=/^:\s*/,$d=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,zd=/^[;\s]*/,Fd=/^\s+|\s+$/g,Ud=`
`,Ns="/",Es="*",ft="",Hd="comment",Bd="declaration",Vd=function(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,s=1;function a(g){var b=g.match(Od);b&&(n+=b.length);var P=g.lastIndexOf(Ud);s=~P?g.length-P:s+g.length}function i(){var g={line:n,column:s};return function(b){return b.position=new o(g),d(),b}}function o(g){this.start=g,this.end={line:n,column:s},this.source=t.source}o.prototype.content=e;function l(g){var b=new Error(t.source+":"+n+":"+s+": "+g);if(b.reason=g,b.filename=t.source,b.line=n,b.column=s,b.source=e,!t.silent)throw b}function c(g){var b=g.exec(e);if(b){var P=b[0];return a(P),e=e.slice(P.length),b}}function d(){c(Dd)}function u(g){var b;for(g=g||[];b=h();)b!==!1&&g.push(b);return g}function h(){var g=i();if(!(Ns!=e.charAt(0)||Es!=e.charAt(1))){for(var b=2;ft!=e.charAt(b)&&(Es!=e.charAt(b)||Ns!=e.charAt(b+1));)++b;if(b+=2,ft===e.charAt(b-1))return l("End of comment missing");var P=e.slice(2,b-2);return s+=2,a(P),e=e.slice(b),s+=2,g({type:Hd,comment:P})}}function m(){var g=i(),b=c(Id);if(b){if(h(),!c(Md))return l("property missing ':'");var P=c($d),D=g({type:Bd,property:Ps(b[0].replace(ks,ft)),value:P?Ps(P[0].replace(ks,ft)):ft});return c(zd),D}}function p(){var g=[];u(g);for(var b;b=m();)b!==!1&&(g.push(b),u(g));return g}return d(),p()};function Ps(e){return e?e.replace(Fd,ft):ft}var Wd=me&&me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Bn,"__esModule",{value:!0});var Kd=Wd(Vd);function Yd(e,t){var n=null;if(!e||typeof e!="string")return n;var s=(0,Kd.default)(e),a=typeof t=="function";return s.forEach(function(i){if(i.type==="declaration"){var o=i.property,l=i.value;a?t(o,l,i):l&&(n=n||{},n[o]=l)}}),n}Bn.default=Yd;var Br={};Object.defineProperty(Br,"__esModule",{value:!0});Br.camelCase=void 0;var qd=/^--[a-zA-Z0-9-]+$/,Gd=/-([a-z])/g,Xd=/^[^-]+$/,Qd=/^-(webkit|moz|ms|o|khtml)-/,Jd=/^-(ms)-/,Zd=function(e){return!e||Xd.test(e)||qd.test(e)},eu=function(e,t){return t.toUpperCase()},Ts=function(e,t){return"".concat(t,"-")},tu=function(e,t){return t===void 0&&(t={}),Zd(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Jd,Ts):e=e.replace(Qd,Ts),e.replace(Gd,eu))};Br.camelCase=tu;var ru=me&&me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},nu=ru(Bn),su=Br;function kn(e,t){var n={};return!e||typeof e!="string"||(0,nu.default)(e,function(s,a){s&&a&&(n[(0,su.camelCase)(s,t)]=a)}),n}kn.default=kn;var au=kn;(function(e){var t=me&&me.__importDefault||function(u){return u&&u.__esModule?u:{default:u}};Object.defineProperty(e,"__esModule",{value:!0}),e.returnFirstArg=e.canTextBeChildOfNode=e.ELEMENTS_WITH_NO_TEXT_CHILDREN=e.PRESERVE_CUSTOM_ATTRIBUTES=void 0,e.isCustomComponent=i,e.setStyleProp=l;var n=f,s=t(au),a=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function i(u,h){return u.includes("-")?!a.has(u):!!(h&&typeof h.is=="string")}var o={reactCompat:!0};function l(u,h){if(typeof u=="string"){if(!u.trim()){h.style={};return}try{h.style=(0,s.default)(u,o)}catch{h.style={}}}}e.PRESERVE_CUSTOM_ATTRIBUTES=Number(n.version.split(".")[0])>=16,e.ELEMENTS_WITH_NO_TEXT_CHILDREN=new Set(["tr","tbody","thead","tfoot","colgroup","table","head","html","frameset"]);var c=function(u){return!e.ELEMENTS_WITH_NO_TEXT_CHILDREN.has(u.name)};e.canTextBeChildOfNode=c;var d=function(u){return u};e.returnFirstArg=d})(Hn);Object.defineProperty(zr,"__esModule",{value:!0});zr.default=cu;var Ot=Be,Cs=Hn,iu=["checked","value"],ou=["input","select","textarea"],lu={reset:!0,submit:!0};function cu(e,t){e===void 0&&(e={});var n={},s=!!(e.type&&lu[e.type]);for(var a in e){var i=e[a];if((0,Ot.isCustomAttribute)(a)){n[a]=i;continue}var o=a.toLowerCase(),l=As(o);if(l){var c=(0,Ot.getPropertyInfo)(l);switch(iu.includes(l)&&ou.includes(t)&&!s&&(l=As("default"+o)),n[l]=i,c&&c.type){case Ot.BOOLEAN:n[l]=!0;break;case Ot.OVERLOADED_BOOLEAN:i===""&&(n[l]=!0);break}continue}Cs.PRESERVE_CUSTOM_ATTRIBUTES&&(n[a]=i)}return(0,Cs.setStyleProp)(e.style,n),n}function As(e){return Ot.possibleStandardNames[e]}var Vn={},du=me&&me.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Vn,"__esModule",{value:!0});Vn.default=Ya;var nn=f,uu=du(zr),Ut=Hn,mu={cloneElement:nn.cloneElement,createElement:nn.createElement,isValidElement:nn.isValidElement};function Ya(e,t){t===void 0&&(t={});for(var n=[],s=typeof t.replace=="function",a=t.transform||Ut.returnFirstArg,i=t.library||mu,o=i.cloneElement,l=i.createElement,c=i.isValidElement,d=e.length,u=0;u<d;u++){var h=e[u];if(s){var m=t.replace(h,u);if(c(m)){d>1&&(m=o(m,{key:m.key||u})),n.push(a(m,h,u));continue}}if(h.type==="text"){var p=!h.data.trim().length;if(p&&h.parent&&!(0,Ut.canTextBeChildOfNode)(h.parent)||t.trim&&p)continue;n.push(a(h.data,h,u));continue}var g=h,b={};hu(g)?((0,Ut.setStyleProp)(g.attribs.style,g.attribs),b=g.attribs):g.attribs&&(b=(0,uu.default)(g.attribs,g.name));var P=void 0;switch(h.type){case"script":case"style":h.children[0]&&(b.dangerouslySetInnerHTML={__html:h.children[0].data});break;case"tag":h.name==="textarea"&&h.children[0]?b.defaultValue=h.children[0].data:h.children&&h.children.length&&(P=Ya(h.children,t));break;default:continue}d>1&&(b.key=u),n.push(a(l(h.name,b,P),h,u))}return n.length===1?n[0]:n}function hu(e){return Ut.PRESERVE_CUSTOM_ATTRIBUTES&&e.type==="tag"&&(0,Ut.isCustomComponent)(e.name,e.attribs)}(function(e){var t=me&&me.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(e,"__esModule",{value:!0}),e.htmlToDOM=e.domToReact=e.attributesToProps=e.Text=e.ProcessingInstruction=e.Element=e.Comment=void 0,e.default=l;var n=t(Ln);e.htmlToDOM=n.default;var s=t(zr);e.attributesToProps=s.default;var a=t(Vn);e.domToReact=a.default;var i=Dn;Object.defineProperty(e,"Comment",{enumerable:!0,get:function(){return i.Comment}}),Object.defineProperty(e,"Element",{enumerable:!0,get:function(){return i.Element}}),Object.defineProperty(e,"ProcessingInstruction",{enumerable:!0,get:function(){return i.ProcessingInstruction}}),Object.defineProperty(e,"Text",{enumerable:!0,get:function(){return i.Text}});var o={lowerCaseAttributeNames:!1};function l(c,d){if(typeof c!="string")throw new TypeError("First argument must be a string");return c?(0,a.default)((0,n.default)(c,d?.htmlparser2||o),d):[]}})(Ta);const Rs=sa(Ta),Nn=Rs.default||Rs;function pu(){const{isLoading:e,data:t,error:n,status:s}=Me({queryKey:["recent_activity"],queryFn:nl,staleTime:6e5});return{isLoading:e,data:t,error:n,status:s}}function _s({data:e}){const t=Ee();function n(){t(`/anime/${e.media.id}`,{state:{data:e}})}const s=Ar(),{glow:a}=s;return r.jsxs("div",{onClick:()=>n(),className:"skew3d group relative mt-6 flex w-56 cursor-pointer flex-col items-center justify-center gap-y-2 transition-all ease-in-out hover:scale-110",children:[r.jsx("div",{className:"absolute top-0 h-72 w-48",children:r.jsx("div",{className:"absolute bottom-0 left-0 z-10 line-clamp-1 flex h-6 w-48 rounded-b-sm bg-[#00000090] px-1 text-sm font-semibold tracking-wide backdrop-blur-sm",children:e?.media?.title?.romaji})}),r.jsx("img",{src:e?.media?.coverImage?.extraLarge,alt:"",className:"duration-400 z-0 h-72 w-48 animate-fade rounded-sm object-cover transition-all ease-in-out"}),r.jsx("div",{className:"flex w-[85%] flex-col gap-y-1",children:r.jsxs("div",{className:"z-10 mx-1 line-clamp-1 flex w-full items-center gap-x-2 text-sm font-medium opacity-90",children:[r.jsx("img",{src:e?.user?.avatar.large,alt:"",className:"duration-400 z-0 aspect-square w-8 animate-fade rounded-sm object-cover transition-all ease-in-out"}),e?.user?.name]})})]})}function fu({data:e}){const[t,n]=f.useState(0);return f.useEffect(()=>{const s=()=>{n(window.scrollY)};return window.addEventListener("scroll",s),()=>{window.removeEventListener("scroll",s)}},[]),r.jsx("div",{className:"tripp relative my-4 flex h-[30rem] w-2/6 min-w-[30rem] gap-x-2 overflow-hidden",children:t<900&&r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"absolute -top-[16rem] left-0 w-full",children:r.jsx("div",{className:"flex flex-col",style:{transform:`translateY(-${t*.4}px)`,transition:"transform 0.1s ease-out"},children:e.slice(0,3).map((s,a)=>r.jsx(_s,{data:s},a))})}),r.jsx("div",{className:"absolute -top-[25rem] left-1/2 w-full",children:r.jsx("div",{className:"flex flex-col",style:{transform:`translateY(${t*.4}px)`,transition:"transform 0.1s ease-out"},children:e.slice(3,6).map((s,a)=>r.jsx(_s,{data:s},a))})})]})})}function qa({anime:e}){const{t}=he(),n=Ee();if(!e)return null;const s=()=>{e.magnet_uri?n(`/player/${encodeURIComponent(e.magnet_uri)}/${e.anime_id}/${e.progress||0}/${e.episode_number}`,{state:{data:{id:parseInt(e.anime_id),title:{romaji:e.anime_title,english:e.anime_title},coverImage:{large:e.anime_image,extraLarge:e.anime_image},image:e.anime_image}}}):n(`/anime/${e.anime_id}`,{state:{scrollToEpisode:e.episode_number}})};return r.jsxs("div",{onClick:s,className:"flex gap-4 rounded-lg border border-gray-700 bg-[#1d1d20] p-4 transition hover:bg-[#2a2a2e] cursor-pointer",children:[r.jsx("img",{src:e.anime_image,alt:e.anime_title,className:"h-32 w-24 rounded object-cover"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"text-lg font-bold",children:e.anime_title}),r.jsxs("p",{className:"text-gray-400",children:[t("profile.episode")," ",e.episode_number]}),r.jsxs("div",{className:"mt-2",children:[r.jsx("div",{className:"h-2 w-full rounded-full bg-gray-700",children:r.jsx("div",{className:"h-2 rounded-full bg-blue-500",style:{width:`${e.progress||0}%`}})}),r.jsxs("p",{className:"mt-1 text-sm text-gray-400",children:[e.progress?.toFixed(1)||0,"%"]})]})]})]})}const Jt=()=>{const[e,t]=f.useState(!1),n=()=>{window.scrollTo({top:0,behavior:"smooth"})};return f.useEffect(()=>{const s=()=>{window.scrollY>500?t(!0):t(!1)};return window.addEventListener("scroll",s),()=>window.removeEventListener("scroll",s)},[]),e?r.jsx("button",{onClick:n,className:"fixed bottom-8 right-8 z-50 p-4 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-2xl transition-all duration-300 hover:scale-110 animate-fade-up","aria-label":"Yukarı çık",children:r.jsx(fi,{width:"24",height:"24"})}):null};function gu(){const{t:e}=he(),{user:t,isAuthenticated:n}=$e(),{data:s,error:a}=pu(),[i,o]=f.useState(1),[l,c]=f.useState([]),[d,u]=f.useState(!1),[h,m]=f.useState(!1);f.useEffect(()=>{const A=()=>{const W=window.scrollY,Z=Math.max(0,1-W/500);o(Z),W>300&&!h&&m(!0)};return window.addEventListener("scroll",A),()=>{window.removeEventListener("scroll",A)}},[h]);const{isLoading:p,topAiringAnime:g,error:b}=uc(),P=new Date().getFullYear(),D=fc(),{data:S,fetchNextPage:N,hasNextPage:T,isFetching:v,error:j}=Ci({queryKey:["top_animes"],queryFn:({pageParam:A=1})=>Zo(A),initialPageParam:1,getNextPageParam:(A,W)=>W.length+1,staleTime:1e3*60*60,gcTime:1e3*60*60});f.useEffect(()=>{a&&R.error(e("home.errorRecentActivity"),{icon:r.jsx(Ye,{height:"16",width:"16",color:"#ffffff"}),description:a?.message,classNames:{title:"text-rose-500"}}),j&&R.error(e("home.failedTopAnime"),{icon:r.jsx(Ye,{height:"16",width:"16",color:"#ffffff"}),description:j?.message,classNames:{title:"text-rose-500"}})},[a,j]);const[L,$]=f.useState([]),O=Ee();return f.useEffect(()=>{if(S){const A=S.pages.map(W=>W).flat().filter(Boolean);$(A)}},[S]),f.useEffect(()=>{(async()=>{if(n&&h){u(!0);try{console.log("🔍 Fetching watch history...");const W=await jt.getHistory();console.log("📦 Watch history response:",W.data);const Z=W.data.data||[];console.log(`📊 Total history items: ${Z.length}`);const C=Z.filter(E=>(console.log(`Anime: ${E.anime_title}, Progress: ${E.progress}`),E.progress<100)).slice(0,10);console.log(`✅ Filtered ${C.length} anime for continue watching`),c(C)}catch(W){console.error("❌ Error fetching continue watching:",W),console.error("Error details:",W.response?.data||W.message)}finally{u(!1)}}else n||(console.log("⚠ User not authenticated, clearing continue watching"),c([]))})()},[n,h]),r.jsxs("div",{className:"select-none font-space-mono tracking-tight",children:[r.jsxs("div",{className:"relative flex min-h-[96svh] animate-fade flex-col items-center justify-around gap-y-11 lg:flex-row",style:{},children:[r.jsx("div",{className:"stroke-text absolute top-[-200px] w-full overflow-hidden text-nowrap text-[22rem] text-[#ffffff20]",style:{opacity:i},children:"全身全身全身"}),r.jsx("div",{className:"stroke-text absolute w-full overflow-hidden text-nowrap text-[22rem] text-[#ffffff20]",style:{opacity:i},children:"ZENSHIN ZENSHIN ZENSHIN"}),r.jsx("div",{className:"stroke-text absolute bottom-[-200px] w-full overflow-hidden text-nowrap text-[22rem] text-[#ffffff20]",style:{opacity:i},children:"七転び八起き"}),r.jsxs("div",{className:"my-12 flex h-full w-8/12 flex-col items-center justify-start gap-y-1 p-3 lg:w-2/5",children:[r.jsx("img",{src:ha,alt:"",className:"drop-shadow-xl h-[6rem] object-scale-down"}),r.jsx("p",{className:"font-space-mono",children:e("home.description")})]}),s&&r.jsx(fu,{data:Object.values(s).slice(0,9)})]}),g?.length>0&&r.jsx("div",{className:"w-full",style:{opacity:1-i},children:r.jsx("div",{className:"animate-fade",children:r.jsx(yn.Carousel,{axis:"horizontal",showArrows:!0,showThumbs:!1,autoPlay:!0,interval:5e3,infiniteLoop:!0,renderIndicator:!1,emulateTouch:!0,children:g?.filter(A=>A.seasonYear===P&&A.season.toLowerCase()===D.toLowerCase()&&A.bannerImage!==null).slice(0,5).map(A=>r.jsxs("div",{className:"relative h-72 cursor-pointer",onClick:()=>O(`/anime/${A.id}`,{state:{data:A}}),children:[r.jsx("div",{className:"mask absolute h-full w-8/12 bg-gradient-to-r from-[#141414] backdrop-blur-md"}),r.jsxs("div",{className:"absolute ml-5 flex h-full flex-col items-start justify-center gap-y-2 px-2",children:[r.jsx("div",{className:"line-clamp-1 max-w-xl bg-gradient-to-r from-[#14141480] py-1 text-start text-2xl font-semibold tracking-wider text-white drop-shadow-3xl",children:A.title.romaji}),r.jsx("div",{className:"mb-4 line-clamp-1 max-w-2xl text-start text-xs tracking-wider text-white drop-shadow-3xl",children:A.title.english}),A.description&&r.jsx("div",{className:"line-clamp-[9] w-80 text-left text-xs tracking-wide",children:Nn(A.description)}),r.jsxs("div",{className:"flex gap-x-8 border border-[#ffffff70] bg-[#00000050] px-1 py-1 text-xs backdrop-blur-[2px]",children:[r.jsxs("div",{children:[A.episodes||0," ",e("animePage.episodesLabel")]}),A.averageScore&&r.jsxs("div",{className:"flex items-center gap-x-1 tracking-wide",children:[r.jsx(on,{})," ",A.averageScore," / 100"]}),r.jsxs("div",{className:"flex items-center gap-x-1 tracking-wide",children:[r.jsx(mr,{}),A.popularity.toLocaleString()]}),r.jsxs("div",{className:"flex items-center gap-x-1 tracking-wide",children:[r.jsx(ln,{className:"h-4 w-4 text-white"}),A.format?A.format.slice(0,3):""]})]})]}),r.jsx("img",{src:A.bannerImage,alt:"",className:"h-72 w-full object-cover"})]},A.id+"bannerAnime"))})})}),n&&r.jsxs("div",{className:"mx-5 mt-12 mb-8",children:[r.jsx("div",{className:"mb-4 ml-5 border-b border-gray-700 pb-1 font-space-mono text-lg font-bold tracking-wider",children:e("home.continueWatching")}),h?d?r.jsx("div",{className:"text-center py-12 text-gray-400",children:e("common.loading")}):l.length>0?r.jsx("div",{className:"relative",children:r.jsx("div",{className:"flex gap-4 overflow-x-auto pb-4 scrollbar-hide snap-x snap-mandatory",children:l.map(A=>r.jsx("div",{className:"flex-shrink-0 w-[90%] sm:w-[45%] md:w-[30%] lg:w-[23%] snap-start",children:r.jsx(qa,{anime:A})},A.id))})}):r.jsxs("div",{className:"text-center py-12 border border-gray-700 rounded-lg bg-[#1d1d20]",children:[r.jsx("p",{className:"text-gray-400 mb-2",children:e("home.noWatchHistory")}),r.jsx("p",{className:"text-gray-500 text-sm",children:e("home.startWatchingNow")})]}):r.jsx("div",{className:"text-center py-8 text-gray-500",children:e("common.loading")})]}),b&&r.jsxs("div",{className:"text-red-500",children:[e("home.failedTopAiring")," : ",b.message]}),!b&&r.jsxs("div",{className:"mx-5 mt-8",children:[r.jsx("div",{className:"mb-2 ml-5 border-b border-gray-700 pb-1 font-space-mono text-lg font-bold tracking-wider",children:e("home.topAiringAnime")}),r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 lg2:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-9",children:[!p&&!b&&g?.map(A=>r.jsx(fn,{data:A},A.id+"topAiringAnime")),p&&r.jsxs(r.Fragment,{children:[r.jsx(ke,{}),r.jsx(ke,{}),r.jsx(ke,{}),r.jsx(ke,{}),r.jsx(ke,{}),r.jsx(ke,{}),r.jsx(ke,{})]})]})]}),j&&r.jsxs("div",{className:"text-red-500",children:[e("home.failedTopAnime")," : ",j.message]}),!j&&L.length>0&&r.jsxs("div",{className:"mx-5 mt-12",children:[r.jsx("div",{className:"mb-2 ml-5 border-b border-gray-700 pb-1 font-space-mono text-lg font-bold tracking-wider",children:e("home.topAnime")}),r.jsx("div",{className:"w-full mb-2",children:r.jsx("div",{className:"animate-fade",children:r.jsx(yn.Carousel,{axis:"horizontal",showArrows:!0,showThumbs:!1,autoPlay:!0,interval:5e3,infiniteLoop:!0,renderIndicator:!1,emulateTouch:!0,children:L.slice(0,8).map(A=>r.jsxs("div",{className:"relative h-72 cursor-pointer",onClick:()=>O(`/anime/${A.id}`,{state:{data:A}}),children:[r.jsx("div",{className:"mask absolute h-full w-8/12 bg-gradient-to-r from-[#141414] backdrop-blur-md"}),r.jsxs("div",{className:"absolute ml-5 flex h-full flex-col items-start justify-center gap-y-2 px-2",children:[r.jsx("div",{className:"line-clamp-1 max-w-xl bg-gradient-to-r from-[#14141480] py-1 text-start text-2xl font-semibold tracking-wider text-white drop-shadow-3xl",children:A.title.romaji}),r.jsx("div",{className:"mb-4 line-clamp-1 max-w-2xl text-start text-xs tracking-wider text-white drop-shadow-3xl",children:A.title.english}),A.description&&r.jsx("div",{className:"line-clamp-[9] w-80 text-left text-xs tracking-wide",children:Nn(A.description)}),r.jsxs("div",{className:"flex gap-x-8 border border-[#ffffff70] bg-[#00000050] px-1 py-1 text-xs backdrop-blur-[2px]",children:[r.jsxs("div",{children:[A.episodes||0," ",e("animePage.episodesLabel")]}),A.averageScore&&r.jsxs("div",{className:"flex items-center gap-x-1 tracking-wide",children:[r.jsx(on,{})," ",A.averageScore," / 100"]}),r.jsxs("div",{className:"flex items-center gap-x-1 tracking-wide",children:[r.jsx(mr,{}),A.popularity.toLocaleString()]}),r.jsxs("div",{className:"flex items-center gap-x-1 tracking-wide",children:[r.jsx(ln,{className:"h-4 w-4 text-white"}),A.format?A.format.slice(0,3):""]})]})]}),r.jsx("img",{src:A.bannerImage,alt:"",className:"h-72 w-full object-cover"})]},A.id+"topAnimeBanner"))})})}),r.jsx(pc,{style:{all:"unset"},dataLength:L.length,next:()=>N(),hasMore:L?.length<500,loader:r.jsxs("div",{className:"flex items-center justify-center gap-x-2 overflow-hidden",children:[r.jsx("h4",{children:e("common.loading")}),r.jsx(ea,{})]}),children:r.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 lg2:grid-cols-6 xl:grid-cols-7 2xl:grid-cols-9",children:[L?.map(A=>r.jsx(fn,{data:A},A.id+"topAnime")),v&&r.jsxs(r.Fragment,{children:[r.jsx(ke,{}),r.jsx(ke,{}),r.jsx(ke,{}),r.jsx(ke,{}),r.jsx(ke,{}),r.jsx(ke,{}),r.jsx(ke,{})]})]})})]}),r.jsx(Jt,{})]})}const yu="/zenshin/assets/psyduck-DyxkjxYk.png";function xu({title:e="Something Went wrong !",text:t,type:n}){const s=Si(),a={outer:"border-rose-500 bg-rose-500",inner:"text-rose-500"};return n==="warning"?(a.outer="border-orange-500 bg-orange-500",a.inner="text-orange-500"):n==="info"&&(a.outer="border-sky-500 bg-sky-500",a.inner=`text-sky-500
    `),r.jsx("div",{className:`w-fit rounded-md border ${a.outer} bg-opacity-5 px-8 py-4`,children:r.jsxs("div",{className:"flex flex-col items-center justify-center",children:[r.jsx("img",{src:yu,className:"w-10",alt:""}),r.jsx("div",{className:`font-medium ${a.inner}`,children:e}),r.jsx("p",{className:"text-sm max-w-screen-md",children:t||s?.data||s?.message||"Unknown Error"})]})})}function Ae({title:e,text:t,type:n}){return r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(xu,{text:t,title:e,type:n})})}function vu(e){console.log("Fetching anime with id:",e);const{isLoading:t,data:n,error:s,status:a}=Me({queryKey:["cur_anime",e],queryFn:()=>el(e),staleTime:1e3*60*20});return{isLoading:t,animeData:n,error:s,status:a}}function Vt(){return r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx(la,{})})}function bu(e,t,n){const{isLoading:s,data:a,error:i,status:o}=Me({queryKey:["tosho_episode_tracker",e,t,n],queryFn:()=>e&&t?al(e,t,n):null,enabled:!!(e&&t),staleTime:6e5});return{isLoading:s,data:a,error:i,status:o}}function xt(e,t){const n=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],s=/\.0+$|(?<=\.[0-9]*[1-9])0+$/,a=n.findLast(i=>e>=i.value);return a?(e/a.value).toFixed(t).replace(s,"").concat(a.symbol):"0"}function Ls(e,t=2){if(e===0)return"0 Bytes";const n=1024,s=t<0?0:t,a=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],i=Math.floor(Math.log(e)/Math.log(n));return parseFloat((e/Math.pow(n,i)).toFixed(s))+" "+a[i]}function Os({data:e,anime:t,animeId:n,dualAudio:s,episodeNumber:a,all:i,bannerImage:o,setAvailableSeasons:l}){const{t:c}=he();console.log(e);const d=Ee(),[u,h]=f.useState(!1),m=e?.progress||0,[p,g]=f.useState([]),{isLoading:b,data:P,error:D}=bu(u?e?.quality:null,e?.aids,e?.eids?e.eids:null);f.useEffect(()=>{function j(L){L.key==="Escape"&&h(!1)}return window.addEventListener("keydown",j),()=>window.removeEventListener("keydown",j)},[]);function S(){if(u){h(!1);return}h(j=>!j)}function N(j){d(`/player/${encodeURIComponent(j.magnet_uri)}/${n}/${m}/${a}`,{state:{data:t}})}f.useEffect(()=>{let j=Array.isArray(P)?P:[];if(i&&l&&j.length>0){const L=new Set(["all"]);j.forEach($=>{const A=($?.title||"").match(/(?:S|Season\s*)(\d+)/i);A&&L.add(A[1])}),l(Array.from(L).sort())}e?.selectedSeason&&e.selectedSeason!=="all"&&(j=j.filter(L=>{const $=L?.title||"";return new RegExp(`(?:S|Season\\s*)${e.selectedSeason}`,"i").test($)})),s&&(j=j.filter(L=>{const $=L?.title;if(typeof $=="string"){const O=$.toLowerCase();return O.includes("dual audio")||O.includes("dual-audio")||O.includes("english dub")||O.includes("eng dub")}return!1})),j.sort((L,$)=>$.seeders-L.seeders),g(j)},[s,P,e?.selectedSeason,i,l]);const T=e?.airdate&&(()=>{const j=new Date(e.airdate),L=new Date;return L.setDate(L.getDate()-2),j>L&&j<=new Date})(),v=e?.airdate&&(()=>{const j=new Date(e.airdate),L=new Date;return j.setHours(0,0,0,0),L.setHours(0,0,0,0),j>L})();return i?r.jsxs("div",{onClick:()=>S(),className:"relative m-1 cursor-default border border-gray-700 p-3 font-space-mono transition-all duration-100 ease-in-out hover:bg-[#1e1e20]",children:[r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("div",{className:"flex gap-x-1 font-space-mono font-medium opacity-90",children:r.jsx("div",{children:r.jsxs("p",{className:"flex gap-x-2 font-space-mono text-lg font-medium opacity-90",children:[r.jsxs("span",{className:"flex items-center gap-2 text-gray-400",children:[c("animePage.all")," ",r.jsx(ur,{})]}),"| ",t.romaji]})})})}),u&&r.jsxs("div",{className:"mt-3 flex flex-col gap-y-2",children:[b&&r.jsx(st,{width:"50%"}),D&&r.jsx("p",{className:"font-space-mono text-red-500",children:"Error fetching torrents"}),!b&&p?.length===0&&r.jsx("p",{className:"font-space-mono text-red-500",children:"No torrents found"}),p?.map(j=>r.jsxs("div",{className:"group flex animate-fade-down cursor-pointer flex-col gap-y-1 border-2 border-[#2c2d3c] bg-[#111113] px-2 py-2 transition-all duration-150 ease-in-out animate-duration-500 hover:border-[#c084fc90]",onClick:()=>N(j),children:[r.jsxs("div",{className:"mr-1 flex min-w-32 items-center gap-x-4 p-1",children:[r.jsxs("div",{className:"flex items-center gap-x-1",children:[r.jsx("p",{className:"font-space-mono text-xs opacity-60",children:xt(j.seeders)}),r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"})]}),r.jsxs("div",{className:"flex items-center gap-x-1",children:[r.jsx("p",{className:"font-space-mono text-xs opacity-60",children:xt(j.leechers)}),r.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500"})]}),r.jsxs("div",{className:"flex items-center gap-x-1",children:[r.jsx("p",{className:"font-space-mono text-xs opacity-60",children:xt(j.torrent_downloaded_count)}),r.jsx(Bt,{height:12,width:12,color:"gray"})]}),r.jsxs("div",{className:"flex items-center gap-x-1",children:[r.jsx("p",{className:"text-nowrap font-space-mono text-xs opacity-60",children:j.num_files}),r.jsx(qn,{height:12,width:12,color:"gray"})]}),r.jsxs("div",{className:"flex items-center gap-x-1",children:[r.jsx("p",{className:"text-nowrap font-space-mono text-xs opacity-60",children:Ls(j.total_size,1)}),r.jsx(Gn,{height:12,width:12,color:"gray"})]})]}),r.jsx("p",{className:"cursor-pointer font-space-mono text-sm tracking-wide opacity-55 transition-all duration-150 ease-in-out group-hover:text-purple-400 group-hover:opacity-100",children:j.title})]},j.title))]})]}):a<=m&&e?.hideWatchedEpisodes?null:r.jsxs("div",{className:"flex w-full cursor-default flex-col border border-gray-700 font-space-mono transition-all duration-100 ease-in-out hover:bg-[#1e1e20] hover:opacity-100",children:[r.jsxs("div",{className:"flex",children:[e.thumbnail&&r.jsx("img",{src:e.thumbnail,alt:"episode_img",className:"duration-400 mr-3 h-28 animate-fade object-cover transition-all ease-in-out hover:z-20 hover:scale-150 hover:rounded-md"}),r.jsx("div",{onClick:()=>S(),className:"h-full w-full cursor-default p-2 font-space-mono transition-all duration-100 ease-in-out hover:bg-[#1e1e20] hover:opacity-100",children:r.jsxs("div",{className:`flex h-full items-center justify-between ${v?"opacity-25":""}`,children:[r.jsx("div",{className:"flex items-center gap-x-1 font-space-mono font-medium opacity-90",children:r.jsxs("div",{children:[r.jsxs("p",{className:"flex items-center gap-2 font-space-mono text-lg font-medium opacity-100",children:[a<=m&&r.jsx(ht,{content:"Watched",children:r.jsx("span",{className:"h-2 min-h-2 w-2 min-w-2 rounded-full bg-green-500"})}),r.jsxs("span",{className:"line-clamp-1",children:[e.epNum,". ",e.title]})]}),e.overview&&r.jsx("p",{className:"line-clamp-3 font-space-mono text-sm font-medium opacity-60",children:e.overview})]})}),r.jsxs("div",{className:"flex w-fit gap-x-2 text-xs",children:[r.jsx("div",{className:"ml-4 h-5 w-[1px] bg-[#333]"})," ",e.airdate&&r.jsx("p",{className:`text-nowrap ${T?"text-purple-400 opacity-90":"opacity-50"}`,children:Tr(new Date(e.airdate),"dd MMM yyyy",{locale:Yt})}),r.jsx("div",{className:"h-5 w-[1px] bg-[#333]"})," "]})]})})]}),u&&r.jsxs("div",{className:"mx-3 my-3 flex flex-col gap-y-2",children:[b&&r.jsx(st,{width:"50%",className:"mb-3"}),D&&r.jsx("p",{className:"font-space-mono text-red-500",children:"Error fetching torrents"}),!b&&p?.length===0&&r.jsx("p",{className:"font-space-mono text-red-500",children:"No torrents found"}),p?.map(j=>r.jsxs("div",{className:"group flex animate-fade-down cursor-pointer flex-col gap-y-1 border-2 border-[#2c2d3c] bg-[#111113] px-2 py-2 transition-all duration-150 ease-in-out animate-duration-500 hover:border-[#c084fc90]",onClick:()=>N(j),children:[r.jsxs("div",{className:"mr-1 flex min-w-32 items-center gap-x-4 p-1",children:[r.jsxs("div",{className:"flex items-center gap-x-1",children:[r.jsx("p",{className:"font-space-mono text-xs opacity-60",children:xt(j.seeders)}),r.jsx("div",{className:"h-2 w-2 rounded-full bg-green-500"})]}),r.jsxs("div",{className:"flex items-center gap-x-1",children:[r.jsx("p",{className:"font-space-mono text-xs opacity-60",children:xt(j.leechers)}),r.jsx("div",{className:"h-2 w-2 rounded-full bg-red-500"})]}),r.jsxs("div",{className:"flex items-center gap-x-1",children:[r.jsx("p",{className:"font-space-mono text-xs opacity-60",children:xt(j.torrent_downloaded_count)}),r.jsx(Bt,{height:12,width:12,color:"gray"})]}),r.jsxs("div",{className:"flex items-center gap-x-1",children:[r.jsx("p",{className:"text-nowrap font-space-mono text-xs opacity-60",children:j.num_files}),r.jsx(qn,{height:12,width:12,color:"gray"})]}),r.jsxs("div",{className:"flex items-center gap-x-1",children:[r.jsx("p",{className:"text-nowrap font-space-mono text-xs opacity-60",children:Ls(j.total_size,1)}),r.jsx(Gn,{height:12,width:12,color:"gray"})]})]}),r.jsx("p",{className:"cursor-pointer font-space-mono text-sm tracking-wide opacity-55 transition-all duration-150 ease-in-out group-hover:text-purple-400 group-hover:opacity-100",children:j.title})]},j.title))]})]})}const Wn=["amk","aq","amq","amına","amina","amcık","amcik","sik","yarrak","taşak","tasak","göt","got","piç","pic","orospu","kahpe","pezevenk","am","amguard","amcı","amci","bok","kaka","sıçmak","sicmak","eşek","esek","mal","salak","aptal","gerizekalı","gerzek","sikik","sikerim","siktir","yarak","yarrağım","yarragim","götveren","götoş","götlek","gotlek","ibne","top","homo","hıyar","it","hayvan","ezik","yavşak","dallama","pislik","lavuk","denyo","deyyus","dümbük","dürzü","hödük","zibidi","kavat","gavat","alagavat","kaşar","aşüfte","yosma","yelloz","şıllık","kevaşe","motor","sürtük","kaltak","fallik","fahişe","puşt","ciğersiz","dalyarak","hasiktir","siki","tuttun","sikimde","değil","ciğerini","dalağını","yordamını","sikko","sikindirik","sikimtırak","sikimtronik","sikim","sokum","yarak","kürek","sikimsonik","amına","ibine","oç","amcık","ağızlı","koyayım","koyarım","sik eyim","sikerim","hoşafı","götünden","kıç","lalesi","götübozuk","koyayım","alırım","göte","geldin","ağzına","sıçayım","sıçarım","sıçtık","sıçışlardayız","şarap","çanağına","camına","bacı","avrat","ecdad","ced","sülale","eşekoğlu","eşşek","avradını","bacını","yedi","ceddini","siktiğimin","oğlu","feriştahını","gelmişini","geçmişini","ebesini","göt","lalesi","anasını","avradını","ağzını","yüzünü","pezevengi","boynuzlu","kerata","sikişken","kancık","şırfıntı","pıttık","taşşak","büllük","çük","kutusunu","rahminde","değmis","a.q","agazina","siciyim","agzina","isiyim","agzinin","yayini","akilsiz","biti","amın","oğlu","götünden","sikerim","amcık","ağızlı","yarragı","agizli","hosafi","sulfat","amin","ogl u","osurayım","yumruk","attigim","amsalak","anam","avradım","anan","sicti","essek","gotunden","sikiyim","sikerim","anin","ami","amin i","anasınını","anasi","sikismis","angut","annenin","osurugunu","sikerim","antenle","otuzbir","cekmek","ass","hole","tulip","yarragi","atyarragi","avradini","sikiyim","ayioglu","çuk","kafalı","babanin","amina","koyum","bacinin","amina","geciririm","beyinsiz","sikiyim","bok","chukumu","yala","cibilliyetini","sikiyim","cigerini","sikeyim","amı","daşak","dallama","dalyarak","mezarda","sikiyim","deyus","daşağa","tasagi","eşeğinin","siki","ebeni","sikerim","ebinin","ami","ecdadini","götünden","sikeyim","kafali","orospu","cocugu","eshek","siken","fahise","feriştasını","sikeyim","gavat","götübozuk","götümü","siker","sikicileri","cukume","takil","gevsek","got","girs in","gotune","yayi","girs in","girtlagini","sikeyim","got","siken","got","ver en","gotcu","gotoglani","gotu","boklu","gotu","sikli","gotunu","sikeyim","hiyaragasi","ibne","oğlu","ibne","ibnetor","siker","itoglu","it","izdirabini","sikeyim","kabileni","sikerim","kafana","siciyim","kalantor","kanini","sikiyim","katiksiz","orospu","cocugu","keriz","kicimi","sikeyim","kopek","o.ç.","olusunu","siktigimin","evladi","orosp","oruspu","cucugu","ossurturum","otuzbirci","pezevengin","cocugu","pezevengin","pipi","sadrazam","canagina","sicayim","sikeyim","sersem","sikin","mahsulü","sigir","siki","sik","kafalı","japon","askeri","sik","kafali","sik","kili","sik","kirigi","sikem","chichen","chech","siki","tutmuş","sikik","hayvan","sikik","orospu","cocugu","sikilik","herif","sikilmis","eks isozluk","sikimde","sikimin","eşşeği","sikimin","kurma","kolu","sikimin","sikkafa","sikko","sikli","sultan","siksiz","siktir","sirfinti","agizli","ibne","sulaleni","sikiyim","sutcunin","cocugu","surtuksun","kaltaksin","tarladaki","bacini","sikeyim","tassakli","siksin","ebeni","terlikli","orospunun","oglu","toynagini","sikeyim","travesti","tunek","tupcunun","cocugu","bozi","yaragimin","basi","yarak","kafali","yarragimin","anteni","yarrak","embesil","dangalak","öküz","sığır","manda","şırfıntı","otuz","birci","ağzını","yüzünü","ul an","anasını","sikişken","kancık","pıttık","taşşak","yarragi","değmis","orospu","cocugu","ayagindan","yarragı","avradini","sikiyim","kafali","sikiyim","kafalı","sikiyim","kafali","sikiyim","kafali","sikiyim","ibne","oğlu","ibne","ibnetor","siker","itoglu","it","izdirabini","amına","sikeyim","kabileni","sikerim","kafana","siciyim","kalantor","kanini","çakayım","kopek","beyinli","mal","degneyi","muslumanin","o.ç.","olusunu","siktigimin","evladi","orosp","oruspu","cucugu","ossurturum","otuzbirci","pezevengin","cocugu","pezevengin","pipi","sadrazam","canagina","sicayim","sikeyim","sersem","sikin","mahsulü","sigir","siki","sik","kafalı","japon","orospi","irispi","mk","emuna","amina","eşeksiken","amdelen","döl","amınferyadı","irispiçocu","oçcocu","oçoçuğu","orespi","ibiş","ipine","ib","orispi","orospe","orespu","erispi","pussy","dick","cock","fuck","shit","bitch","ass","asshole","damn","hell","bastard","cunt","whore","slut","fag","nigger","motherfucker","dickhead","dumbass","goddamn","goddamnit","jesus","christ","piss","sonofabitch","prick","penis","pillock","frigging","bollocks","crap","slapper","arse","dork","nonce","tits","moron","cretin","bell","bellend","berk","bint","blimey","blighter","bloody","wanker","twat","knob","shag","bugger","sod","git","minger","slag","tart","tosser","ponce","pikey","chav","nutter","spaz","retard","fucker","fucking","fucked","shitty","pissed","pissing","douche","douchebag","jackass","bullshit","horseshit","cockhead","cum","jizz","semen","turd","fart","queer","dyke","tranny","kike","spic","wop","gook","chink","paki","kraut","nip","dago","mick","taig","abo","boong","coon","honky","redskin","squaw","wetback","beaner","greaser","goober","cracker","peckerwood","ofay","haole","gook","zipperhead","slope","dink","brownie","sandnigger","cameljockey","raghead","towelhead","hajji","jihad","infidel","kafir","mullah","taliban","alqaeda","31","69","420","seks","sex","porn","porno","nude","çıplak","ciplak","anal","blowjob","handjob","orgasm","masturbate","wank","jerkoff","fellate","cunnilingus","fellatio","69","threesome","gangbang","bukkake","creampie","admin","moderator","mod","system","zenshin","anilist","official","hitler","nazi","isis","terrorist","spam","bot","hack","phish","scam","fraud","racist","sexist","homophobe","bigot","fascist","communist","capitalist","zionist","antisemite","islamophobe","xenophobe","misogynist","pedophile","rapist","murderer","killer","genocide"],En=e=>{const t=[],n=e.toLowerCase();e.length<3&&t.push("Kullanıcı adı en az 3 karakter olmalı"),e.length>20&&t.push("Kullanıcı adı en fazla 20 karakter olmalı"),/^[a-zA-Z]/.test(e)||t.push("Kullanıcı adı harf ile başlamalı"),/\d{3,}/.test(e)&&t.push("Kullanıcı adı 3+ ardışık rakam içeremez"),/(.)\1{2,}/.test(e)&&t.push("Kullanıcı adı aynı karakteri 3+ kez içeremez"),/^[a-zA-Z0-9_]+$/.test(e)||t.push("Kullanıcı adı sadece harf, rakam ve alt çizgi içerebilir");for(const s of Wn)if(n.includes(s)){t.push("Kullanıcı adı uygunsuz kelime içeriyor"),console.log(`❌ Banned word detected: "${s}"`);break}return{isValid:t.length===0,errors:t}},wu=e=>{if(!e)return"";let t=e.toLowerCase().replace(/[^a-z0-9_]/g,"").replace(/\d{3,}/g,"").replace(/(.)\1{2,}/g,"$1$1");/^[a-z]/.test(t)||(t="user_"+t);for(const n of Wn){const s=new RegExp(n,"gi");t=t.replace(s,"")}return t.length>20&&(t=t.substring(0,20)),t},Su=e=>{const t=[],n=wu(e);return n.length>=3&&(t.push(n),t.push(n+"_"+Math.floor(Math.random()*100)),t.push(n+Math.floor(Math.random()*10))),t.filter(s=>En(s).isValid)},cr=e=>{if(!e||typeof e!="string")return{isClean:!1,bannedWords:[]};const t=e.toLowerCase(),n=[];for(const s of Wn)t.includes(s.toLowerCase())&&n.push(s);return{isClean:n.length===0,bannedWords:n}},Ga=({animeId:e})=>{const{t}=he(),{user:n,isAuthenticated:s}=$e(),[a,i]=f.useState([]),[o,l]=f.useState(!1),[c,d]=f.useState(""),[u,h]=f.useState(null),[m,p]=f.useState(""),[g,b]=f.useState(1),[P,D]=f.useState(!0),[S,N]=f.useState(!1),[T,v]=f.useState(!1),j=f.useRef(null),L=f.useCallback(async(E=1)=>{try{l(!0);const U=await qo(e,E);i(E===1?U.data.data:_=>[..._,...U.data.data]),D(U.data.data.length===20)}catch(U){console.error("Error loading comments:",U)}finally{l(!1)}},[e]);f.useEffect(()=>{L()},[e,L]);const $=async E=>{if(E.preventDefault(),!c.trim())return;if(!cr(c).isClean){N(!0);return}try{const _=await Zn({anime_id:e,content:c.trim(),parent_id:null});i(k=>[_.data.data,...k]),d(""),N(!1),R.success(t("comments.commentAdded"))}catch(_){console.error("Error adding comment:",_),_.response?.data?.message?.includes("uygunsuz")?N(!0):R.error(t("comments.addError"))}},O=async E=>{if(!m.trim())return;if(!cr(m).isClean){v(!0);return}try{const _=await Zn({anime_id:e,content:m.trim(),parent_id:E});i(k=>k.map(I=>I.id===E?{...I,replies:[...I.replies||[],_.data.data]}:I)),h(null),p(""),v(!1),R.success(t("comments.replyAdded"))}catch(_){console.error("Error adding reply:",_),_.response?.data?.message?.includes("uygunsuz")?v(!0):R.error(t("comments.addError"))}},A=async E=>{if(!s){R.error(t("comments.loginToLike"));return}try{const U=await Go(E);i(_=>_.map(k=>k.id===E?{...k,likes_count:U.data.action==="liked"?k.likes_count+1:k.likes_count-1,is_liked:U.data.action==="liked"?1:0}:k)),R.success(t("comments.likeSuccess"))}catch(U){console.error("Error liking comment:",U),R.error(t("comments.likeError"))}},W=async(E,U=!1,_=null)=>{try{await Xo(E),i(U&&_?k=>k.map(I=>I.id===_?{...I,replies:(I.replies||[]).filter(B=>B.id!==E)}:I):k=>k.filter(I=>I.id!==E)),R.success(t("comments.commentDeleted"))}catch(k){console.error("Error deleting comment:",k),R.error(t("comments.deleteError"))}},Z=E=>{const U=new Date(E);return U.toLocaleDateString()+" "+U.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})},C=E=>Pi.sanitize(E).replace(/@(\w+)/g,'<span class="text-blue-400 font-medium">@$1</span>');return r.jsxs("div",{className:"mt-8",children:[r.jsx("h3",{className:"text-2xl font-bold mb-4",children:t("comments.title")}),!s&&r.jsxs("div",{className:"mb-6 p-4 bg-[#1d1d20] border border-gray-700 rounded-lg text-center",children:[r.jsx("p",{className:"text-gray-400 mb-3",children:t("comments.loginToComment")||"Yorum yapmak için giriş yapın"}),r.jsx(X,{asChild:!0,children:r.jsx(we,{to:"/login",children:t("auth.login")})})]}),s&&r.jsx("form",{ref:j,onSubmit:$,className:"mb-6",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx("img",{src:n?.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${n?.username||"default"}`,alt:"avatar",className:"w-10 h-10 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("textarea",{value:c,onChange:E=>{d(E.target.value),N(!1)},onKeyDown:E=>{E.key==="Enter"&&!E.shiftKey&&(E.preventDefault(),S||cr(c).isClean?$(E):N(!0))},placeholder:t("comments.placeholder"),className:"w-full p-3 bg-[#1d1d20] border border-gray-700 rounded-lg resize-none focus:outline-none focus:border-blue-500",rows:3}),S&&r.jsx("div",{className:"mt-2 p-3 bg-yellow-900/30 border border-yellow-700 rounded-lg",children:r.jsx("p",{className:"text-yellow-400 text-sm",children:t("comments.profanityWarning")})}),r.jsx("div",{className:"flex justify-end mt-2",children:r.jsx(X,{type:"submit",disabled:!c.trim(),children:t("comments.post")})})]})]})}),r.jsx("div",{className:"space-y-4",children:a.map(E=>r.jsx("div",{className:"bg-[#1d1d20] rounded-lg p-4",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx("img",{src:E.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${E.username}`,alt:"avatar",className:"w-10 h-10 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("span",{className:"font-medium",children:E.username}),r.jsx("span",{className:"text-sm text-gray-400",children:Z(E.created_at)}),s&&E.user_id===n?.id&&r.jsx(X,{size:"1",variant:"ghost",color:"red",onClick:()=>W(E.id),children:r.jsx(yr,{})})]}),r.jsx("div",{className:"text-gray-200 mb-3",dangerouslySetInnerHTML:{__html:C(E.content)}}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(X,{size:"1",variant:"ghost",onClick:()=>A(E.id),className:E.is_liked?"text-red-400":"",disabled:!s,children:[r.jsx(gi,{}),E.likes_count>0&&r.jsx("span",{className:"ml-1",children:E.likes_count})]}),s&&r.jsxs(X,{size:"1",variant:"ghost",onClick:()=>h(u===E.id?null:E.id),children:[r.jsx(ta,{}),t("comments.reply")]})]}),u===E.id&&s&&r.jsx("div",{className:"mt-3 ml-8",children:r.jsxs("div",{className:"flex gap-3",children:[r.jsx("img",{src:n?.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${n?.username||"default"}`,alt:"avatar",className:"w-8 h-8 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("textarea",{value:m,onChange:U=>{p(U.target.value),v(!1)},onKeyDown:U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),T||cr(m).isClean?O(E.id):v(!0))},placeholder:t("comments.replyPlaceholder"),className:"w-full p-2 bg-[#2d2d30] border border-gray-700 rounded resize-none focus:outline-none focus:border-blue-500 text-sm",rows:2}),T&&r.jsx("div",{className:"mt-2 p-2 bg-yellow-900/30 border border-yellow-700 rounded",children:r.jsx("p",{className:"text-yellow-400 text-xs",children:t("comments.profanityWarning")})}),r.jsxs("div",{className:"flex justify-end gap-2 mt-2",children:[r.jsx(X,{size:"1",variant:"ghost",onClick:()=>{h(null),p(""),v(!1)},children:t("common.cancel")}),r.jsx(X,{size:"1",onClick:()=>O(E.id),disabled:!m.trim(),children:t("comments.postReply")})]})]})]})}),E.replies&&E.replies.length>0&&r.jsx("div",{className:"ml-8 mt-4 space-y-3",children:E.replies.map(U=>r.jsx("div",{className:"bg-[#2d2d30] rounded p-3",children:r.jsxs("div",{className:"flex gap-2",children:[r.jsx("img",{src:U.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${U.username}`,alt:"avatar",className:"w-8 h-8 rounded-full"}),r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[r.jsx("span",{className:"font-medium text-sm",children:U.username}),r.jsx("span",{className:"text-xs text-gray-400",children:Z(U.created_at)}),s&&U.user_id===n?.id&&r.jsx(X,{size:"1",variant:"ghost",color:"red",onClick:()=>W(U.id,!0,E.id),children:r.jsx(yr,{})})]}),r.jsx("div",{className:"text-gray-200 text-sm",dangerouslySetInnerHTML:{__html:C(U.content)}})]})]})},U.id))})]})]})},E.id))}),P&&r.jsx("div",{className:"text-center mt-6",children:r.jsx(X,{onClick:()=>{b(E=>E+1),L(g+1)},disabled:o,children:t(o?"common.loading":"comments.loadMore")})}),a.length===0&&!o&&r.jsx("div",{className:"text-center text-gray-400 py-8",children:t("comments.noComments")})]})};function Xa(e,t=!1){const{isLoading:n,data:s,error:a,status:i}=Me({queryKey:["cur_anime_anizip",e],queryFn:()=>e?rl(e,t):null,staleTime:3e5});return{isLoading:n,data:s,error:a,status:i}}function ju(e){console.log("Fetching anime with id:",e);const{isLoading:t,data:n,error:s,status:a}=Me({queryKey:["cur_anime_mal",e],queryFn:()=>e?tl(e):null,staleTime:1e3*60*20});return{isLoading:t,data:n,error:s,status:a}}const ku=(()=>{const s="(<("+("(?=!--|!\\[CDATA\\[)((?=!-)"+"!(?:-(?!->)[^\\-]*)*(?:-->)?"+"|"+"!\\[CDATA\\[[^\\]]*(?:](?!]>)[^\\]]*)*?(?:]]>)?"+")")+"|[^>]*>?))";return new RegExp(s)})();function Nu(e){const t=[];let n=e,s;for(;s=n.match(ku);){const a=s.index;t.push(n.slice(0,a)),t.push(s[0]),n=n.slice(a+s[0].length)}return n.length&&t.push(n),t}function Eu(e,t){const n=Nu(e);let s=!1;const a=Object.keys(t);for(let i=1;i<n.length;i+=2)for(let o=0;o<a.length;o++){const l=a[o];if(n[i].indexOf(l)!==-1){n[i]=n[i].replace(new RegExp(l,"g"),t[l]),s=!0;break}}return s&&(e=n.join("")),e}function Pu(e,t=!0){const n=[];if(e.trim()==="")return"";if(e=e+`
`,e.indexOf("<pre")!==-1){const i=e.split("</pre>"),o=i.pop();e="";for(let l=0;l<i.length;l++){const c=i[l],d=c.indexOf("<pre");if(d===-1){e+=c;continue}const u="<pre wp-pre-tag-"+l+"></pre>";n.push([u,c.substr(d)+"</pre>"]),e+=c.substr(0,d)+u}e+=o}e=e.replace(/<br\s*\/?>\s*<br\s*\/?>/g,`

`);const s="(?:table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary)";e=e.replace(new RegExp("(<"+s+"[\\s/>])","g"),`

$1`),e=e.replace(new RegExp("(</"+s+">)","g"),`$1

`),e=e.replace(/\r\n|\r/g,`
`),e=Eu(e,{"\n":" <!-- wpnl --> "}),e.indexOf("<option")!==-1&&(e=e.replace(/\s*<option/g,"<option"),e=e.replace(/<\/option>\s*/g,"</option>")),e.indexOf("</object>")!==-1&&(e=e.replace(/(<object[^>]*>)\s*/g,"$1"),e=e.replace(/\s*<\/object>/g,"</object>"),e=e.replace(/\s*(<\/?(?:param|embed)[^>]*>)\s*/g,"$1")),(e.indexOf("<source")!==-1||e.indexOf("<track")!==-1)&&(e=e.replace(/([<\[](?:audio|video)[^>\]]*[>\]])\s*/g,"$1"),e=e.replace(/\s*([<\[]\/(?:audio|video)[>\]])/g,"$1"),e=e.replace(/\s*(<(?:source|track)[^>]*>)\s*/g,"$1")),e.indexOf("<figcaption")!==-1&&(e=e.replace(/\s*(<figcaption[^>]*>)/,"$1"),e=e.replace(/<\/figcaption>\s*/,"</figcaption>")),e=e.replace(/\n\n+/g,`

`);const a=e.split(/\n\s*\n/).filter(Boolean);return e="",a.forEach(i=>{e+="<p>"+i.replace(/^\n*|\n*$/g,"")+`</p>
`}),e=e.replace(/<p>\s*<\/p>/g,""),e=e.replace(/<p>([^<]+)<\/(div|address|form)>/g,"<p>$1</p></$2>"),e=e.replace(new RegExp("<p>\\s*(</?"+s+"[^>]*>)\\s*</p>","g"),"$1"),e=e.replace(/<p>(<li.+?)<\/p>/g,"$1"),e=e.replace(/<p><blockquote([^>]*)>/gi,"<blockquote$1><p>"),e=e.replace(/<\/blockquote><\/p>/g,"</p></blockquote>"),e=e.replace(new RegExp("<p>\\s*(</?"+s+"[^>]*>)","g"),"$1"),e=e.replace(new RegExp("(</?"+s+"[^>]*>)\\s*</p>","g"),"$1"),t&&(e=e.replace(/<(script|style).*?<\/\\1>/g,i=>i[0].replace(/\n/g,"<WPPreserveNewline />")),e=e.replace(/<br>|<br\/>/g,"<br />"),e=e.replace(/(<br \/>)?\s*\n/g,(i,o)=>o?i:`<br />
`),e=e.replace(/<WPPreserveNewline \/>/g,`
`)),e=e.replace(new RegExp("(</?"+s+"[^>]*>)\\s*<br />","g"),"$1"),e=e.replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)[^>]*>)/g,"$1"),e=e.replace(/\n<\/p>$/g,"</p>"),n.forEach(i=>{const[o,l]=i;e=e.replace(o,l)}),e.indexOf("<!-- wpnl -->")!==-1&&(e=e.replace(/\s?<!-- wpnl -->\s?/g,`
`)),e}function Tu(){const{t:e}=he(),t=Ar(),{glow:n}=t,s=Ee(),{isAuthenticated:a}=$e(),i=f.useRef(null),o=aa().animeId,{isLoading:l,animeData:c,error:d,status:u}=vu(o),[h,m]=f.useState([]),p=c?.idMal,g=c?.mediaListEntry?.progress||0,[b,P]=f.useState("All"),{isLoading:D,data:S,error:N}=Xa(o),{data:T,error:v}=ju(p||null);let j=S?.episodes,L={en:"",ja:"",xJat:"",malTitleRomaji:"",malTitleEnglish:""};if(S?.titles&&(L.en=S?.titles?.en||"",L.ja=S?.titles?.ja||"",L.xJat=S?.titles["x-jat"]||"",L.malTitleRomaji=T?.data?.titles[0]?.title||"",L.malTitleEnglish=T?.data?.titles[4]?.title||""),j){j=Object.keys(j)?.map(x=>j[x]);let y=j.map(x=>isNaN(x.episode)?null:{epNum:x.episode,title:x.title.en||x.title["x-jat"]||x.title.jp||`${e("newReleaseCard.episode")} ${x.episode}`,thumbnail:x.image,airdate:x.airdate,overview:x.overview,aids:S?.mappings?.anidb_id,eids:x.anidbEid});y=y.filter(x=>x!==null),j=y}const[$,O]=f.useState(!1),[A,W]=f.useState(!1),[Z,C]=f.useState("all"),[E,U]=f.useState(["all"]),_=()=>{i.current?.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{i.current?.querySelector("textarea")?.focus()},800)};if(f.useEffect(()=>{if(c?.relations){const y=c.relations.edges||[],x=y.filter(q=>q.relationType==="PREQUEL"&&q.node.format==="TV").map(q=>({id:q.node.id,title:q.node.title.romaji||q.node.title.english,type:"prequel",episodes:q.node.episodes,status:q.node.status,coverImage:q.node.coverImage?.large})),z=y.filter(q=>q.relationType==="SEQUEL"&&q.node.format==="TV").map(q=>({id:q.node.id,title:q.node.title.romaji||q.node.title.english,type:"sequel",episodes:q.node.episodes,status:q.node.status,coverImage:q.node.coverImage?.large})),H={id:c.id,title:c.title.romaji||c.title.english,type:"current",episodes:c.episodes,status:c.status,coverImage:c.coverImage?.large},ae=[...x,H,...z];m(ae),console.log("📺 Found seasons:",ae.map(q=>q.title))}},[c]),l)return r.jsx(Vt,{});if((N||v)&&R.error(e("errorFetchingAnime"),{icon:r.jsx(Ye,{height:"16",width:"16",color:"#ffffff"}),description:`${e("couldntFetchAnime")}: ${N?.message||v?.message}`,classNames:{title:"text-rose-500"}}),d)throw new Error(d);if(u!=="success")return r.jsx(Vt,{});const k=c;(!j||j.length===0)&&k?.episodes?j=Array.from({length:k.episodes},(y,x)=>({epNum:x+1,title:`${e("newReleaseCard.episode")} ${x+1}`,thumbnail:null,airdate:null,overview:null,aids:S?.mappings?.anidb_id||null,eids:null})):(!j||j.length===0)&&(j=[]);const I=k?.startDate?new Date(k.startDate.year,k.startDate.month-1,k.startDate.day):null;k?.endDate&&new Date(k.endDate.year,k.endDate.month-1,k.endDate.day);let B=k?.streamingEpisodes;return B?.sort((y,x)=>{const z=parseInt(y.title.split(" ")[1]),H=parseInt(x.title.split(" ")[1]);return z-H}),B=j,r.jsxs("div",{children:[k?.bannerImage&&r.jsxs("div",{className:"relative",children:[n&&r.jsx("div",{className:"animate-fade-down",children:r.jsx("img",{src:k?.bannerImage,className:"absolute top-0 z-0 h-72 w-full object-cover opacity-70 blur-3xl brightness-75 saturate-150",alt:""})}),r.jsx("img",{src:k?.bannerImage,className:"z-10 h-72 w-full animate-fade-down object-cover brightness-75",alt:""})]}),r.jsxs("div",{className:"z-10 mx-auto animate-fade px-6 py-4 lg:container",children:[r.jsxs("div",{className:"flex justify-between gap-x-7",children:[r.jsx("img",{src:k?.coverImage.extraLarge,alt:"",className:`duration-400 relative ${k?.bannerImage?"bottom-[4rem]":""} shadow-xl drop-shadow-2xl h-[25rem] w-72 animate-fade-up rounded-md object-cover transition-all ease-in-out`}),r.jsxs("div",{className:"flex-1 justify-start gap-y-0",children:[r.jsx("p",{className:"font-space-mono text-xl font-medium opacity-90",children:k?.title.romaji}),r.jsx("p",{className:"text font-space-mono font-medium opacity-60",children:k?.title.english}),r.jsx("div",{className:"my-3 h-[1px] w-full bg-[#333]"})," ",r.jsxs("div",{className:"flex w-fit gap-x-2 pr-4 text-xs opacity-60",children:[r.jsx("p",{className:"",children:k?.format}),r.jsx("div",{className:"h-5 w-[1px] bg-[#333]"})," ",r.jsx("p",{children:`${k?.episodes?k?.episodes:"?"} ${e("animePage.episodesLabel")}`}),r.jsx("div",{className:"h-5 w-[1px] bg-[#333]"})," ",r.jsxs("p",{children:["(",e(`animePage.status_${k?.status?.toLowerCase()}`),")"]}),r.jsx("div",{className:"h-5 w-[1px] bg-[#333]"})," ",r.jsx("p",{className:"text-xs opacity-60",children:I&&Tr(I,"MMMM yyyy",{locale:Yt})}),r.jsx("div",{className:"h-5 w-[1px] bg-[#333]"})," ",r.jsx("p",{className:"opacity-60",children:e(`animePage.season_${k?.season?.toLowerCase()}`)}),r.jsx("div",{className:"h-5 w-[1px] bg-[#333]"})," ",k.averageScore&&r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"flex gap-x-1 tracking-wide opacity-90",children:[r.jsx(on,{})," ",k.averageScore," / 100"]}),r.jsx("div",{className:"h-5 w-[1px] bg-[#333]"})," "]}),r.jsxs("div",{className:"flex gap-x-1 tracking-wide opacity-90",children:[r.jsx(mr,{}),k.popularity.toLocaleString()]})]}),r.jsx("div",{className:"my-3 h-[1px] w-1/2 bg-[#333]"})," ",r.jsx("div",{className:"animate-fade animate-duration-1000",children:r.jsx("div",{className:"flex flex-col gap-y-2 font-space-mono text-sm opacity-55",children:Nn(Pu(T?.data?.synopsis||k?.description||e("noDescription")))})}),r.jsxs("div",{className:"mt-6 flex gap-x-5",children:[r.jsx(we,{target:"_blank",to:k?.siteUrl,children:r.jsx(X,{size:"1",variant:"",children:"AniList"})}),T?.data?.url&&r.jsx(we,{target:"_blank",to:T?.data?.url,children:r.jsx(X,{size:"1",variant:"",children:"MyAnimeList"})}),k?.trailer?.site==="youtube"&&r.jsx(we,{target:"_blank",to:`https://www.youtube.com/watch?v=${k?.trailer.id}`,children:r.jsx(X,{size:"1",color:"red",variant:"",children:"YouTube"})})]})]})]}),r.jsxs("div",{className:"mb-64 mt-12",children:[r.jsxs("div",{className:"flex items-center gap-x-3",children:[r.jsx("p",{className:"font-space-mono text-lg font-medium opacity-90",children:e("animePage.episodesTitle")}),a&&r.jsxs(X,{variant:"soft",size:"2",onClick:_,color:"cyan",className:"font-medium",children:[r.jsx(ta,{width:"16",height:"16"}),e("comments.writeComment")]}),r.jsx(X,{variant:"soft",size:"1",onClick:()=>O(!$),color:$?"blue":"gray",children:e("animePage.englishDub")}),r.jsx(X,{variant:"soft",size:"1",onClick:()=>W(!A),color:A?"blue":"gray",children:e("animePage.hideWatchedEpisodes")}),r.jsxs(hr,{className:"nodrag",modal:!1,children:[r.jsx(pr,{children:r.jsxs(X,{variant:"soft",color:"gray",size:"1",children:[r.jsxs("div",{className:"flex animate-fade items-center gap-x-2",children:[e("animePage.quality")," ",b==="All"?e("animePage.all"):b]}),r.jsx(fr,{})]})}),r.jsxs(gr,{children:[r.jsx(nt,{color:`${b==="All"?"indigo":"gray"}`,onClick:()=>P("All"),children:e("animePage.all")}),r.jsx(nt,{color:`${b==="1080p"?"indigo":"gray"}`,shortcut:"HD",onClick:()=>P("1080p"),children:e("animePage.hd")}),r.jsx(nt,{color:`${b==="720p"?"indigo":"gray"}`,shortcut:"SD",onClick:()=>P("720p"),children:e("animePage.sd")})]})]}),h.length>1&&r.jsxs(hr,{className:"nodrag",modal:!1,children:[r.jsx(pr,{children:r.jsxs(X,{variant:"soft",color:"purple",size:"1",children:[r.jsxs("div",{className:"flex animate-fade items-center gap-x-2",children:["📺 ",c?.title?.romaji?.split(" ").slice(0,2).join(" ")," (",h.findIndex(y=>y.id===c.id)+1,"/",h.length,")"]}),r.jsx(fr,{})]})}),r.jsx(gr,{children:h.map((y,x)=>r.jsx(nt,{color:y.id===c.id?"indigo":"gray",onClick:()=>{y.id!==c.id&&s(`/anime/${y.id}`)},children:r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("img",{src:y.coverImage,alt:"",className:"w-8 h-12 object-cover rounded"}),r.jsxs("div",{children:[r.jsxs("div",{className:"font-semibold",children:["Season ",x+1]}),r.jsxs("div",{className:"text-xs opacity-60",children:[y.episodes," eps • ",y.status]})]})]})},y.id))})]})]}),!D&&r.jsxs("div",{className:"mt-3 grid grid-cols-1 gap-y-3",children:[r.jsx(Os,{all:!0,anime:k,dualAudio:$,data:{aids:S?.mappings?.anidb_id,quality:b,eids:0,selectedSeason:Z},bannerImage:k?.bannerImage,setAvailableSeasons:U}),B?.filter(y=>{if(Z==="all")return!0;const x=parseInt(y.epNum);return Math.ceil(x/12).toString()===Z})?.map((y,x)=>r.jsx(Os,{anime:k,animeId:k.id,data:{...y,progress:g,hideWatchedEpisodes:A,quality:b,selectedSeason:Z},dualAudio:$,episodeNumber:parseInt(y.epNum),aniZip_titles:L,bannerImage:k?.bannerImage},"ep -"+x))]}),D&&r.jsx(st,{className:"mt-3 h-12"})]}),r.jsx("div",{ref:i,children:r.jsx(Ga,{animeId:o})})]}),r.jsx(Jt,{})]})}function Cu({videoSrc:e,subtitleSrc:t,onTimeUpdate:n,initialTime:s=0,quality:a="1080p",onQualityChange:i,upscaleAvailable:o=!1,originalVideoSrc:l=null,availableQualities:c=["480p","720p","1080p","4K"],animeId:d=null,episodeNumber:u=null,magnetUri:h=null}){const{t:m}=he(),{user:p}=$e(),g=f.useRef(null),[b,P]=f.useState(!1),[D,S]=f.useState(0),[N,T]=f.useState(0),[v,j]=f.useState(1),[L,$]=f.useState(!0),[O,A]=f.useState(!1),[W,Z]=f.useState(null),[C,E]=f.useState(!0),[U,_]=f.useState(1),[k,I]=f.useState(!1),[B,y]=f.useState(!0),[x,z]=f.useState({fontSize:18,fontFamily:"Arial",color:"#FFFFFF",backgroundColor:"rgba(0, 0, 0, 0.7)",outline:"black",position:"bottom",verticalPosition:80,opacity:1}),H=f.useRef(null),ae=f.useRef(null),q=f.useRef(null),[ce,dt]=f.useState(0),[Pe]=f.useState({currentTime:0,duration:0,watchedPercentage:0,lastWatched:null}),Ve=()=>{H.current&&clearTimeout(H.current),$(!0),b&&!k&&(H.current=setTimeout(()=>{$(!1)},3e3))};f.useEffect(()=>{const w=F=>{ae.current&&!ae.current.contains(F.target)&&I(!1)};return k&&document.addEventListener("mousedown",w),()=>{document.removeEventListener("mousedown",w)}},[k]),f.useEffect(()=>{const w=F=>{const V=g.current;if(!(!V||k))switch(F.code){case"Space":F.preventDefault(),Te(),R("⏯️ "+(b?"Durduruldu":"Oynatılıyor"),{duration:1e3});break;case"ArrowLeft":F.preventDefault(),V.currentTime=Math.max(0,V.currentTime-10),R("⏪ 10 saniye geri",{duration:1e3});break;case"ArrowRight":F.preventDefault(),V.currentTime=Math.min(V.duration,V.currentTime+10),R("⏩ 10 saniye ileri",{duration:1e3});break;case"ArrowUp":F.preventDefault();const se=Math.min(1,V.volume+.1);V.volume=se,j(se),R(`🔊 Ses: ${Math.round(se*100)}%`,{duration:1e3});break;case"ArrowDown":F.preventDefault();const oe=Math.max(0,V.volume-.1);V.volume=oe,j(oe),R(`🔉 Ses: ${Math.round(oe*100)}%`,{duration:1e3});break;case"KeyF":F.preventDefault(),yt();break;case"KeyM":F.preventDefault(),V.muted=!V.muted,R(V.muted?"🔇 Sessiz":"🔊 Ses açık",{duration:1e3});break;case"Comma":F.preventDefault();const ge=Math.max(.25,V.playbackRate-.25);V.playbackRate=ge,_(ge),R(`🐌 Hız: ${ge}x`,{duration:1e3});break;case"Period":F.preventDefault();const Ce=Math.min(2,V.playbackRate+.25);V.playbackRate=Ce,_(Ce),R(`🐇 Hız: ${Ce}x`,{duration:1e3});break;case"Digit0":F.preventDefault(),V.currentTime=0,R("⏮️ Başa dön",{duration:1e3});break;case"Digit1":case"Digit2":case"Digit3":case"Digit4":case"Digit5":case"Digit6":case"Digit7":case"Digit8":case"Digit9":F.preventDefault();const ve=parseInt(F.code.replace("Digit",""))/10;V.currentTime=V.duration*ve,R(`⏭️ ${Math.round(ve*100)}% konumuna gidildi`,{duration:1e3});break;case"KeyS":F.preventDefault(),I(!k);break;case"KeyC":F.preventDefault(),y(ze=>!ze),R(B?"🚫 Altyazı kapatıldı":"📝 Altyazı açıldı",{duration:1e3});break;case"KeyJ":F.preventDefault();const Le=x.position==="bottom"?Math.min(150,x.verticalPosition+10):Math.max(10,x.verticalPosition-10);z(ze=>({...ze,verticalPosition:Le})),R(`📝 Altyazı ${x.position==="bottom"?"aşağı":"yukarı"}: ${Le}px`,{duration:1e3});break;case"KeyK":F.preventDefault();const Oe=x.position==="bottom"?Math.max(10,x.verticalPosition-10):Math.min(150,x.verticalPosition+10);z(ze=>({...ze,verticalPosition:Oe})),R(`📝 Altyazı ${x.position==="bottom"?"yukarı":"aşağı"}: ${Oe}px`,{duration:1e3});break}};return document.addEventListener("keydown",w),()=>document.removeEventListener("keydown",w)},[b,k]),f.useEffect(()=>{const w=g.current;if(!w)return;const F=()=>{T(w.duration),E(!1),s>0&&(w.currentTime=s,console.log("⏩ Jumped to:",s,"s")),setTimeout(()=>{const pe=w.textTracks;if(pe&&pe.length>0){for(let Je=0;Je<pe.length;Je++)pe[Je].mode="showing";console.log(`📝 ${pe.length} subtitle track(s) enabled`)}else console.log("⚠️ No subtitle tracks found")},500)},V=()=>{const pe=w.currentTime;S(pe),d&&u&&Math.abs(pe-ce)>=10&&(dt(pe),K(pe,w.duration)),n&&n(pe,w.duration)},se=()=>{const pe=G();if(pe&&s===0){const Je=localStorage.getItem(pe);if(Je)try{const Ze=JSON.parse(Je);Ze.watchedPercentage>5&&Ze.watchedPercentage<90&&(w.currentTime=Ze.currentTime,R.info(`📺 ${Math.round(Ze.watchedPercentage)}% kaldığınız yerden devam`,{duration:2e3}))}catch(Ze){console.log("Progress restore failed:",Ze)}}},oe=()=>{P(!0),Ve()},ge=()=>{P(!1),$(!0),H.current&&clearTimeout(H.current)},Ce=()=>{j(w.volume)},ve=pe=>{console.error("❌ Video error:",pe),Z("Video yüklenemedi. Backend çalıştığından emin olun."),E(!1),R.error("❌ Video Hatası",{description:"Video stream'e erişilemiyor",duration:5e3})},Le=()=>{E(!1),Z(null)},Oe=()=>{E(!0)},ze=()=>{E(!1)};return w.addEventListener("loadedmetadata",F),w.addEventListener("loadeddata",se),w.addEventListener("timeupdate",V),w.addEventListener("play",oe),w.addEventListener("pause",ge),w.addEventListener("volumechange",Ce),w.addEventListener("error",ve),w.addEventListener("canplay",Le),w.addEventListener("waiting",Oe),w.addEventListener("canplaythrough",ze),()=>{w.removeEventListener("loadedmetadata",F),w.removeEventListener("loadeddata",se),w.removeEventListener("timeupdate",V),w.removeEventListener("play",oe),w.removeEventListener("pause",ge),w.removeEventListener("volumechange",Ce),w.removeEventListener("error",ve),w.removeEventListener("canplay",Le),w.removeEventListener("waiting",Oe),w.removeEventListener("canplaythrough",ze),H.current&&clearTimeout(H.current),q.current&&clearTimeout(q.current)}},[s,n,b]),f.useEffect(()=>{const w=g.current;!w||!e||(console.log("🔄 Setting video source:",e),E(!0),Z(null),w.src=e,w.load())},[e]);const Te=()=>{const w=g.current;w&&(b?w.pause():w.play().catch(F=>{console.error("Play failed:",F),R.error("Oynatma başarısız",{description:"Video yüklenmeyi bekleyin"})}))},Tt=w=>{const F=g.current;if(!F||N===0)return;const V=w.currentTarget.getBoundingClientRect(),ge=(w.clientX-V.left)/V.width*N;F.currentTime=ge,S(ge)},ut=w=>{const F=g.current;if(!F)return;const V=parseFloat(w.target.value);F.volume=V,j(V)},yt=()=>{const w=g.current?.parentElement;if(document.fullscreenElement)document.exitFullscreen?.()||document.webkitExitFullscreen?.()||document.msExitFullscreen?.();else{const F=w||g.current;F?.requestFullscreen?.()||F?.webkitRequestFullscreen?.()||F?.msRequestFullscreen?.()}};f.useEffect(()=>{const w=()=>{A(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",w),document.addEventListener("webkitfullscreenchange",w),document.addEventListener("msfullscreenchange",w),()=>{document.removeEventListener("fullscreenchange",w),document.removeEventListener("webkitfullscreenchange",w),document.removeEventListener("msfullscreenchange",w)}},[]);const Qe=w=>p?.id?`${w}_user_${p.id}`:`${w}_guest`,G=()=>!d||!u?null:`watch_progress_${p?.id?`user_${p.id}`:"guest"}_${d}_${u}`,K=(w,F)=>{!d||!u||F===0||(q.current&&clearTimeout(q.current),q.current=setTimeout(()=>{const V={currentTime:w,duration:F,watchedPercentage:w/F*100,lastWatched:new Date().toISOString(),animeId:d,episodeNumber:u,magnetUri:h},se=G();se&&(localStorage.setItem(se,JSON.stringify(V)),console.log(`💾 İzleme ilerlemesi kaydedildi: ${Math.round(V.watchedPercentage)}% - ${Math.round(w)}s`))},2e3))},fe=()=>!p?.id||!d?[]:Object.keys(localStorage).filter(V=>V.startsWith(`watch_progress_user_${p.id}_${d}_`)).map(V=>{try{const se=JSON.parse(localStorage.getItem(V));return{episodeNumber:se.episodeNumber,watchedPercentage:se.watchedPercentage,lastWatched:se.lastWatched,currentTime:se.currentTime,duration:se.duration}}catch{return null}}).filter(Boolean).sort((V,se)=>V.episodeNumber-se.episodeNumber),de=w=>{i&&i(w),R.success(`🎥 Kalite: ${w}`)},te=w=>{if(isNaN(w)||w===0)return"0:00";const F=Math.floor(w/3600),V=Math.floor(w%3600/60),se=Math.floor(w%60);return F>0?`${F}:${V.toString().padStart(2,"0")}:${se.toString().padStart(2,"0")}`:`${V}:${se.toString().padStart(2,"0")}`};return f.useEffect(()=>{const w=Qe("subtitle-settings");localStorage.setItem(w,JSON.stringify(x))},[x,p?.id]),f.useEffect(()=>{const w=Qe("subtitle-settings"),F=localStorage.getItem(w);if(F)try{const V=JSON.parse(F);z(V),console.log("📂 Altyazı ayarları yüklendi:",p?.id?`Kullanıcı ${p.id}`:"Misafir")}catch(V){console.log("Failed to load subtitle settings:",V)}},[p?.id]),f.useEffect(()=>{const w=g.current;if(!w)return;const F=()=>{const se=w.textTracks;if(se&&se.length>0){for(let oe=0;oe<se.length;oe++)se[oe].mode=B?"showing":"hidden";console.log("📝 Subtitles:",B?"Enabled":"Disabled")}else console.log("⚠️ No text tracks available yet")};F();const V=setTimeout(F,500);return()=>clearTimeout(V)},[B,t]),r.jsxs("div",{className:"relative w-full aspect-[16/9] bg-black rounded-2xl overflow-hidden shadow-2xl group",onMouseMove:Ve,onMouseLeave:()=>!k&&$(!1),tabIndex:0,children:[r.jsxs("video",{ref:g,className:"w-full h-full object-contain",crossOrigin:"anonymous",preload:"auto",onClick:Te,children:[t&&r.jsxs(r.Fragment,{children:[r.jsx("track",{kind:"subtitles",src:t,srcLang:"en",label:"English",default:!0}),r.jsx("track",{kind:"captions",src:t,srcLang:"en",label:"English CC"})]}),"Your browser does not support the video tag."]}),C&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/50 z-20",children:r.jsx("div",{className:`${O?"w-24 h-24 border-6":"w-16 h-16 border-4"} border-violet-500 border-t-transparent rounded-full animate-spin`})}),W&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/80 z-30",children:r.jsxs("div",{className:"text-center text-white p-6 max-w-md",children:[r.jsx("h3",{className:"text-xl font-bold mb-2",children:"❌ Video Hatası"}),r.jsx("p",{className:"mb-4",children:W}),r.jsx("button",{onClick:()=>Z(null),className:"px-4 py-2 bg-violet-600 rounded-lg text-white hover:bg-violet-700",children:"Kapat"})]})}),!b&&!C&&!W&&r.jsx("div",{className:"absolute inset-0 flex items-center justify-center z-10",children:r.jsx("button",{onClick:Te,className:`${O?"w-32 h-32 text-4xl":"w-20 h-20 text-2xl"} bg-gradient-to-r from-violet-600 to-purple-600 rounded-full flex items-center justify-center text-white hover:scale-110 transition-transform shadow-2xl`,children:"▶️"})}),t&&r.jsx("div",{className:"absolute inset-x-0 pointer-events-none z-10",style:{bottom:x.position==="bottom"?`${x.verticalPosition}px`:"auto",top:x.position==="top"?`${x.verticalPosition}px`:"auto"},children:r.jsx("div",{className:"text-center px-4",style:{fontSize:`${x.fontSize}px`,fontFamily:x.fontFamily,color:x.color,textShadow:`2px 2px 4px ${x.outline}`,opacity:x.opacity,backgroundColor:x.backgroundColor,borderRadius:"8px",display:"inline-block",maxWidth:"90%",margin:"0 auto"}})}),k&&r.jsxs("div",{ref:ae,className:`absolute ${O?"top-8 right-8 w-96 max-h-[85vh] p-8":"top-4 right-4 w-80 max-h-96 p-6"} bg-black/95 backdrop-blur-md rounded-xl text-white z-30 overflow-y-auto`,children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsxs("div",{children:[r.jsx("h3",{className:"text-lg font-bold text-violet-300",children:"⚙️ Video Ayarları"}),r.jsxs("p",{className:"text-xs text-gray-400",children:[p?.username?`👤 ${p.username}`:"👥 Misafir",d&&u?` | Bölüm ${u}`:""]})]}),r.jsx("button",{onClick:()=>I(!1),className:"text-gray-400 hover:text-white text-xl",children:"✕"})]}),Pe.watchedPercentage>0&&r.jsxs("div",{className:"mb-4 p-3 bg-violet-900/30 rounded-lg border border-violet-500/30",children:[r.jsxs("div",{className:"flex items-center justify-between text-sm",children:[r.jsx("span",{className:"text-violet-200",children:"📺 İzleme İlerlemesi"}),r.jsxs("span",{className:"text-white font-bold",children:[Math.round(Pe.watchedPercentage),"%"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 mt-2",children:r.jsx("div",{className:"bg-gradient-to-r from-violet-500 to-purple-500 h-2 rounded-full transition-all",style:{width:`${Pe.watchedPercentage}%`}})}),Pe.lastWatched&&r.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:["Son: ",new Date(Pe.lastWatched).toLocaleTimeString("tr-TR")]})]}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("h4",{className:"font-semibold text-violet-200 border-b border-violet-500/30 pb-2",children:"📝 Altyazı Ayarları"}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["Yazı Boyutu: ",x.fontSize,"px"]}),r.jsx("input",{type:"range",min:"12",max:"36",value:x.fontSize,onChange:w=>z(F=>({...F,fontSize:parseInt(w.target.value)})),className:"w-full accent-violet-500"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Yazı Tipi"}),r.jsxs("select",{value:x.fontFamily,onChange:w=>z(F=>({...F,fontFamily:w.target.value})),className:"w-full bg-gray-800 border border-gray-600 rounded px-3 py-2 text-white",children:[r.jsx("option",{value:"Arial",children:"Arial"}),r.jsx("option",{value:"Helvetica",children:"Helvetica"}),r.jsx("option",{value:"Times New Roman",children:"Times New Roman"}),r.jsx("option",{value:"Courier New",children:"Courier New"}),r.jsx("option",{value:"Georgia",children:"Georgia"}),r.jsx("option",{value:"Comic Sans MS",children:"Comic Sans MS"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Yazı Rengi"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:["#FFFFFF","#FFFF00","#FF0000","#00FF00","#0000FF","#FF00FF","#00FFFF","#FFA500"].map(w=>r.jsx("button",{onClick:()=>z(F=>({...F,color:w})),className:`w-8 h-8 rounded border-2 ${x.color===w?"border-violet-400":"border-gray-600"}`,style:{backgroundColor:w}},w))}),r.jsx("input",{type:"color",value:x.color,onChange:w=>z(F=>({...F,color:w.target.value})),className:"mt-2 w-full h-8 bg-gray-800 border border-gray-600 rounded"})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Arka Plan"}),r.jsxs("div",{className:"flex gap-2 mb-2",children:[r.jsx("button",{onClick:()=>z(w=>({...w,backgroundColor:"transparent"})),className:`px-3 py-1 rounded text-sm ${x.backgroundColor==="transparent"?"bg-violet-600 text-white":"bg-gray-700 text-gray-300"}`,children:"Şeffaf"}),r.jsx("button",{onClick:()=>z(w=>({...w,backgroundColor:"rgba(0, 0, 0, 0.7)"})),className:`px-3 py-1 rounded text-sm ${x.backgroundColor==="rgba(0, 0, 0, 0.7)"?"bg-violet-600 text-white":"bg-gray-700 text-gray-300"}`,children:"Siyah"}),r.jsx("button",{onClick:()=>z(w=>({...w,backgroundColor:"rgba(0, 0, 0, 0.9)"})),className:`px-3 py-1 rounded text-sm ${x.backgroundColor==="rgba(0, 0, 0, 0.9)"?"bg-violet-600 text-white":"bg-gray-700 text-gray-300"}`,children:"Koyu"})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Çerçeve Rengi"}),r.jsx("div",{className:"flex gap-2 mb-2",children:["black","white","gray","transparent"].map(w=>r.jsx("button",{onClick:()=>z(F=>({...F,outline:w})),className:`px-3 py-1 rounded text-sm capitalize ${x.outline===w?"bg-violet-600 text-white":"bg-gray-700 text-gray-300"}`,children:w==="transparent"?"Yok":w},w))})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"Dikey Konum"}),r.jsxs("div",{className:"flex gap-2 mb-3",children:[r.jsx("button",{onClick:()=>z(w=>({...w,position:"top",verticalPosition:20})),className:`px-3 py-1 rounded text-sm ${x.position==="top"?"bg-violet-600 text-white":"bg-gray-700 text-gray-300"}`,children:"Üst"}),r.jsx("button",{onClick:()=>z(w=>({...w,position:"bottom",verticalPosition:80})),className:`px-3 py-1 rounded text-sm ${x.position==="bottom"?"bg-violet-600 text-white":"bg-gray-700 text-gray-300"}`,children:"Alt"})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-gray-400 mb-2",children:[x.position==="bottom"?"Alttan":"Üstten"," Uzaklık: ",x.verticalPosition,"px"]}),r.jsx("input",{type:"range",min:"10",max:"150",value:x.verticalPosition,onChange:w=>z(F=>({...F,verticalPosition:parseInt(w.target.value)})),className:"w-full accent-violet-500"}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[r.jsx("span",{children:"Yakın (10px)"}),r.jsx("span",{children:"Uzak (150px)"})]})]})]}),r.jsxs("div",{children:[r.jsxs("label",{className:"block text-sm text-gray-300 mb-2",children:["Şeffaflık: ",Math.round(x.opacity*100),"%"]}),r.jsx("input",{type:"range",min:"0.1",max:"1",step:"0.1",value:x.opacity,onChange:w=>z(F=>({...F,opacity:parseFloat(w.target.value)})),className:"w-full accent-violet-500"})]}),r.jsx("button",{onClick:()=>z({fontSize:18,fontFamily:"Arial",color:"#FFFFFF",backgroundColor:"rgba(0, 0, 0, 0.7)",outline:"black",position:"bottom",verticalPosition:80,opacity:1}),className:"w-full mt-4 px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg transition-colors",children:"🔄 Varsayılana Dön"})]}),r.jsxs("div",{className:"mt-6 pt-4 border-t border-gray-700",children:[r.jsx("h4",{className:"font-semibold text-violet-200 mb-3",children:"⌨️ Kısayollar"}),r.jsxs("div",{className:"space-y-2 text-xs text-gray-300",children:[r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"Space"}),r.jsx("span",{children:"Oynat/Durdur"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"← →"}),r.jsx("span",{children:"10sn Geri/İleri"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"↑ ↓"}),r.jsx("span",{children:"Ses +/-"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"F"}),r.jsx("span",{children:"Tam Ekran"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"M"}),r.jsx("span",{children:"Sessiz"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:", ."}),r.jsx("span",{children:"Hız -/+"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"0-9"}),r.jsx("span",{children:"% Konuma Git"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"C"}),r.jsx("span",{className:"font-bold text-yellow-300",children:"Altyazı Aç/Kapat"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"S"}),r.jsx("span",{children:"Ayarlar Menüsü"})]}),r.jsxs("div",{className:"flex justify-between",children:[r.jsx("span",{children:"J/K"}),r.jsx("span",{children:"Altyazı Yukarı/Aşağı"})]})]}),p?.id&&d&&fe().length>0&&r.jsxs("div",{className:"mt-4 pt-3 border-t border-gray-700",children:[r.jsx("h5",{className:"text-sm font-medium text-violet-200 mb-2",children:"📊 Bu Anime'deki İlerlemeniz"}),r.jsx("div",{className:"max-h-24 overflow-y-auto space-y-1",children:fe().slice(0,5).map(w=>r.jsxs("div",{className:"flex justify-between text-xs",children:[r.jsxs("span",{className:"text-gray-400",children:["Bölüm ",w.episodeNumber]}),r.jsxs("span",{className:`font-medium ${w.watchedPercentage>90?"text-green-400":w.watchedPercentage>50?"text-yellow-400":"text-gray-300"}`,children:[Math.round(w.watchedPercentage),"%"]})]},w.episodeNumber))})]})]})]}),r.jsxs("div",{className:`absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/90 to-transparent ${O?"p-8":"p-4"} transition-opacity duration-300 z-10 ${L?"opacity-100":"opacity-0"}`,children:[r.jsx("div",{className:`${O?"mb-6":"mb-4"}`,children:r.jsx("div",{className:`w-full ${O?"h-3":"h-2"} bg-white/20 rounded-full cursor-pointer relative`,onClick:Tt,children:r.jsx("div",{className:"h-full bg-gradient-to-r from-violet-500 to-purple-500 rounded-full transition-all",style:{width:`${N>0?D/N*100:0}%`}})})}),r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:`flex items-center ${O?"gap-6":"gap-4"}`,children:[r.jsx("button",{onClick:Te,className:`text-white ${O?"text-3xl p-3":"text-2xl p-2"} hover:text-violet-300 transition-colors hover:bg-white/10 rounded`,children:b?"⏸️":"▶️"}),r.jsx("button",{onClick:()=>{const w=g.current;w&&(w.currentTime=Math.max(0,w.currentTime-10),R("⏪ 10 saniye geri",{duration:1e3}))},className:`text-white ${O?"text-xl p-2":"text-lg p-1"} hover:text-violet-300 transition-colors hover:bg-white/10 rounded`,children:"⏪"}),r.jsx("button",{onClick:()=>{const w=g.current;w&&(w.currentTime=Math.min(w.duration,w.currentTime+10),R("⏩ 10 saniye ileri",{duration:1e3}))},className:`text-white ${O?"text-xl p-2":"text-lg p-1"} hover:text-violet-300 transition-colors hover:bg-white/10 rounded`,children:"⏩"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("button",{onClick:()=>{const w=g.current;w&&(w.muted=!w.muted,R(w.muted?"🔇 Sessiz":"🔊 Ses açık",{duration:1e3}))},className:`text-white ${O?"text-xl":"text-lg"} hover:text-violet-300 transition-colors`,children:v===0?"🔇":v<.5?"🔉":"🔊"}),r.jsx("input",{type:"range",min:"0",max:"1",step:"0.1",value:v,onChange:ut,className:`${O?"w-28":"w-20"} accent-violet-500`}),r.jsxs("span",{className:`text-white ${O?"text-sm w-10":"text-xs w-8"}`,children:[Math.round(v*100),"%"]})]}),r.jsxs("div",{className:"flex items-center gap-1",children:[r.jsx("button",{onClick:()=>{const w=g.current;if(w){const F=Math.max(.25,w.playbackRate-.25);w.playbackRate=F,_(F),R(`🐌 Hız: ${F}x`,{duration:1e3})}},className:"text-white text-sm hover:text-violet-300 transition-colors px-1 py-1 hover:bg-white/10 rounded",children:"🐌"}),r.jsxs("span",{className:`text-white ${O?"text-sm px-3 min-w-[40px]":"text-xs px-2 min-w-[32px]"} text-center`,children:[U,"x"]}),r.jsx("button",{onClick:()=>{const w=g.current;if(w){const F=Math.min(2,w.playbackRate+.25);w.playbackRate=F,_(F),R(`🐇 Hız: ${F}x`,{duration:1e3})}},className:"text-white text-sm hover:text-violet-300 transition-colors px-1 py-1 hover:bg-white/10 rounded",children:"🐇"})]}),r.jsxs("div",{className:`text-white ${O?"text-base":"text-sm"} font-mono`,children:[te(D)," / ",te(N)]})]}),r.jsxs("div",{className:`flex items-center ${O?"gap-6":"gap-4"}`,children:[c.length>1&&r.jsx("select",{value:a,onChange:w=>de(w.target.value),className:`bg-black/80 text-white border border-violet-500/50 rounded ${O?"px-3 py-2 text-base":"px-2 py-1 text-sm"}`,children:c.map(w=>r.jsx("option",{value:w,className:"bg-gray-800",children:w},w))}),t&&r.jsx("button",{onClick:()=>{y(!B),R(B?"🚫 Altyazı kapatıldı":"📝 Altyazı açıldı",{duration:1e3})},className:`text-white ${O?"text-xl":"text-lg"} hover:text-violet-300 transition-colors ${B?"text-white":"text-gray-500"}`,title:B?"Altyazıyı Kapat (C)":"Altyazıyı Aç (C)",children:"📝"}),r.jsx("button",{onClick:()=>I(!k),className:`text-white ${O?"text-xl":"text-lg"} hover:text-violet-300 transition-colors ${k?"text-violet-400":""}`,children:"⚙️"}),r.jsx("button",{onClick:yt,className:`text-white ${O?"text-xl":"text-lg"} hover:text-violet-300 transition-colors`,children:O?"🗗":"⛶"})]})]})]}),o&&r.jsx("div",{className:`absolute ${O?"top-8 left-8":"top-4 left-4"} z-10`,children:r.jsx("div",{className:`${O?"px-4 py-3 text-lg":"px-3 py-2 text-sm"} rounded-full bg-gradient-to-r from-violet-600 to-purple-600 text-white font-bold shadow-lg`,children:a==="4K"?"⚡ 4K Upscale":a})}),r.jsx("style",{children:`
        video::cue {
          font-size: ${x.fontSize*(O?1.4:1)}px !important;
          font-family: ${x.fontFamily} !important;
          color: ${x.color} !important;
          background-color: ${x.backgroundColor} !important;
          text-shadow: ${O?"3px 3px 6px":"2px 2px 4px"} ${x.outline} !important;
          opacity: ${x.opacity} !important;
          border-radius: ${O?"6px":"4px"} !important;
          padding: ${O?"4px 12px":"2px 8px"} !important;
          line-height: 1.4 !important;
        }
        
        video::-webkit-media-text-track-display {
          ${x.position==="top"?`top: ${x.verticalPosition*(O?1.5:1)}px !important; bottom: auto !important;`:`bottom: ${x.verticalPosition*(O?1.5:1)}px !important; top: auto !important;`}
          text-align: center !important;
        }
        
        video::-webkit-media-text-track-container {
          ${x.position==="top"?`top: ${x.verticalPosition*(O?1.5:1)}px !important; bottom: auto !important;`:`bottom: ${x.verticalPosition*(O?1.5:1)}px !important; top: auto !important;`}
          font-size: ${x.fontSize*(O?1.4:1)}px !important;
          font-family: ${x.fontFamily} !important;
          text-align: center !important;
          width: 100% !important;
        }
        
        /* Firefox subtitle styling */
        video::cue(.subtitle) {
          font-size: ${x.fontSize*(O?1.4:1)}px !important;
          font-family: ${x.fontFamily} !important;
          color: ${x.color} !important;
          background-color: ${x.backgroundColor} !important;
          text-shadow: ${O?"3px 3px 6px":"2px 2px 4px"} ${x.outline} !important;
        }
        
        /* Tam ekran modunda genel stillemeler */
        .group:fullscreen,
        .group:-webkit-full-screen,
        .group:-moz-full-screen {
          width: 100vw !important;
          height: 100vh !important;
          border-radius: 0 !important;
        }
        
        .group:fullscreen video,
        .group:-webkit-full-screen video,
        .group:-moz-full-screen video {
          width: 100vw !important;
          height: 100vh !important;
          object-fit: contain !important;
        }
      `})]})}function Au({file:e,handleStreamBrowser:t,handleStreamVlc:n,handleStreamMpv:s,setCurrentEpisode:a,getFiles:i,handleRemoveTorrent:o,videoSrc:l}){const[c,d]=f.useState(!1),{t:u}=he();return r.jsx("div",{onClick:()=>d(!c),className:"relative m-2 animate-fade-down cursor-default border border-gray-700 p-2 font-space-mono transition-all duration-100 ease-in-out animate-duration-500 hover:bg-[#1e1e20]",children:r.jsx("div",{className:"flex items-center justify-between",children:r.jsx("div",{className:"flex gap-x-1 font-space-mono font-medium opacity-90",children:r.jsxs("div",{children:[r.jsxs("p",{className:"flex gap-x-2 font-space-mono text-sm font-medium text-gray-400 opacity-90",children:[r.jsx("span",{className:"flex items-center gap-2"}),e.name]}),c&&r.jsxs("div",{className:"ml-2 mt-2 flex animate-fade-down gap-x-3 animate-duration-500",children:[r.jsx(X,{onClick:async h=>{h.stopPropagation(),a(e.name),await i(),t(e.name)},size:"2",color:"blue",variant:"solid",className:"font-medium",children:u("player.streamOnBrowser")}),r.jsx(X,{size:"2",color:"purple",variant:"solid",onClick:async h=>{h.stopPropagation(),a(e.name),await i(),s(e.name)},className:"font-medium",children:u("player.openInMPV")||"MPV ile Aç"}),r.jsx(X,{size:"2",color:"orange",variant:"solid",onClick:async h=>{h.stopPropagation(),a(e.name),await i(),n(e.name)},className:"font-medium",children:u("player.openInVLC")}),l&&r.jsx(X,{size:"2",color:"red",variant:"solid",onClick:h=>{h.stopPropagation(),o()},className:"font-medium",children:u("stopAndRemoveAnime")||"Animeyi Durdur ve Kaldır"})]})]})})})})}const De="https://zenshin-backend-i34n.onrender.com/".replace("/api","")||"http://localhost:64621";function Ru(e){const{t}=he(),{isAuthenticated:n}=$e(),s=aa(),a=s.magnetId,i=parseInt(s.currentEpisodeNum)||1,l=ji().state?.data,[c,d]=f.useState(l?.id?.toString()||null),[u,h]=f.useState(""),[m,p]=f.useState(""),[g,b]=f.useState([]),[P,D]=f.useState(""),[S,N]=f.useState(i),[T,v]=f.useState(0),[j,L]=f.useState(null),[$,O]=f.useState(0),[A,W]=f.useState(!1),[Z,C]=f.useState(0),[E,U]=f.useState("1080p"),[_,k]=f.useState(!1),[I,B]=f.useState([]),[y,x]=f.useState(""),z=f.useRef(0),H=f.useRef(null),[ae,q]=f.useState(!1);f.useEffect(()=>{!sessionStorage.getItem("idm_warning_shown")&&!ae&&(q(!0),sessionStorage.setItem("idm_warning_shown","true"),setTimeout(()=>{R.warning("⚠️ IDM/Download Manager Algılandı",{description:`Video streaming için IDM'i devre dışı bırakın. IDM Ayarlar > Genel > "Tarayıcı entegrasyonu" kapalı olmalı`,duration:8e3,action:{label:"Anlaşıldı",onClick:()=>{}}})},2e3))},[ae]),f.useEffect(()=>{if(!c&&a){const K=decodeURIComponent(a).split("&")[0].replace("magnet:?xt=urn:btih:","");d(K.substring(0,10))}},[a,c]),f.useEffect(()=>{(async()=>{if(n&&l?.id&&a&&S)try{const de=((await jt.getHistory()).data.data||[]).find(te=>te.anime_id===l.id.toString()&&te.magnet_uri===a&&te.episode_number===S);if(de&&de.current_time>0){const te=de.current_time;console.log(`💾 ✅ DB'den yüklendi: ${te.toFixed(1)}s (Episode ${S})`),C(te),z.current=te}else console.log(`ℹ️ Başlangıçtan başlat (Episode ${S})`),C(0),z.current=0}catch(K){console.error("❌ Error fetching saved progress:",K),C(0)}})()},[n,l?.id,a,S]),f.useEffect(()=>()=>{H.current&&clearInterval(H.current)},[n,l,S,c,a]);const ce=async()=>{if(g&&g.length>0)return console.log("✅ Files already loaded"),Promise.resolve();W(!0);try{console.log("📂 Loading files from backend...");const K=await(await Ie.get(`${De}/metadata/${encodeURIComponent(a)}`)).data;return b(K),console.log(`✅ Loaded ${K.length} file(s)`),Promise.resolve()}catch(G){return R.error(t("backendNotRunningOrNoFiles")||"Backend not running",{icon:r.jsx(Ye,{height:"16",width:"16",color:"#ffffff"}),description:t("backendNotRunningOrNoFiles")||"Backend is not running",classNames:{title:"text-rose-500"}}),console.error("Error getting torrent details",G),Promise.reject(G)}finally{W(!1)}},dt=async(G,K)=>{if(!n||!l)return;const fe=G/K*100;Math.abs(G-T)>=1&&(v(G),await Ve(fe,G,!1))},Pe=G=>{if(console.log("🔄 Quality changed to:",G),U(G),P){let K;if(G==="4K"&&_&&I.length>0){const fe="DandadanS02E01",de="DandadanS02E01",te=I[0].name;K=`${De}/stream-upscale/${encodeURIComponent(fe)}/${encodeURIComponent(de)}/${encodeURIComponent(te)}`,console.log("🌟 Switching to 4K upscale:",K),console.log("🎵 Using original audio from:",y),R.success("🌟 4K Upscale Aktif!",{description:"Orijinal ses ile 4K kalite",duration:2e3})}else K=y,console.log("📺 Switching to 1080p:",K),R.info("📺 1080p HD",{description:"Standard kalite",duration:2e3});h(K)}},Ve=async(G,K,fe=!1)=>{if(!(!n||!l)&&!(!fe&&Math.abs(K-T)<.5))try{const de=Date.now();let te=10;j&&(te=Math.floor((de-j)/1e3)),L(de),O(F=>F+te),v(K);const w={animeId:l.id?.toString()||c,animeTitle:l.title?.romaji||l.title?.english||"Unknown Anime",animeImage:l.coverImage?.extraLarge||l.coverImage?.large||l.coverImage?.medium||l.image||"",episodeNumber:S,progress:Math.round(G),currentTime:K,magnetUri:a,watchTime:te};await jt.addToHistory(w),console.log(fe?`💾 SAVED: ${K.toFixed(1)}s (${Math.round(G)}%) Episode ${S}`:`✓ ${K.toFixed(1)}s (${Math.round(G)}%) | Total: ${Math.floor($/60)}m`)}catch(de){console.error("❌ Update failed:",de.response?.data?.message||de.message)}};f.useEffect(()=>{(async()=>{try{const K="DandadanS02E01",fe="DandadanS02E01";console.log("🔍 Checking for upscale:",K,fe);const de=await Ie.get(`${De}/upscale-available/${encodeURIComponent(K)}/${encodeURIComponent(fe)}`);console.log("📦 Upscale response:",de.data),de.data.available&&de.data.files.length>0?(console.log("✅ Upscale available:",de.data.files),k(!0),B(de.data.files),R.success("✨ 4K Upscale Bulundu!",{description:`${de.data.files.length} dosya hazır`,duration:3e3})):(console.log("ℹ️ No upscale available"),k(!0),B([{name:"test.mkv",size:0}]))}catch(K){console.error("❌ Error checking upscale:",K),k(!0),B([{name:"test.mkv",size:0}])}})()},[S]);const Te=async(G,K=null)=>{const fe=K||E,de=G.match(/(\d+)/),te=de?parseInt(de[1]):1;if(te===S&&u){console.log(`ℹ️ Episode ${te} already playing, skipping reload`);return}try{console.log("📥 Adding torrent to backend..."),await Ie.get(`${De}/add/${encodeURIComponent(a)}`),console.log("✅ Torrent added to backend")}catch(oe){console.error("❌ Failed to add torrent:",oe),R.error(t("player.torrentAddFailed")||"Torrent eklenemedi",{description:t("player.checkBackend")||"Backend çalıştığından emin olun",icon:r.jsx(Ye,{height:"16",width:"16",color:"#ffffff"})});return}N(te),v(0),console.log("🎬 Setting video and subtitle sources..."),console.log("🎬 HLS Mode:","DISABLED");const w=`?nocache=${Date.now()}`,F=`${De}/streamfile/${encodeURIComponent(a)}/${encodeURIComponent(G)}${w}`;x(F);let V;if(fe==="4K"&&_&&I.length>0){const oe="DandadanS02E01",ge="DandadanS02E01",Ce=I[0].name;V=`${De}/stream-upscale/${encodeURIComponent(oe)}/${encodeURIComponent(ge)}/${encodeURIComponent(Ce)}${w}`,console.log("🌟 4K upscale streaming:",V),console.log("🎵 Original audio source:",F),R.success("🌟 4K Upscale",{description:"Orijinal ses ile yüksek kalite video",duration:2e3})}else V=F,console.log("📺 Direct MKV streaming:",V);h(V);const se=`${De}/subtitles/${encodeURIComponent(a)}/${encodeURIComponent(G)}`;if(console.log("🎬 Subtitle URL:",se),p(se),n&&l)try{L(Date.now()),O(0),v(0);let oe=0;try{const ve=((await jt.getHistory()).data.data||[]).find(Le=>Le.anime_id===l.id.toString()&&Le.magnet_uri===a&&Le.episode_number===te);ve&&ve.current_time>0?(oe=ve.current_time,console.log(`🔄 DB'den devam: ${oe.toFixed(1)}s (Episode ${te})`)):console.log(`✨ Yeni başlangıç (Episode ${te})`)}catch(ge){console.error("Failed to fetch from DB:",ge)}C(oe),z.current=oe,console.log(`✓ Episode ${te} hazır: ${oe.toFixed(1)}s`),console.log(`🔑 REF güncellendi: ${z.current.toFixed(1)}s`)}catch(oe){console.error("❌ Tracking failed:",oe.response?.data?.message||oe.message)}},Tt=async G=>{try{await Ie.get(`${De}/stream-to-vlc?url=${encodeURIComponent(`${De}/streamfile/${encodeURIComponent(a)}/${encodeURIComponent(G)}`)}`),R.success(t("player.vlcLaunched"),{description:t("player.playingInVLC")})}catch(K){console.error("Error streaming to VLC",K),R.error(t("errorStreamingToVLC")||"Error streaming to VLC",{icon:r.jsx(Ye,{height:"16",width:"16",color:"#ffffff"}),description:t("vlcErrorDescription")||"VLC error",classNames:{title:"text-rose-500"}})}},ut=async G=>{try{const K=`${De}/streamfile/${encodeURIComponent(a)}/${encodeURIComponent(G)}`;await Ie.get(`${De}/stream-to-mpv?url=${encodeURIComponent(K)}`),R.success(t("player.mpvLaunched"),{description:t("player.playingInMPV")})}catch(K){console.error("Error streaming to MPV",K),R.error(t("player.mpvFailed"),{icon:r.jsx(Ye,{height:"16",width:"16",color:"#ffffff"}),description:t("player.mpvNotInstalled"),classNames:{title:"text-rose-500"}})}},yt=async()=>{console.log("🗑️ Removing torrent and stopping video..."),h(""),p(""),D(""),x("");try{await Ie.delete(`${De}/remove/${encodeURIComponent(a)}`),console.log("✅ Torrent removed from backend")}catch(G){G.response?.status===404?console.log("ℹ️ Torrent already removed (404)"):console.error("Error removing the torrent",G)}R.success(t("player.videoStopped")||"Video durduruldu",{icon:r.jsx(yr,{height:"16",width:"16",color:"#ffffff"}),description:t("player.canSelectNewEpisode")||"Yeni bölüm seçebilirsiniz",classNames:{title:"text-green-500"}})};f.useEffect(()=>{(async()=>{if(a&&(!g||g.length===0)){console.log("🚀 Auto-loading files on mount...");try{await ce()}catch(K){console.error("❌ Auto-load failed:",K)}}})()},[a]),f.useEffect(()=>{u&&P&&(console.log("🔄 Quality changed, reloading video..."),Te(P,E))},[E]);const Qe=f.useRef(null);return f.useEffect(()=>{const G=K=>{Qe.current&&!Qe.current.contains(K.target)&&console.log("👆 Clicked outside player")};return document.addEventListener("mousedown",G),()=>document.removeEventListener("mousedown",G)},[]),r.jsx("div",{className:"flex items-center justify-center font-space-mono",children:r.jsxs("div",{className:"w-full max-w-6xl p-4",children:[u&&r.jsx("div",{className:"mb-6",ref:Qe,children:r.jsx(Cu,{videoSrc:u,subtitleSrc:m,onTimeUpdate:dt,initialTime:Z,quality:E,onQualityChange:Pe,upscaleAvailable:_,originalVideoSrc:y,availableQualities:["1080p","4K"],animeId:c,episodeNumber:S,magnetUri:a})}),A&&r.jsx("div",{className:"text-center py-12 border border-gray-700 rounded-lg bg-[#1d1d20]",children:r.jsxs("p",{className:"text-lg text-gray-400 animate-pulse",children:["📂 ",t("player.loadingFiles")||"Dosyalar yüklüyor..."]})}),u&&r.jsx("div",{className:"mb-4 p-3 bg-gradient-to-r from-blue-900/30 to-violet-900/30 border border-blue-500/40 rounded-lg",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-3",children:[r.jsx("span",{className:"text-2xl",children:"⚡"}),r.jsxs("div",{children:[r.jsx("div",{className:"text-sm font-bold text-blue-400",children:t("player.directMkvStreaming")}),r.jsxs("div",{className:"text-xs text-gray-400",children:[t("player.instantPlayback")," • ",t("player.fullQuality")," • ",t("player.localBackend")]})]})]}),r.jsx("div",{className:"flex gap-2",children:r.jsxs("span",{className:"px-2 py-1 bg-blue-600/80 text-white text-xs font-bold rounded",children:["✅ ",t("player.ready")]})})]})}),!A&&g&&g.length>0&&r.jsxs("div",{className:"mt-8",children:[r.jsx("h2",{className:"text-xl font-bold mb-4 px-2",children:t("player.episodes")||"Bölümler"}),g.map((G,K)=>r.jsx(Au,{file:G,handleStreamBrowser:Te,handleStreamVlc:Tt,handleStreamMpv:ut,setCurrentEpisode:D,getFiles:ce,handleRemoveTorrent:yt,videoSrc:u},G.name||K))]}),!A&&(!g||g.length===0)&&r.jsxs("div",{className:"text-center py-12 border border-gray-700 rounded-lg bg-[#1d1d20]",children:[r.jsxs("p",{className:"text-gray-400 mb-4",children:["⚠️ ",t("player.noFilesFound")||"Dosya bulunamadı"]}),r.jsx("p",{className:"text-gray-500 text-sm mb-4",children:t("player.checkBackend")||"Backend çalıştığından emin olun"}),r.jsx(X,{onClick:ce,size:"3",color:"blue",variant:"solid",children:t("player.tryAgain")||"Tekrar Dene"})]}),n&&c&&r.jsx("div",{className:"mt-8 border border-gray-700 bg-[#1d1d20] p-6 rounded-lg",children:r.jsx(Ga,{animeId:c})})]})})}function _u(e="[SubsPlease]"){const{isLoading:t,data:n,error:s,status:a}=Me({queryKey:["new_releases",e],queryFn:()=>sl(e),staleTime:3e5});return{isLoading:t,data:n,error:s,status:a}}const Lu="https://artworks.thetvdb.com/banners/v4/episode/10166490/screencap/6685897a8dc6c.jpg";function Ou({data:e,cardErrorShown:t,setCardErrorShown:n,anilistIds:s,setAnilistIds:a,dataAnilist:i}){const{t:o,i18n:l}=he(),c=Ee(),d=e.magnet_uri;function u(){c(`/player/${encodeURIComponent(d)}`)}const h=e?.title,[m,p]=f.useState(null);let g=h.slice(h.indexOf("]")+1,h.lastIndexOf("-")-1),b=Number(h.slice(h.lastIndexOf("-")+2,h.indexOf("(")-1));const[P,D]=f.useState(null),[S,N]=f.useState(null),T=e?.anidb_aid,{data:v}=Xa(T,!0),j=C=>{if(!C||isNaN(C))return o("newReleaseCard.justNow");const E=l.language==="tr"?Yt:ia;try{return Ti(new Date(C*1e3),{addSuffix:!0,locale:E}).replace("about","")}catch{return o("newReleaseCard.justNow")}};f.useEffect(()=>{if(v){D(v.mappings.anilist_id);const E=(v?.episodes?Object.values(v.episodes):[]).filter(U=>U.anidbEid==e.anidb_eid);console.log(E),a(U=>[...U,v.mappings.anilist_id]),E[0]?.image||N(Lu),N(E[0]?.image)}},[v]);const[L,$]=f.useState(0),[O,A]=f.useState(null);f.useEffect(()=>{if(i&&P){const C=i?.data?Object.values(i.data):[],U=C.filter(_=>_.id===P)[0]?.coverImage?.extraLarge;A(U),console.log(C)}},[i,P]);const[W,Z]=f.useState(!0);return r.jsxs("div",{onClick:()=>u(),className:"m-4 flex animate-fade cursor-pointer flex-col items-center justify-center gap-y-2 transition-all ease-in-out hover:scale-110",children:[r.jsxs("div",{className:"h-42 relative aspect-video w-full",children:[(S||O)&&r.jsxs("div",{children:[r.jsx("div",{className:"absolute z-10 h-full w-full opacity-0 transition-all duration-150 ease-in-out hover:opacity-100",children:r.jsx(yi,{className:"absolute left-1/2 top-1/2 h-14 w-14 -translate-x-1/2 -translate-y-1/2 transform rounded-full bg-[#00000070] p-3 backdrop-blur-[2px]"})}),r.jsx("img",{src:S||O,alt:"episode_image",className:"duration-400 h-42 aspect-video w-96 animate-fade rounded-sm object-cover object-center transition-all ease-in-out",onLoad:()=>Z(!1),onError:()=>Z(!1)})]}),W&&r.jsx(st,{className:"duration-400 aspect-video h-full flex-grow rounded-sm transition-all ease-in-out"})]}),r.jsxs("div",{className:"flex w-full flex-col gap-y-1 transition-all duration-150 ease-in-out hover:text-purple-400",onClick:C=>{C.stopPropagation(),c(`/anime/${P}`)},children:[r.jsx("div",{className:"w-full truncate text-sm font-medium opacity-90",children:g}),r.jsxs("div",{className:"flex justify-between text-xs opacity-60",children:[r.jsx("p",{className:"text-nowrap",children:j(e.timestamp)}),r.jsxs("p",{className:"text-nowrap",children:[o("newReleaseCard.episode")," ",b]})]}),r.jsx("div",{})]})]})}async function Du(e){console.log("ids:",e);const t=e.filter(s=>s!=null&&s!==void 0&&s!=="");if(t.length===0)return{data:null};let n="query {";t.forEach((s,a)=>{n+=`
      anime${a+1}: Media(id: ${s}) {
        id
        coverImage {
          extraLarge
          large
          medium
        }
        title {
          romaji
          english
          native
        }
        episodes
        streamingEpisodes {
          title
          thumbnail
          url
          site
        }
        description
      }`}),n+="}";try{const a=await(await fetch("https://graphql.anilist.co",{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:n})})).json();return console.log("Fetched Data:",a),a}catch(s){throw console.error("Error:",s),new Error(s)}}function Iu(e){const{isLoading:t,data:n,error:s,status:a}=Me({queryKey:["multiple_ids_anilist",e.toString()],queryFn:()=>e&&e.length>0?Du(e):null,staleTime:3e5});return{isLoading:t,data:n,error:s,status:a}}function Mu(){const{t:e}=he(),t="[SubsPlease]",{isLoading:n,data:s,error:a}=_u(t),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState(!1),h=20;f.useEffect(()=>{if(s&&Array.isArray(s)){console.log("🔥 Total releases:",s.length);const P=v=>v?v.includes("1080p")?1e3:v.includes("720p")?100:v.includes("480p")?10:1:0,D=v=>v?v.replace(/\(1080p\)|\(720p\)|\(480p\)/gi,"").replace(/\[\w+\]/g,"").replace(/\.mkv$/i,"").trim():"",S=new Map;s.forEach(v=>{const j=D(v.title);if(!j)return;const L=P(v.title);if(!S.has(j))S.set(j,{release:v,score:L});else{const $=S.get(j);L>$.score&&S.set(j,{release:v,score:L})}});const N=Array.from(S.values()).map(v=>v.release);console.log("✅ FINAL unique releases (highest quality):",N.length);const T=N.sort((v,j)=>{const L=v.timestamp||0;return(j.timestamp||0)-L});o(T.slice(0,12)),c(T.slice(0,h))}},[s]);const[m,p]=f.useState([]),{data:g,error:b}=Iu(m);return f.useEffect(()=>{if(i.length>0){const P=i.map(D=>D.anilistId);p(P)}},[i]),f.useEffect(()=>{b&&!d&&(R.error(e("errorFetchingAnilistData"),{icon:r.jsx(Ye,{height:"16",width:"16",color:"#ffffff"}),description:e("anilistDataFetchError"),classNames:{title:"text-rose-500"}}),u(!0))},[b,d,e]),f.useEffect(()=>{m.length>0&&g&&Array.isArray(g)&&c(P=>P.map(D=>{const S=g.find(N=>N.id===D.anilistId);return{...D,anilistData:S}}))},[m,g]),n?r.jsx(Vt,{}):a?(R.error(e("errorFetchingNewReleases"),{icon:r.jsx(Ye,{height:"16",width:"16",color:"#ffffff"}),description:e("newReleasesFetchError"),classNames:{title:"text-rose-500"}}),r.jsxs("div",{className:"p-12",children:[r.jsx("div",{className:"border-b border-gray-700 pb-3 font-space-mono text-lg tracking-wider",children:e("newReleases.title")}),r.jsx("div",{className:"grid animate-fade grid-cols-4",children:r.jsx("p",{children:e("errorFetchingNewReleases")})})]})):r.jsxs("div",{className:"p-12",children:[r.jsx("div",{className:"border-b border-gray-700 pb-3 font-space-mono text-lg tracking-wider",children:e("newReleases.title")}),r.jsx("div",{className:"grid animate-fade grid-cols-4",children:l.map(P=>r.jsx(Ou,{data:P,cardErrorShown:d,setCardErrorShown:u,anilistIds:m,setAnilistIds:p,dataAnilist:g},P.title))}),r.jsx(Jt,{})]})}const $u=["Action","Adventure","Comedy","Drama","Ecchi","Fantasy","Horror","Mahou Shoujo","Mecha","Music","Mystery","Psychological","Romance","Sci-Fi","Slice of Life","Sports","Supernatural","Thriller","Hentai","Historical","Isekai","Josei","Kids","Martial Arts","Military","Parody","Police","School","Seinen","Shoujo","Shoujo Ai","Shounen","Shounen Ai","Space","Super Power","Vampire","Yaoi","Yuri"],zu=Array.from({length:30},(e,t)=>new Date().getFullYear()-t),Fu=e=>[{value:"WINTER",label:e("browse.seasons.winter")},{value:"SPRING",label:e("browse.seasons.spring")},{value:"SUMMER",label:e("browse.seasons.summer")},{value:"FALL",label:e("browse.seasons.fall")}],Uu=e=>[{value:"TV",label:e("browse.formats.tv")},{value:"TV_SHORT",label:e("browse.formats.tvShort")},{value:"MOVIE",label:e("browse.formats.movie")},{value:"SPECIAL",label:e("browse.formats.special")},{value:"OVA",label:e("browse.formats.ova")},{value:"ONA",label:e("browse.formats.ona")},{value:"MUSIC",label:e("browse.formats.music")}],Hu=e=>[{value:"RELEASING",label:e("browse.statuses.airing")},{value:"FINISHED",label:e("browse.statuses.finished")},{value:"NOT_YET_RELEASED",label:e("browse.statuses.notYetAired")},{value:"CANCELLED",label:e("browse.statuses.cancelled")}],Bu=e=>[{value:"POPULARITY_DESC",label:e("browse.sortOptions.popularity")},{value:"SCORE_DESC",label:e("browse.sortOptions.score")},{value:"TRENDING_DESC",label:e("browse.sortOptions.trending")},{value:"FAVOURITES_DESC",label:e("browse.sortOptions.favorites")},{value:"START_DATE_DESC",label:e("browse.sortOptions.recentlyAdded")},{value:"TITLE_ROMAJI",label:e("browse.sortOptions.titleAZ")}];function Vu(){const{t:e}=he(),t=Bu(e),n=Fu(e),s=Uu(e),a=Hu(e),[i,o]=f.useState([]),[l,c]=f.useState(!1),[d,u]=f.useState(1),[h,m]=f.useState(!0),[p,g]=f.useState([]),[b,P]=f.useState(null),[D,S]=f.useState(null),[N,T]=f.useState(null),[v,j]=f.useState(null),[L,$]=f.useState("POPULARITY_DESC"),O=async(C=!1,E=null)=>{c(!0);const U=C?1:E||d;console.log("🔍 Fetching anime with filters:",{page:U,genres:p,year:b,season:D,format:N,status:v,sort:L});const _=`
      query ($page: Int, $perPage: Int, $genre_in: [String], $year: Int, $season: MediaSeason, $format: MediaFormat, $status: MediaStatus, $sort: [MediaSort]) {
        Page(page: $page, perPage: $perPage) {
          pageInfo {
            hasNextPage
            total
            currentPage
          }
          media(
            type: ANIME
            genre_in: $genre_in
            seasonYear: $year
            season: $season
            format: $format
            status: $status
            sort: $sort
            isAdult: false
          ) {
            id
            idMal
            title {
              romaji
              english
              native
            }
            coverImage {
              extraLarge
              large
            }
            bannerImage
            startDate {
              year
              month
              day
            }
            format
            status
            episodes
            season
            seasonYear
            averageScore
            popularity
            genres
            description
            relations {
              edges {
                relationType
                node {
                  id
                  format
                }
              }
            }
          }
        }
      }
    `,k={page:U,perPage:100,sort:[L]};p.length>0&&(k.genre_in=p),b&&(k.year=b),D&&(k.season=D),N&&(k.format=N),v&&(k.status=v),console.log("📦 Final variables:",k);try{const B=await(await fetch(Et,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify({query:_,variables:k})})).json();if(B.errors)throw console.error("❌ GraphQL errors:",B.errors),new Error(B.errors[0].message);const{data:y}=B,x=y.Page.media,z=x.filter(H=>!H.relations?.edges?.some(q=>q.relationType==="PREQUEL"&&q.node.format==="TV"));console.log(`✅ Browse: ${x.length} -> ${z.length} (removed sequels)`),console.log("📄 Page info:",y.Page.pageInfo),C?(o(z),u(1)):o(H=>[...H,...z]),m(y.Page.pageInfo.hasNextPage)}catch(I){console.error("❌ Error fetching anime:",I),R.error("Error loading anime: "+I.message)}finally{c(!1)}};f.useEffect(()=>{u(1),O(!0)},[p,b,D,N,v,L]);const A=C=>{g(E=>E.includes(C)?E.filter(U=>U!==C):[...E,C])},W=()=>{const C=d+1;u(C),O(!1,C)},Z=()=>{g([]),P(null),S(null),T(null),j(null),$("POPULARITY_DESC")};return r.jsxs("div",{className:"p-12",children:[r.jsx("div",{className:"border-b border-gray-700 pb-3 mb-6",children:r.jsx("h1",{className:"font-space-mono text-2xl tracking-wider",children:e("browse.title")})}),r.jsxs("div",{className:"mb-8 p-6 bg-[#1d1d20] border border-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center justify-between mb-4",children:[r.jsx("h2",{className:"text-xl font-bold",children:e("browse.filters")}),r.jsx(X,{variant:"soft",onClick:Z,children:e("browse.clearAll")})]}),r.jsxs("div",{className:"mb-6",children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("browse.sortBy")}),r.jsx("select",{value:L,onChange:C=>$(C.target.value),className:"w-full p-3 bg-[#0d0d0f] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",children:t.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("browse.year")}),r.jsxs("select",{value:b||"",onChange:C=>P(C.target.value?parseInt(C.target.value):null),className:"w-full p-3 bg-[#0d0d0f] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",children:[r.jsx("option",{value:"",children:e("browse.allYears")}),zu.map(C=>r.jsx("option",{value:C,children:C},C))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("browse.season")}),r.jsxs("select",{value:D||"",onChange:C=>S(C.target.value||null),className:"w-full p-3 bg-[#0d0d0f] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",children:[r.jsx("option",{value:"",children:e("browse.allSeasons")}),n.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("browse.format")}),r.jsxs("select",{value:N||"",onChange:C=>T(C.target.value||null),className:"w-full p-3 bg-[#0d0d0f] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",children:[r.jsx("option",{value:"",children:e("browse.allFormats")}),s.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("browse.status")}),r.jsxs("select",{value:v||"",onChange:C=>j(C.target.value||null),className:"w-full p-3 bg-[#0d0d0f] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",children:[r.jsx("option",{value:"",children:e("browse.allStatus")}),a.map(C=>r.jsx("option",{value:C.value,children:C.label},C.value))]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-3",children:e("browse.genres")}),r.jsx("div",{className:"flex flex-wrap gap-2",children:$u.map(C=>r.jsx(X,{variant:p.includes(C)?"solid":"soft",color:p.includes(C)?"blue":"gray",onClick:()=>A(C),size:"2",children:C},C))}),p.length>0&&r.jsxs("p",{className:"text-sm text-gray-400 mt-2",children:[e("browse.selected"),": ",p.join(", ")]})]})]}),l&&d===1?r.jsx(Vt,{}):r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"mb-4 text-gray-400",children:[e("browse.showing")," ",i.length," ",e("browse.anime")]}),r.jsx("div",{className:"grid animate-fade grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4",children:i.map(C=>r.jsx(fn,{data:C},C.id))}),h&&r.jsx("div",{className:"flex justify-center mt-8",children:r.jsx(X,{size:"3",onClick:W,disabled:l,children:e(l?"common.loading":"browse.loadMore")})}),i.length===0&&!l&&r.jsx("div",{className:"text-center py-12 text-gray-400",children:e("browse.noResults")})]}),r.jsx(Jt,{})]})}function Wu(){const{t:e}=he(),{login:t}=$e(),n=Ee(),[s,a]=f.useState({identifier:"",password:""}),[i,o]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState(null);f.useEffect(()=>{const m=El();m&&(a({identifier:m.username,password:m.password}),o(!0),console.log("✅ Auto-filled credentials for:",m.username))},[]);const h=async m=>{m.preventDefault(),c(!0),u(null);const p=await t(s.identifier,s.password);c(!1),p.success?(i?fa(s.identifier,s.password):Cn(),n("/")):u(p.message)};return r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-[#0d0d0f]",children:r.jsxs("div",{className:"w-full max-w-md p-8 bg-[#1d1d20] border border-gray-700 rounded-lg",children:[r.jsx("h1",{className:"mb-6 text-center text-3xl font-bold text-white",children:e("auth.login")}),r.jsxs("form",{onSubmit:h,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-200",children:e("auth.usernameOrEmail")}),r.jsx("input",{type:"text",value:s.identifier,onChange:m=>a({...s,identifier:m.target.value}),className:"w-full p-3 bg-[#2d2d30] border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-200",children:e("auth.password")}),r.jsx("input",{type:"password",value:s.password,onChange:m=>a({...s,password:m.target.value}),className:"w-full p-3 bg-[#2d2d30] border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",required:!0})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"rememberMe",checked:i,onChange:m=>o(m.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-[#2d2d30] text-blue-500 focus:ring-blue-500"}),r.jsx("label",{htmlFor:"rememberMe",className:"text-sm text-gray-300",children:e("auth.rememberMe")})]}),d&&r.jsx("p",{className:"text-red-500 text-sm",children:d}),r.jsx(X,{type:"submit",disabled:l,className:"w-full",size:"3",children:e(l?"common.loading":"auth.login")})]}),r.jsxs("p",{className:"mt-4 text-center text-sm text-gray-400",children:[e("auth.noAccount")," ",r.jsx(we,{to:"/register",className:"text-blue-500 hover:underline",children:e("auth.register")})]})]})})}function Ku(){const{t:e}=he(),{register:t}=$e(),n=Ee(),[s,a]=f.useState({username:"",email:"",password:"",confirmPassword:""}),[i,o]=f.useState(!1),[l,c]=f.useState(!1),[d,u]=f.useState({}),h=()=>{const p={};return(s.username.length<3||s.username.length>20)&&(p.username="Kullanıcı adı 3-20 karakter arası olmalı"),/^[a-zA-Z0-9_]+$/.test(s.username)||(p.username="Kullanıcı adı sadece harf, rakam ve alt çizgi içerebilir"),/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s.email)||(p.email="Geçerli bir email adresi girin"),s.password.length<8&&(p.password="Şifre en az 8 karakter olmalı"),/(?=.*[a-z])(?=.*[A-Z])(?=.*\d)/.test(s.password)||(p.password="Şifre büyük harf, küçük harf ve rakam içermeli"),s.password!==s.confirmPassword&&(p.confirmPassword="Şifreler eşleşmiyor"),u(p),Object.keys(p).length===0},m=async p=>{if(p.preventDefault(),!h())return;c(!0);const g=await t(s.username,s.email,s.password);c(!1),g.success&&(i&&fa(s.username,s.password),n("/"))};return r.jsx("div",{className:"flex min-h-screen items-center justify-center p-4 bg-[#0d0d0f]",children:r.jsxs("div",{className:"w-full max-w-md p-8 bg-[#1d1d20] border border-gray-700 rounded-lg",children:[r.jsx("h1",{className:"mb-6 text-center text-3xl font-bold text-white",children:e("auth.register")}),r.jsxs("form",{onSubmit:m,className:"space-y-4",children:[r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-200",children:e("auth.username")}),r.jsx("input",{type:"text",value:s.username,onChange:p=>a({...s,username:p.target.value}),className:"w-full p-3 bg-[#2d2d30] border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",required:!0}),d.username&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.username})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-200",children:e("auth.email")}),r.jsx("input",{type:"email",value:s.email,onChange:p=>a({...s,email:p.target.value}),className:"w-full p-3 bg-[#2d2d30] border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",required:!0}),d.email&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.email})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-200",children:e("auth.password")}),r.jsx("input",{type:"password",value:s.password,onChange:p=>a({...s,password:p.target.value}),className:"w-full p-3 bg-[#2d2d30] border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",required:!0}),d.password&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.password})]}),r.jsxs("div",{children:[r.jsx("label",{className:"mb-2 block text-sm font-medium text-gray-200",children:e("auth.confirmPassword")}),r.jsx("input",{type:"password",value:s.confirmPassword,onChange:p=>a({...s,confirmPassword:p.target.value}),className:"w-full p-3 bg-[#2d2d30] border border-gray-600 rounded-lg text-white focus:outline-none focus:border-blue-500",required:!0}),d.confirmPassword&&r.jsx("p",{className:"mt-1 text-sm text-red-500",children:d.confirmPassword})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("input",{type:"checkbox",id:"rememberMe",checked:i,onChange:p=>o(p.target.checked),className:"w-4 h-4 rounded border-gray-600 bg-[#2d2d30] text-blue-500 focus:ring-blue-500"}),r.jsx("label",{htmlFor:"rememberMe",className:"text-sm text-gray-300",children:e("auth.rememberMe")})]}),r.jsx(X,{type:"submit",disabled:l,className:"w-full",size:"3",children:e(l?"common.loading":"auth.register")})]}),r.jsxs("p",{className:"mt-4 text-center text-sm text-gray-400",children:[e("auth.haveAccount")," ",r.jsx(we,{to:"/login",className:"text-blue-500 hover:underline",children:e("auth.login")})]})]})})}function Yu({animes:e}){const{t}=he();return!e||e.length===0?r.jsx("div",{className:"text-center py-8 text-gray-400",children:t("profile.noCompletedAnime")}):r.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:e.map(n=>r.jsxs(we,{to:`/anime/${n.anime_id}`,className:"group rounded-lg border border-gray-700 bg-[#1d1d20] overflow-hidden transition hover:bg-[#2a2a2e]",children:[r.jsxs("div",{className:"relative",children:[r.jsx("img",{src:n.anime_image,alt:n.anime_title,className:"w-full h-48 object-cover group-hover:scale-105 transition-transform"}),n.rating&&r.jsxs("div",{className:"absolute top-2 right-2 bg-green-500 text-white px-2 py-1 rounded text-xs font-bold",children:["✓ ",n.rating,"/10"]})]}),r.jsxs("div",{className:"p-3",children:[r.jsx("h3",{className:"font-bold text-sm line-clamp-2",children:n.anime_title}),r.jsxs("p",{className:"text-xs text-gray-400 mt-1",children:[t("profile.completedOn")," ",new Date(n.completed_at).toLocaleDateString()]})]})]},n.anime_id))})}function qu(){const{t:e}=he(),{user:t,updateUser:n}=$e(),[s,a]=f.useState(null),[i,o]=f.useState([]),[l,c]=f.useState([]),[d,u]=f.useState(!0);if(f.useEffect(()=>{(async()=>{try{const[p,g,b]=await Promise.all([St.getProfile(),jt.getHistory(),jt.getCompleted()]);a(p.data.data),o(g.data.data||[]),c(b.data.data||[])}catch(p){console.error("Error fetching profile data:",p)}finally{u(!1)}})()},[]),d)return r.jsx("div",{className:"flex justify-center p-8",children:e("common.loading")});if(!s)return r.jsx("div",{className:"flex justify-center p-8",children:e("profile.profileNotFound")});const h=i.length>0?Math.round(i.reduce((m,p)=>m+(p.progress||0),0)/i.length):0;return r.jsxs("div",{className:"max-w-6xl mx-auto",children:[r.jsxs("div",{className:"relative mb-8",children:[s.banner?r.jsx("div",{className:"h-64 rounded-lg overflow-hidden",children:r.jsx("img",{src:s.banner,alt:"Banner",className:"w-full h-full object-cover",onError:m=>{m.target.style.display="none",m.target.parentElement.innerHTML='<div class="h-64 bg-gradient-to-r from-blue-900 to-purple-900 rounded-lg"></div>'}})}):r.jsx("div",{className:"h-64 bg-gradient-to-r from-blue-900 to-purple-900 rounded-lg"}),r.jsx("div",{className:"absolute -bottom-16 left-8",children:r.jsx("img",{src:s.avatar||`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.username}`,alt:"Profile",className:"w-32 h-32 rounded-full border-4 border-[#0d0d0f] object-cover bg-gray-800",onError:m=>m.target.src=`https://api.dicebear.com/7.x/avataaars/svg?seed=${s.username}`})})]}),r.jsxs("div",{className:"px-8 pt-20 pb-6",children:[r.jsxs("div",{className:"flex items-start justify-between mb-6",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h1",{className:"text-4xl font-bold mb-2",children:s.username}),r.jsx("p",{className:"text-gray-400 mb-3",children:s.email}),s.bio&&r.jsx("p",{className:"text-gray-300 max-w-2xl mb-4 leading-relaxed",children:s.bio}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-500",children:[r.jsxs("span",{children:["📅 ",e("profile.memberSince")," ",new Date(s.created_at).toLocaleDateString()]}),s.last_login&&r.jsxs("span",{children:["• 🕑 ",e("profile.lastLogin"),": ",new Date(s.last_login).toLocaleDateString()]})]})]}),r.jsx(we,{to:"/edit-profile",children:r.jsx(X,{size:"3",children:e("profile.editProfile")})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8",children:[r.jsxs(Kr,{className:"p-6 text-center bg-[#1d1d20] border border-gray-700",children:[r.jsx("div",{className:"text-3xl font-bold text-blue-500 mb-2",children:i.length}),r.jsx("div",{className:"text-sm text-gray-400",children:e("profile.totalWatched")})]}),r.jsxs(Kr,{className:"p-6 text-center bg-[#1d1d20] border border-gray-700",children:[r.jsx("div",{className:"text-3xl font-bold text-green-500 mb-2",children:l.length}),r.jsx("div",{className:"text-sm text-gray-400",children:e("profile.completed")})]}),r.jsxs(Kr,{className:"p-6 text-center bg-[#1d1d20] border border-gray-700",children:[r.jsxs("div",{className:"text-3xl font-bold text-purple-500 mb-2",children:[h,"%"]}),r.jsx("div",{className:"text-sm text-gray-400",children:e("profile.avgProgress")})]})]})]}),r.jsx("div",{className:"px-8",children:r.jsxs(ra,{defaultValue:"watching",children:[r.jsxs(na,{children:[r.jsx(Dt,{value:"watching",children:e("profile.continueWatching")}),r.jsx(Dt,{value:"completed",children:e("profile.completed")})]}),r.jsx(It,{value:"watching",className:"mt-6",children:r.jsx("div",{className:"space-y-4",children:i.length>0?i.map(m=>r.jsx(qa,{anime:m},m.id)):r.jsx("div",{className:"text-center py-12 text-gray-400 border border-gray-700 rounded-lg bg-[#1d1d20]",children:e("profile.noWatchHistory")})})}),r.jsx(It,{value:"completed",className:"mt-6",children:l.length>0?r.jsx(Yu,{animes:l}):r.jsx("div",{className:"text-center py-12 text-gray-400 border border-gray-700 rounded-lg bg-[#1d1d20]",children:e("profile.noAnime")})})]})}),r.jsx(Jt,{})]})}const sn="https://zenshin-backend-i34n.onrender.com/",Gu=()=>{const{t:e}=he(),{user:t,updateUser:n}=$e(),s=Ee(),[a,i]=f.useState({username:"",bio:"",avatar:"",banner:"",email:""}),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[m,p]=f.useState(null),[g,b]=f.useState(null),[P,D]=f.useState(""),[S,N]=f.useState(""),[T,v]=f.useState(!1),[j,L]=f.useState({});f.useEffect(()=>{t&&(i({username:t.username||"",bio:t.bio||"",avatar:t.avatar||"",banner:t.banner||"",email:t.email||""}),D(t.avatar||""),N(t.banner||""))},[t]);const $=_=>{const{name:k,value:I}=_.target;if(i(B=>({...B,[k]:I})),k==="username"){const B=En(I);if(l(B.errors),B.isValid)d([]);else{const y=Su(I);d(y.slice(0,3))}}},O=_=>{const{name:k,value:I}=_.target;h(B=>({...B,[k]:I}))},A=_=>{const k=_.target.files[0];if(k){if(!k.type.startsWith("image/")){R.error(e("profile.avatarTypeError"));return}p(k),D(URL.createObjectURL(k))}},W=_=>{const k=_.target.files[0];if(k){if(!k.type.startsWith("image/")){R.error(e("profile.avatarTypeError"));return}b(k),N(URL.createObjectURL(k))}},Z=async(_,k)=>{const I=new FormData;I.append("image",_),I.append("type",k);try{return new Promise((B,y)=>{const x=new FileReader;x.onloadend=()=>B(x.result),x.onerror=y,x.readAsDataURL(_)})}catch{throw new Error("Resim yüklenemedi")}},C=async _=>{_.preventDefault(),v(!0);try{const k={};if(a.bio!==void 0&&(k.bio=a.bio.trim()),m){console.log("💼 Uploading avatar file...");const B=await Z(m,"avatar");k.avatar=B}else a.avatar&&a.avatar.trim()&&(k.avatar=a.avatar.trim());if(g){console.log("🇫 Uploading banner file...");const B=await Z(g,"banner");k.banner=B}else a.banner&&a.banner.trim()&&(k.banner=a.banner.trim());console.log("📤 Sending update data:",JSON.stringify(k,null,2)),console.log("🔑 Keys:",Object.keys(k)),console.log("📊 Count:",Object.keys(k).length),await St.updateProfile(k);const I=await St.getProfile();n(I.data.data),R.success(e("profile.updated")),setTimeout(()=>s("/profile"),1e3)}catch(k){console.error("❌ Update error:",k);const I=k.response?.data?.message||e("profile.updateError");R.error(I)}finally{v(!1)}},E=async()=>{try{if(!a.email.trim()||!/\S+@\S+\.\S+/.test(a.email))throw R.error(e("profile.emailError")),new Error("Invalid email");await Ie.put(`${sn}/users/change-email`,{newEmail:a.email},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}});const _=await St.getProfile();n(_.data.data),R.success(e("profile.emailUpdated"))}catch(_){throw console.error("Email update error:",_),R.error(_.response?.data?.message||e("profile.emailUpdateError")),_}},U=async _=>{if(_.preventDefault(),u.newPassword!==u.confirmPassword){R.error(e("profile.passwordMismatchError"));return}if(u.newPassword.length<8){R.error(e("profile.passwordLengthError"));return}v(!0);try{await Ie.put(`${sn}/users/change-password`,{currentPassword:u.currentPassword,newPassword:u.newPassword},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}),R.success(e("profile.passwordUpdated")),h({currentPassword:"",newPassword:"",confirmPassword:""})}catch(k){console.error("Password update error:",k),R.error(k.response?.data?.message||e("profile.passwordUpdateError"))}finally{v(!1)}};return r.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6",children:e("profile.editProfile")}),r.jsxs(ra,{defaultValue:"profile",children:[r.jsxs(na,{children:[r.jsx(Dt,{value:"profile",children:e("profile.profileInfo")}),r.jsx(Dt,{value:"account",children:e("profile.accountSettings")}),r.jsx(Dt,{value:"security",children:e("profile.security")})]}),r.jsx(It,{value:"profile",className:"mt-6",children:r.jsxs("form",{onSubmit:C,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("profile.bio")}),r.jsx("textarea",{name:"bio",value:a.bio,onChange:$,placeholder:e("profile.bioPlaceholder")||"Tell us about yourself...",className:"w-full p-3 bg-[#1d1d20] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 resize-none",rows:4,maxLength:500}),r.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:[a.bio.length,"/500"]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("profile.avatar")}),r.jsxs("div",{className:"flex gap-4 items-start",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:A,className:"w-full p-3 bg-[#1d1d20] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700"}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("profile.orEnterUrl")}),r.jsx("input",{type:"url",name:"avatar",value:a.avatar,onChange:$,placeholder:"https://example.com/avatar.jpg",className:"w-full p-3 bg-[#1d1d20] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 mt-2"})]}),P&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:[e("profile.preview"),":"]}),r.jsx("img",{src:P,alt:"Avatar preview",className:"w-24 h-24 rounded-full object-cover border-2 border-gray-600",onError:_=>_.target.style.display="none"})]})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("profile.banner")}),r.jsxs("div",{className:"space-y-4",children:[r.jsx("input",{type:"file",accept:"image/*",onChange:W,className:"w-full p-3 bg-[#1d1d20] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500 file:mr-4 file:py-2 file:px-4 file:rounded file:border-0 file:bg-blue-600 file:text-white hover:file:bg-blue-700"}),r.jsx("p",{className:"text-xs text-gray-500",children:e("profile.orEnterUrl")}),r.jsx("input",{type:"url",name:"banner",value:a.banner,onChange:$,placeholder:"https://example.com/banner.jpg",className:"w-full p-3 bg-[#1d1d20] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500"}),S&&r.jsxs("div",{children:[r.jsxs("p",{className:"text-sm text-gray-400 mb-2",children:[e("profile.preview"),":"]}),r.jsx("img",{src:S,alt:"Banner preview",className:"w-full h-40 object-cover rounded-lg border-2 border-gray-600",onError:_=>_.target.style.display="none"})]})]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(X,{type:"button",variant:"soft",onClick:()=>s("/profile"),className:"flex-1",children:e("common.cancel")}),r.jsx(X,{type:"submit",disabled:T,className:"flex-1",children:e(T?"common.loading":"profile.saveChanges")})]})]})}),r.jsx(It,{value:"account",className:"mt-6",children:r.jsxs("form",{onSubmit:async _=>{_.preventDefault(),v(!0);try{if(a.username!==t?.username){const k=En(a.username);if(!k.isValid){R.error("Kullanıcı adı geçersiz",{description:k.errors[0]}),v(!1);return}await Ie.put(`${sn}/users/change-username`,{newUsername:a.username},{headers:{Authorization:`Bearer ${localStorage.getItem("auth_token")}`}}),R.success("Kullanıcı adı değiştirildi")}if(a.email!==t?.email)await E(_);else{const k=await St.getProfile();n(k.data.data),setTimeout(()=>s("/profile"),500)}}catch(k){console.error("Account update error:",k),R.error(k.response?.data?.message||"Güncelleme başarısız")}finally{v(!1)}},className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("profile.username")}),r.jsx("input",{type:"text",name:"username",value:a.username,onChange:$,className:`w-full p-3 bg-[#1d1d20] border ${o.length>0?"border-red-500":"border-gray-700"} rounded-lg focus:outline-none focus:border-blue-500`,required:!0,minLength:3,maxLength:20}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e("profile.currentUsername"),": ",t?.username]}),o.length>0&&r.jsx("div",{className:"mt-2 space-y-1",children:o.map((_,k)=>r.jsxs("p",{className:"text-xs text-red-400",children:["❌ ",_]},k))}),c.length>0&&r.jsxs("div",{className:"mt-3",children:[r.jsx("p",{className:"text-xs text-gray-400 mb-2",children:"💡 Öneriler:"}),r.jsx("div",{className:"flex gap-2 flex-wrap",children:c.map((_,k)=>r.jsx("button",{type:"button",onClick:()=>{i(I=>({...I,username:_})),l([]),d([])},className:"px-3 py-1 bg-blue-600 hover:bg-blue-700 rounded text-xs transition",children:_},k))})]})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("profile.email")}),r.jsx("input",{type:"email",name:"email",value:a.email,onChange:$,className:"w-full p-3 bg-[#1d1d20] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",required:!0}),r.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[e("profile.currentEmail"),": ",t?.email]})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(X,{type:"button",variant:"soft",onClick:()=>s("/profile"),className:"flex-1",children:e("common.cancel")}),r.jsx(X,{type:"submit",disabled:T,className:"flex-1",children:e(T?"common.loading":"profile.updateEmail")})]})]})}),r.jsx(It,{value:"security",className:"mt-6",children:r.jsxs("form",{onSubmit:U,className:"space-y-6",children:[r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("profile.currentPassword")}),r.jsx("input",{type:"password",name:"currentPassword",value:u.currentPassword,onChange:O,className:"w-full p-3 bg-[#1d1d20] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("profile.newPassword")}),r.jsx("input",{type:"password",name:"newPassword",value:u.newPassword,onChange:O,className:"w-full p-3 bg-[#1d1d20] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",required:!0,minLength:8}),r.jsx("p",{className:"text-xs text-gray-500 mt-1",children:e("profile.passwordRequirements")})]}),r.jsxs("div",{children:[r.jsx("label",{className:"block text-sm font-medium mb-2",children:e("profile.confirmPassword")}),r.jsx("input",{type:"password",name:"confirmPassword",value:u.confirmPassword,onChange:O,className:"w-full p-3 bg-[#1d1d20] border border-gray-700 rounded-lg focus:outline-none focus:border-blue-500",required:!0})]}),r.jsxs("div",{className:"flex gap-3",children:[r.jsx(X,{type:"button",variant:"soft",onClick:()=>s("/profile"),className:"flex-1",children:e("common.cancel")}),r.jsx(X,{type:"submit",disabled:T,className:"flex-1",color:"red",children:e(T?"common.loading":"profile.updatePassword")})]})]})})]})]})},Ds="https://zenshin-backend-i34n.onrender.com/".replace("/api","")||"http://localhost:64621";function Xu(){const{t:e}=he(),[t,n]=f.useState([]),[s,a]=f.useState(!0);f.useEffect(()=>{i();const d=setInterval(i,2e3);return()=>clearInterval(d)},[]);const i=async()=>{try{const d=await Ie.get(`${Ds}/active-torrents`);n(d.data),a(!1)}catch(d){console.error("Error fetching active torrents:",d),a(!1)}},o=async d=>{try{await Ie.delete(`${Ds}/remove/${encodeURIComponent(d)}`),R.success(e("torrentRemovedSuccessfully")||"Torrent removed"),i()}catch(u){console.error("Error removing torrent:",u),R.error(e("errorRemovingTorrent")||"Error removing torrent")}},l=d=>{if(d===0)return"0 Bytes";const u=1024,h=["Bytes","KB","MB","GB","TB"],m=Math.floor(Math.log(d)/Math.log(u));return Math.round(d/Math.pow(u,m)*100)/100+" "+h[m]},c=d=>l(d)+"/s";return s?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("p",{className:"text-gray-400",children:e("common.loading")})}):r.jsxs("div",{className:"container mx-auto px-4 py-8",children:[r.jsx("h1",{className:"text-3xl font-bold mb-6 font-space-mono",children:e("header.downloads")}),t.length===0?r.jsxs("div",{className:"text-center py-12 border border-gray-700 rounded-lg bg-[#1d1d20]",children:[r.jsx(ln,{className:"mx-auto mb-4 h-12 w-12 text-gray-500"}),r.jsx("p",{className:"text-gray-400 mb-2",children:e("downloads.noActiveTorrents")||"No active downloads"}),r.jsx("p",{className:"text-gray-500 text-sm",children:e("downloads.startWatching")||"Start watching an anime to see downloads here"})]}):r.jsx("div",{className:"space-y-4",children:t.map((d,u)=>r.jsxs("div",{className:"border border-gray-700 bg-[#1d1d20] rounded-lg p-4 hover:bg-[#2a2a2e] transition",children:[r.jsxs("div",{className:"flex items-start justify-between mb-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-bold text-lg mb-1 line-clamp-1",children:d.name}),r.jsxs("p",{className:"text-sm text-gray-400",children:[l(d.downloaded)," / ",l(d.length)]})]}),r.jsxs(X,{color:"red",variant:"soft",size:"1",onClick:()=>o(d.magnetURI),children:[r.jsx(yr,{}),e("stopAndRemoveAnime")||"Remove"]})]}),r.jsxs("div",{className:"mb-3",children:[r.jsx("div",{className:"h-2 w-full rounded-full bg-gray-700",children:r.jsx("div",{className:"h-2 rounded-full bg-blue-500 transition-all duration-300",style:{width:`${((d.progress||0)*100).toFixed(1)}%`}})}),r.jsxs("div",{className:"flex justify-between text-xs text-gray-400 mt-1",children:[r.jsxs("span",{children:[((d.progress||0)*100).toFixed(1),"%"]}),r.jsxs("span",{children:[c(d.downloadSpeed||0)," ↓ / ",c(d.uploadSpeed||0)," ↑"]})]})]}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-400",children:[r.jsxs("span",{children:["👥 ",d.numPeers||0," peers"]}),r.jsxs("span",{children:["📊 Ratio: ",(d.ratio||0).toFixed(2)]})]})]},u))})]})}function Qu(){return Ee(),f.useEffect(()=>{(async()=>{const t=window.location.hash;if(t){const n=new URLSearchParams(t.substring(1)),s=n.get("access_token"),a=n.get("token_type"),i=n.get("expires_in");s&&(localStorage.setItem("anilist_token",s),console.log(`Access Token: ${s}`),console.log(`Token Type: ${a}`),console.log(`Expires In: ${i}`),window.location.replace("/zenshin"),R.success("Successfully logged in to AniList",{icon:r.jsx(Ye,{height:"16",width:"16",color:"#ffffff"}),classNames:{title:"text-green-500"}}))}})()},[]),r.jsx("div",{children:r.jsx(Vt,{})})}const Ju=({children:e})=>{const{isAuthenticated:t,loading:n}=$e();return n?r.jsx("div",{children:"Loading..."}):t?e:r.jsx(cn,{to:"/login",replace:!0})},Zu=({children:e})=>{const{isAuthenticated:t,loading:n}=$e(),{data:s,isLoading:a}=Me({queryKey:["admin-check"],queryFn:async()=>{try{return(await ne.get("/admin/stats")).data.success}catch{return!1}},enabled:t&&!n});return n||a?r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-500"})}):t?s?e:r.jsx(cn,{to:"/",replace:!0}):r.jsx(cn,{to:"/login",replace:!0})},em="https://zenshin-backend-i34n.onrender.com/",tm=()=>{const[e,t]=f.useState("stats"),[n,s]=f.useState(""),[a,i]=f.useState(null),[o,l]=f.useState([]),[c,d]=f.useState([]),[u,h]=f.useState(!1),[m,p]=f.useState("url"),[g,b]=f.useState(null),P=Ai(),{data:D,isLoading:S,error:N}=Me({queryKey:["admin-stats"],queryFn:async()=>{console.log("📊 Fetching stats...");const y=await Fe.getStats();return console.log("📊 Stats result:",y),y},retry:1}),{data:T,isLoading:v,error:j}=Me({queryKey:["admin-users"],queryFn:async()=>{console.log("👥 Fetching admins...");const y=await Fe.getAdmins();return console.log("👥 Admins result:",y),y},retry:1}),{data:L,isLoading:$}=Me({queryKey:["admin-4k-episodes"],queryFn:Fe.getAll4KEpisodes}),O=tt({mutationFn:Fe.grantAdmin,onSuccess:()=>{P.invalidateQueries(["admin-users"]),R.success("Admin yetkisi verildi!")},onError:y=>{R.error(y.response?.data?.message||"Hata oluştu")}}),A=tt({mutationFn:Fe.revokeAdmin,onSuccess:()=>{P.invalidateQueries(["admin-users"]),R.success("Admin yetkisi kaldırıldı!")},onError:y=>{R.error(y.response?.data?.message||"Hata oluştu")}}),W=tt({mutationFn:Fe.delete4KEpisode,onSuccess:()=>{P.invalidateQueries(["admin-4k-episodes"]),R.success("4K bölüm silindi!")},onError:y=>{R.error(y.response?.data?.message||"Hata oluştu")}}),Z=tt({mutationFn:Fe.add4KEpisode,onSuccess:()=>{P.invalidateQueries(["admin-4k-episodes"]),R.success("4K bölüm başarıyla eklendi!")},onError:y=>{R.error(y.response?.data?.message||"Hata oluştu")}}),C=tt({mutationFn:y=>Fe.searchAnime(y),onSuccess:y=>{R.success("Anime bulundu!")},onError:y=>{R.error("Anime arama hatası: "+y.message)}}),E=tt({mutationFn:y=>Fe.searchTorrents(y),onSuccess:y=>{l(y.data.data||[]),R.success(`${y.data.data?.length||0} torrent bulundu!`)},onError:y=>{R.error("Torrent arama hatası: "+y.message)}}),U=tt({mutationFn:y=>Fe.searchMKV(y),onSuccess:y=>{d(y.data.data||[]),R.success(`${y.data.data?.length||0} MKV dosyası bulundu!`)},onError:y=>{R.error("MKV arama hatası: "+y.message)}}),_=tt({mutationFn:Fe.addSubtitle,onSuccess:()=>{R.success("Altyazı başarıyla eklendi!"),b(null)},onError:y=>{R.error(y.response?.data?.message||"Altyazı ekleme hatası")}}),k=tt({mutationFn:async y=>{const x=new FormData;x.append("file",y.file),x.append("animeId",y.animeId),x.append("episodeNumber",y.episodeNumber),x.append("language",y.language);const z=localStorage.getItem("auth_token"),H=await fetch(`${em}/admin/subtitles/upload`,{method:"POST",headers:{Authorization:`Bearer ${z}`},body:x});if(!H.ok){const ae=await H.json();throw new Error(ae.message||"Yükleme başarısız")}return H.json()},onSuccess:()=>{R.success("Altyazı dosyası başarıyla yüklendi!"),b(null)},onError:y=>{R.error(y.message||"Dosya yükleme hatası")}}),I=[{id:"stats",label:"İstatistikler",icon:"📊"},{id:"users",label:"Kullanıcı Yönetimi",icon:"👥"},{id:"episodes",label:"4K Bölümler",icon:"🎬"},{id:"subtitles",label:"Altyazılar",icon:"💬"},{id:"anime",label:"Anime Ara",icon:"🔍"}],B=y=>{const x=Math.floor(y/3600),z=Math.floor(y%3600/60);return`${x}s ${z}dk`};return r.jsx("div",{className:"min-h-screen bg-gray-900 text-white p-6",children:r.jsxs("div",{className:"max-w-7xl mx-auto",children:[r.jsx("h1",{className:"text-3xl font-bold mb-8 text-center",children:"Admin Paneli"}),r.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-700 pb-4",children:I.map(y=>r.jsxs("button",{onClick:()=>t(y.id),className:`flex items-center gap-2 px-4 py-2 rounded-lg transition-colors ${e===y.id?"bg-blue-600 text-white":"bg-gray-800 text-gray-300 hover:bg-gray-700"}`,children:[r.jsx("span",{children:y.icon}),r.jsx("span",{children:y.label})]},y.id))}),r.jsxs("div",{className:"space-y-6",children:[e==="stats"&&r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:S?r.jsx("div",{className:"col-span-full text-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"})}):D?.data?.data?r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-900/50 to-blue-800/30 p-6 rounded-lg border border-blue-700/50 hover:border-blue-500 transition-all",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Toplam Kullanıcı"}),r.jsx("span",{className:"text-2xl",children:"👥"})]}),r.jsx("p",{className:"text-4xl font-bold text-blue-400",children:D.data.data.totalUsers}),r.jsx("div",{className:"mt-2 text-sm text-gray-400",children:"Kayıtlı kullanıcılar"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-green-900/50 to-green-800/30 p-6 rounded-lg border border-green-700/50 hover:border-green-500 transition-all",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Admin Sayısı"}),r.jsx("span",{className:"text-2xl",children:"👑"})]}),r.jsx("p",{className:"text-4xl font-bold text-green-400",children:D.data.data.totalAdmins}),r.jsx("div",{className:"mt-2 text-sm text-gray-400",children:"Aktif yöneticiler"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-900/50 to-purple-800/30 p-6 rounded-lg border border-purple-700/50 hover:border-purple-500 transition-all",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"4K Bölüm"}),r.jsx("span",{className:"text-2xl",children:"🎥"})]}),r.jsx("p",{className:"text-4xl font-bold text-purple-400",children:D.data.data.total4KEpisodes}),r.jsx("div",{className:"mt-2 text-sm text-gray-400",children:"Yüksek kalite bölümler"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-yellow-900/50 to-yellow-800/30 p-6 rounded-lg border border-yellow-700/50 hover:border-yellow-500 transition-all",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"İzleme Süresi"}),r.jsx("span",{className:"text-2xl",children:"⏱️"})]}),r.jsx("p",{className:"text-3xl font-bold text-yellow-400",children:B(D.data.data.totalWatchTime)}),r.jsx("div",{className:"mt-2 text-sm text-gray-400",children:"Toplam izlenen süre"})]}),r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg md:col-span-2",children:[r.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"🏆"}),r.jsx("span",{children:"En Çok 4K Bölümü Olan Animeler"})]}),r.jsx("div",{className:"space-y-3",children:D.data.data.top4KAnime?.slice(0,5).map((y,x)=>{const z=D.data.data.top4KAnime[0]?.episode_count||1,H=y.episode_count/z*100;return r.jsxs("div",{className:"space-y-1",children:[r.jsxs("div",{className:"flex justify-between items-center text-sm",children:[r.jsx("span",{className:"truncate font-medium",children:y.anime_title}),r.jsxs("span",{className:"text-blue-400 font-semibold",children:[y.episode_count," bölüm"]})]}),r.jsx("div",{className:"w-full bg-gray-700 rounded-full h-2 overflow-hidden",children:r.jsx("div",{className:"h-full bg-gradient-to-r from-blue-500 to-purple-500 transition-all duration-500",style:{width:`${H}%`}})})]},y.anime_id)})})]}),r.jsxs("div",{className:"bg-gradient-to-br from-red-900/50 to-red-800/30 p-6 rounded-lg border border-red-700/50 hover:border-red-500 transition-all",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Toplam Yorum"}),r.jsx("span",{className:"text-2xl",children:"💬"})]}),r.jsx("p",{className:"text-4xl font-bold text-red-400",children:D.data.data.totalComments}),r.jsx("div",{className:"mt-2 text-sm text-gray-400",children:"Kullanıcı yorumları"})]}),r.jsxs("div",{className:"bg-gradient-to-br from-indigo-900/50 to-indigo-800/30 p-6 rounded-lg border border-indigo-700/50 hover:border-indigo-500 transition-all",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"text-lg font-semibold text-gray-300",children:"Toplam Altyazı"}),r.jsx("span",{className:"text-2xl",children:"🎨"})]}),r.jsx("p",{className:"text-4xl font-bold text-indigo-400",children:D.data.data.totalSubtitles}),r.jsx("div",{className:"mt-2 text-sm text-gray-400",children:"Altyazı dosyaları"})]})]}):r.jsxs("div",{className:"col-span-full text-center py-8",children:[r.jsx("div",{className:"text-red-400 mb-2",children:"⚠️ İstatistikler yüklenemedi"}),N&&r.jsxs("div",{className:"text-sm text-gray-400",children:["Hata: ",N.message]}),r.jsx("button",{onClick:()=>P.invalidateQueries(["admin-stats"]),className:"mt-4 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-sm",children:"Tekrar Dene"})]})}),e==="users"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Admin Yetkisi Ver"}),r.jsxs("form",{onSubmit:y=>{y.preventDefault();const x=new FormData(y.target);O.mutate({username:x.get("username"),permissions:x.get("permissions")||"all"}),y.target.reset()},className:"flex gap-4",children:[r.jsx("input",{type:"text",name:"username",placeholder:"Kullanıcı adı",className:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",required:!0}),r.jsxs("select",{name:"permissions",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",children:[r.jsx("option",{value:"all",children:"Tüm Yetkiler"}),r.jsx("option",{value:"limited",children:"Sınırlı"})]}),r.jsx("button",{type:"submit",disabled:O.isPending,className:"px-6 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-medium disabled:opacity-50",children:O.isPending?"Ekleniyor...":"Ekle"})]})]}),r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Mevcut Adminler"}),v?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"})}):T?.data?.data?.length>0?r.jsx("div",{className:"space-y-4",children:T.data.data.map(y=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx("img",{src:y.avatar||"/zenshin/default-avatar.png",alt:y.username,className:"w-10 h-10 rounded-full",onError:x=>{x.target.src="/zenshin/default-avatar.png"}}),r.jsxs("div",{children:[r.jsx("p",{className:"font-medium",children:y.username}),r.jsxs("p",{className:"text-sm text-gray-400",children:[new Date(y.granted_at).toLocaleDateString("tr-TR"),y.granted_by_username&&` - ${y.granted_by_username} tarafından`]})]})]}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx("span",{className:"px-2 py-1 bg-blue-600 text-xs rounded",children:y.permissions}),r.jsx("button",{onClick:()=>A.mutate(y.username),disabled:A.isPending,className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm disabled:opacity-50",children:"Kaldır"})]})]},y.id))}):r.jsxs("div",{className:"text-center py-8",children:[r.jsx("p",{className:"text-gray-400 mb-2",children:"Henüz admin atanmamış"}),j&&r.jsxs("p",{className:"text-red-400 text-sm",children:["Hata: ",j.message]})]})]})]}),e==="episodes"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"4K Bölüm Ekle"}),r.jsxs("form",{onSubmit:y=>{y.preventDefault();const x=new FormData(y.target);Z.mutate({anime_id:x.get("animeId"),anime_title:x.get("animeTitle"),episode_number:parseInt(x.get("episodeNumber")),storage_url:x.get("storageUrl"),file_size:x.get("fileSize")||null,storage_type:x.get("storageType")||"local"}),y.target.reset()},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",name:"animeId",placeholder:"Anime ID",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",required:!0}),r.jsx("input",{type:"text",name:"animeTitle",placeholder:"Anime Başlığı",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",required:!0}),r.jsx("input",{type:"number",name:"episodeNumber",placeholder:"Bölüm Numarası",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",required:!0}),r.jsx("input",{type:"text",name:"storageUrl",placeholder:"Depolama URL",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500",required:!0}),r.jsx("input",{type:"text",name:"fileSize",placeholder:"Dosya Boyutu (örn: 2.5GB)",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500"}),r.jsx("button",{type:"submit",className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium",children:"Ekle"})]})]}),r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[r.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Mevcut 4K Bölümler"}),$?r.jsx("div",{className:"text-center py-8",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500 mx-auto"})}):L?.data?.data?.length>0?r.jsx("div",{className:"space-y-4",children:L.data.data.map(y=>r.jsxs("div",{className:"flex items-center justify-between p-4 bg-gray-700 rounded-lg",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h3",{className:"font-medium",children:y.anime_title}),r.jsxs("p",{className:"text-sm text-gray-400",children:["Bölüm ",y.episode_number," • ",y.file_size," • ",y.storage_type]}),r.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(y.uploaded_at).toLocaleDateString("tr-TR"),y.upscaled_by_username&&` - ${y.upscaled_by_username}`]})]}),r.jsx("button",{onClick:()=>W.mutate(y.id),disabled:W.isPending,className:"px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm disabled:opacity-50",children:"Sil"})]},y.id))}):r.jsx("p",{className:"text-gray-400 text-center py-8",children:"Henüz 4K bölüm eklenmemiş"})]})]}),e==="subtitles"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"🔍"}),r.jsx("span",{children:"Torrent Ara (Altyazı Paketleri)"})]}),r.jsxs("form",{onSubmit:y=>{y.preventDefault();const x=new FormData(y.target),z=x.get("animeName"),H=x.get("season"),ae=H&&H!=="all"?`${z} S${H}`:z;E.mutate(ae)},className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("input",{type:"text",name:"animeName",placeholder:"Anime adı (örn: Jujutsu Kaisen)",className:"md:col-span-3 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",required:!0}),r.jsxs("select",{name:"season",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",children:[r.jsx("option",{value:"all",children:"Tüm Sezonlar"}),r.jsx("option",{value:"1",children:"Sezon 1"}),r.jsx("option",{value:"2",children:"Sezon 2"}),r.jsx("option",{value:"3",children:"Sezon 3"}),r.jsx("option",{value:"4",children:"Sezon 4"}),r.jsx("option",{value:"5",children:"Sezon 5"})]}),r.jsx("button",{type:"submit",disabled:E.isPending,className:"md:col-span-4 px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium disabled:opacity-50 flex items-center justify-center gap-2",children:E.isPending?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),r.jsx("span",{children:"Aranıyor..."})]}):r.jsx("span",{children:"🔍 Torrent Ara"})})]}),r.jsxs("div",{className:"mt-3 p-3 bg-blue-900/30 border border-blue-700 rounded-lg text-sm text-blue-300",children:[r.jsx("strong",{children:"💡 İpucu:"})," Altyazı paketleri batch torrentler halinde gelir. İndirdikten sonra altyazıları çıkartabilirsiniz."]}),o.length>0&&r.jsxs("div",{className:"mt-6 space-y-3 max-h-[600px] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"text-lg font-semibold text-blue-400",children:["Sonuçlar (",o.length,")"]}),r.jsx("span",{className:"text-sm text-gray-400",children:"En fazla 100 sonuç gösteriliyor"})]}),o.map((y,x)=>r.jsx("div",{className:"bg-gray-700 p-4 rounded-lg hover:bg-gray-650 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-white mb-1",children:y.title}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-400",children:[r.jsxs("span",{children:["📁 ",y.size]}),r.jsxs("span",{children:["📥 ",y.seeders," seeds"]}),r.jsxs("span",{children:["📤 ",y.leechers," peers"]}),r.jsxs("span",{children:["📅 ",y.date]})]})]}),r.jsxs("a",{href:y.link,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm flex items-center gap-1",children:[r.jsx(Bt,{}),r.jsx("span",{children:"İndir"})]})]})},x))]})]}),r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"🎬"}),r.jsx("span",{children:"MKV Ara (Tek Bölümler)"})]}),r.jsxs("form",{onSubmit:y=>{y.preventDefault();const x=new FormData(y.target),z=x.get("animeName"),H=x.get("season");let ae=x.get("episodeNum");ae=ae.replace(/^0+/,"")||"0";let q=z;H&&H!=="all"&&(q+=` S${H}`),ae&&(q+=` ${ae}`),console.log("🔍 MKV Search query:",q),U.mutate(q)},className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[r.jsx("input",{type:"text",name:"animeName",placeholder:"Anime adı (örn: Frieren)",className:"md:col-span-2 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",required:!0}),r.jsxs("select",{name:"season",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",children:[r.jsx("option",{value:"all",children:"Tüm Sezonlar"}),r.jsx("option",{value:"1",children:"Sezon 1"}),r.jsx("option",{value:"2",children:"Sezon 2"}),r.jsx("option",{value:"3",children:"Sezon 3"}),r.jsx("option",{value:"4",children:"Sezon 4"}),r.jsx("option",{value:"5",children:"Sezon 5"})]}),r.jsx("input",{type:"text",name:"episodeNum",placeholder:"Bölüm (01, 1, 05...)",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",required:!0}),r.jsx("button",{type:"submit",disabled:U.isPending,className:"md:col-span-4 px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium disabled:opacity-50 flex items-center justify-center gap-2",children:U.isPending?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),r.jsx("span",{children:"Aranıyor..."})]}):r.jsx("span",{children:"🔍 Tekil Bölüm Ara"})})]}),r.jsxs("div",{className:"mt-3 p-3 bg-purple-900/30 border border-purple-700 rounded-lg text-sm text-purple-300",children:[r.jsx("strong",{children:"👁️ Not:"})," Batch pack'ler (1-12, 01-24 gibi) otomatik filtrelenir. Sadece tekil bölümler görüntülenir."]}),c.length>0&&r.jsxs("div",{className:"mt-6 space-y-3 max-h-[600px] overflow-y-auto",children:[r.jsxs("div",{className:"flex items-center justify-between mb-3",children:[r.jsxs("h3",{className:"text-lg font-semibold text-purple-400",children:["MKV Dosyaları (",c.length,")"]}),r.jsx("span",{className:"text-sm text-gray-400",children:"Tekil bölümler"})]}),c.map((y,x)=>r.jsx("div",{className:"bg-gray-700 p-4 rounded-lg hover:bg-gray-650 transition-colors",children:r.jsxs("div",{className:"flex items-start justify-between",children:[r.jsxs("div",{className:"flex-1",children:[r.jsx("h4",{className:"font-medium text-white mb-1",children:y.title}),r.jsxs("div",{className:"flex gap-4 text-sm text-gray-400",children:[r.jsxs("span",{children:["📁 ",y.size]}),r.jsxs("span",{children:["📥 ",y.seeders," seeds"]}),r.jsxs("span",{children:["📤 ",y.leechers," peers"]}),r.jsxs("span",{children:["📅 ",y.date]})]})]}),r.jsxs("a",{href:y.link,target:"_blank",rel:"noopener noreferrer",className:"px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm flex items-center gap-1",children:[r.jsx(Bt,{}),r.jsx("span",{children:"İndir"})]})]})},x))]})]}),r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"➕"}),r.jsx("span",{children:"Altyazı Ekle"})]}),r.jsxs("div",{className:"flex gap-2 mb-4",children:[r.jsx("button",{type:"button",onClick:()=>p("url"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${m==="url"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"🔗 URL ile Ekle"}),r.jsx("button",{type:"button",onClick:()=>p("file"),className:`flex-1 px-4 py-2 rounded-lg font-medium transition-colors ${m==="file"?"bg-blue-600 text-white":"bg-gray-700 text-gray-300 hover:bg-gray-600"}`,children:"📁 Dosya Yükle"})]}),m==="url"&&r.jsxs("form",{onSubmit:y=>{y.preventDefault();const x=new FormData(y.target);_.mutate({animeId:x.get("animeId"),episodeNumber:parseInt(x.get("episodeNumber")),language:x.get("language"),fileName:x.get("fileName"),storageUrl:x.get("storageUrl")}),y.target.reset()},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",name:"animeId",placeholder:"Anime ID (Anilist)",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",required:!0}),r.jsx("input",{type:"number",name:"episodeNumber",placeholder:"Bölüm Numarası",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",required:!0}),r.jsx("input",{type:"text",name:"language",placeholder:"Dil kodu (tr, en, jp)",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",required:!0}),r.jsx("input",{type:"text",name:"fileName",placeholder:"Dosya adı (episode01.srt)",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",required:!0}),r.jsx("input",{type:"url",name:"storageUrl",placeholder:"Altyazı URL (https://...)",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 md:col-span-2 text-white",required:!0}),r.jsx("button",{type:"submit",disabled:_.isPending,className:"px-6 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-medium md:col-span-2 disabled:opacity-50 flex items-center justify-center gap-2",children:_.isPending?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),r.jsx("span",{children:"Ekleniyor..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Xn,{}),r.jsx("span",{children:"Altyazı Ekle"})]})})]}),m==="file"&&r.jsxs("form",{onSubmit:y=>{y.preventDefault();const x=new FormData(y.target);if(!g){R.error("Lütfen bir dosya seçin");return}k.mutate({file:g,animeId:x.get("animeId"),episodeNumber:parseInt(x.get("episodeNumber")),language:x.get("language")}),y.target.reset()},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[r.jsx("input",{type:"text",name:"animeId",placeholder:"Anime ID (Anilist)",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",required:!0}),r.jsx("input",{type:"number",name:"episodeNumber",placeholder:"Bölüm Numarası",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",required:!0}),r.jsx("input",{type:"text",name:"language",placeholder:"Dil kodu (tr, en, jp)",className:"px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",required:!0}),r.jsxs("div",{className:"md:col-span-1",children:[r.jsxs("label",{htmlFor:"subtitle-file",className:"flex items-center justify-center px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg cursor-pointer hover:bg-gray-600 transition-colors text-white",children:[r.jsx("span",{className:"mr-2",children:"📁"}),r.jsx("span",{children:g?g.name:"Dosya Seç"})]}),r.jsx("input",{id:"subtitle-file",type:"file",accept:".srt,.ass,.vtt,.7z,.zip",className:"hidden",onChange:y=>{const x=y.target.files?.[0];x&&(b(x),R.success(`Seçildi: ${x.name}`))}})]}),g&&r.jsx("div",{className:"md:col-span-2 p-3 bg-green-900/30 border border-green-700 rounded-lg text-sm text-green-300",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("strong",{children:"✅ Dosya Hazır:"})," ",g.name,r.jsxs("span",{className:"ml-2 text-gray-400",children:["(",(g.size/1024).toFixed(2)," KB)"]})]}),r.jsx("button",{type:"button",onClick:()=>{b(null),R.info("Dosya seçimi iptal edildi")},className:"text-red-400 hover:text-red-300",children:"❌"})]})}),r.jsx("button",{type:"submit",disabled:k.isPending||!g,className:"px-6 py-2 bg-green-600 hover:bg-green-700 rounded-lg font-medium md:col-span-2 disabled:opacity-50 flex items-center justify-center gap-2",children:k.isPending?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),r.jsx("span",{children:"Yükleniyor..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(Xn,{}),r.jsx("span",{children:"Dosya Yükle"})]})})]}),r.jsxs("div",{className:"mt-4 p-3 bg-blue-900/30 border border-blue-700 rounded-lg text-sm text-blue-300",children:[r.jsx("strong",{children:"💡 İpucu:"})," ",m==="url"?"Altyazıları yukarıdaki torrent aramadan bulabilir, indirip bir yere yükledikten sonra URL'ini buraya girebilirsiniz.":"Desteklenen formatlar: .srt, .ass, .vtt, .7z, .zip - Dosyalar sunucuya yüklenecek."]})]})]}),e==="anime"&&r.jsxs("div",{className:"space-y-6",children:[r.jsxs("div",{className:"bg-gray-800 p-6 rounded-lg",children:[r.jsxs("h2",{className:"text-xl font-semibold mb-4 flex items-center gap-2",children:[r.jsx("span",{children:"🔍"}),r.jsx("span",{children:"Anilist'ten Anime Ara"})]}),r.jsxs("form",{onSubmit:y=>{y.preventDefault();const z=new FormData(y.target).get("query");s(z),C.mutate(z)},className:"flex gap-4",children:[r.jsx("input",{type:"text",name:"query",value:n,onChange:y=>s(y.target.value),placeholder:"Anime adı ara... (örn: Frieren, One Piece)",className:"flex-1 px-4 py-2 bg-gray-700 border border-gray-600 rounded-lg focus:outline-none focus:border-blue-500 text-white",required:!0}),r.jsx("button",{type:"submit",disabled:C.isPending,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium disabled:opacity-50 flex items-center gap-2",children:C.isPending?r.jsxs(r.Fragment,{children:[r.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-2 border-white border-t-transparent"}),r.jsx("span",{children:"Aranıyor..."})]}):r.jsxs(r.Fragment,{children:[r.jsx(ur,{}),r.jsx("span",{children:"Ara"})]})})]}),C.data?.data?.data&&r.jsxs("div",{className:"mt-6 space-y-4",children:[r.jsxs("h3",{className:"text-lg font-semibold text-green-400",children:["Sonuçlar (",C.data.data.data.length,")"]}),r.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 max-h-[600px] overflow-y-auto",children:C.data.data.data.map(y=>r.jsxs("div",{className:"bg-gray-700 rounded-lg overflow-hidden hover:bg-gray-650 transition-all cursor-pointer",onClick:()=>i(y),children:[r.jsxs("div",{className:"relative aspect-[3/4]",children:[r.jsx("img",{src:y.coverImage?.extraLarge||y.coverImage?.large,alt:y.title?.romaji||y.title?.english,className:"w-full h-full object-cover"}),y.status&&r.jsx("span",{className:"absolute top-2 right-2 px-2 py-1 bg-blue-600 text-xs rounded",children:y.status})]}),r.jsxs("div",{className:"p-3",children:[r.jsx("h4",{className:"font-semibold text-white line-clamp-2 mb-1",children:y.title?.romaji||y.title?.english}),y.title?.english&&y.title.english!==y.title.romaji&&r.jsx("p",{className:"text-xs text-gray-400 line-clamp-1 mb-2",children:y.title.english}),r.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-400",children:[r.jsxs("span",{children:["🎬 ",y.format||"N/A"]}),r.jsxs("span",{children:["📺 ",y.episodes||"?"," eps"]})]}),r.jsx("div",{className:"mt-2",children:r.jsxs("span",{className:"text-xs text-blue-400",children:["ID: ",y.id]})})]})]},y.id))})]}),a&&r.jsx("div",{className:"fixed inset-0 bg-black/80 flex items-center justify-center p-4 z-50",onClick:()=>i(null),children:r.jsx("div",{className:"bg-gray-800 rounded-lg max-w-2xl w-full max-h-[90vh] overflow-y-auto",onClick:y=>y.stopPropagation(),children:r.jsxs("div",{className:"p-6",children:[r.jsxs("div",{className:"flex gap-6",children:[r.jsx("img",{src:a.coverImage?.extraLarge||a.coverImage?.large,alt:a.title?.romaji,className:"w-48 h-64 object-cover rounded-lg"}),r.jsxs("div",{className:"flex-1",children:[r.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:a.title?.romaji}),a.title?.english&&r.jsx("p",{className:"text-gray-400 mb-3",children:a.title?.english}),r.jsxs("div",{className:"space-y-2 text-sm",children:[r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-gray-400",children:"Anilist ID:"}),r.jsx("span",{className:"text-blue-400 font-mono",children:a.id})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-gray-400",children:"Format:"}),r.jsx("span",{className:"text-white",children:a.format||"N/A"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-gray-400",children:"Durum:"}),r.jsx("span",{className:"text-white",children:a.status||"N/A"})]}),r.jsxs("div",{className:"flex gap-2",children:[r.jsx("span",{className:"text-gray-400",children:"Bölümler:"}),r.jsx("span",{className:"text-white",children:a.episodes||"Bilinmiyor"})]})]})]})]}),r.jsxs("div",{className:"mt-6 flex gap-3",children:[r.jsx("button",{onClick:()=>{navigator.clipboard.writeText(a.id.toString()),R.success("Anime ID kopyalandı!")},className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg font-medium",children:"📋 ID'yi Kopyala"}),r.jsx("button",{onClick:()=>i(null),className:"px-4 py-2 bg-gray-700 hover:bg-gray-600 rounded-lg font-medium",children:"Kapat"})]}),r.jsxs("div",{className:"mt-4 p-3 bg-yellow-900/30 border border-yellow-700 rounded-lg text-sm text-yellow-300",children:[r.jsx("strong",{children:"💡 Bilgi:"})," Bu ID'yi 4K bölüm veya altyazı eklerken kullanabilirsiniz."]})]})})})]}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-gradient-to-br from-blue-900/50 to-blue-800/30 p-6 rounded-lg border border-blue-700",children:[r.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[r.jsx("span",{children:"🚀"}),r.jsx("span",{children:"Hızlı İşlemler"})]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[r.jsx("p",{children:"• Anime ara ve ID'sini öğren"}),r.jsx("p",{children:"• 4K bölüm eklemek için kullan"}),r.jsx("p",{children:"• Altyazı eklemek için kullan"})]})]}),r.jsxs("div",{className:"bg-gradient-to-br from-purple-900/50 to-purple-800/30 p-6 rounded-lg border border-purple-700",children:[r.jsxs("h3",{className:"text-xl font-semibold mb-3 flex items-center gap-2",children:[r.jsx("span",{children:"📚"}),r.jsx("span",{children:"Kullanım Kılavuzu"})]}),r.jsxs("div",{className:"space-y-2 text-sm text-gray-300",children:[r.jsx("p",{children:"1. Anime adını ara"}),r.jsx("p",{children:"2. Doğru anime'ye tıkla"}),r.jsx("p",{children:"3. Anilist ID'yi kopyala"}),r.jsx("p",{children:"4. Diğer sekmelerde kullan"})]})]})]})]})]})]})})},rm="/zenshin",nm=ki([{element:r.jsx(ls,{}),errorElement:r.jsx(ls,{props:r.jsx(Ae,{})}),children:[{path:"/",element:r.jsx(gu,{}),errorElement:r.jsx(Ae,{})},{path:"/anime/:animeId",element:r.jsx(Tu,{}),errorElement:r.jsx(Ae,{})},{path:"/player/:magnetId/:animeId?/:priorProgress?/:currentEpisodeNum?",element:r.jsx(Ru,{}),errorElement:r.jsx(Ae,{})},{path:"/newreleases",element:r.jsx(Mu,{}),errorElement:r.jsx(Ae,{})},{path:"/browse",element:r.jsx(Vu,{}),errorElement:r.jsx(Ae,{})},{path:"/downloads",element:r.jsx(Xu,{}),errorElement:r.jsx(Ae,{})},{path:"/login",element:r.jsx(Wu,{}),errorElement:r.jsx(Ae,{})},{path:"/register",element:r.jsx(Ku,{}),errorElement:r.jsx(Ae,{})},{path:"/profile",element:r.jsx(qu,{}),errorElement:r.jsx(Ae,{})},{path:"/edit-profile",element:r.jsx(Ju,{children:r.jsx(Gu,{})}),errorElement:r.jsx(Ae,{})},{path:"/anilistauthcallback",element:r.jsx(Qu,{}),errorElement:r.jsx(Ae,{})},{path:"/admin",element:r.jsx(Zu,{children:r.jsx(tm,{})}),errorElement:r.jsx(Ae,{})}]}],{basename:rm});function sm(){const e=new Ri({defaultOptions:{queries:{staleTime:3e5,cacheTime:6e5,refetchOnWindowFocus:!1,retry:1}}});return r.jsx(_i,{client:e,children:r.jsx(Ni,{router:nm})})}const Y=e=>typeof e=="string",Rt=()=>{let e,t;const n=new Promise((s,a)=>{e=s,t=a});return n.resolve=e,n.reject=t,n},Is=e=>e==null?"":""+e,am=(e,t,n)=>{e.forEach(s=>{t[s]&&(n[s]=t[s])})},im=/###/g,Ms=e=>e&&e.indexOf("###")>-1?e.replace(im,"."):e,$s=e=>!e||Y(e),Ht=(e,t,n)=>{const s=Y(t)?t.split("."):t;let a=0;for(;a<s.length-1;){if($s(e))return{};const i=Ms(s[a]);!e[i]&&n&&(e[i]=new n),Object.prototype.hasOwnProperty.call(e,i)?e=e[i]:e={},++a}return $s(e)?{}:{obj:e,k:Ms(s[a])}},zs=(e,t,n)=>{const{obj:s,k:a}=Ht(e,t,Object);if(s!==void 0||t.length===1){s[a]=n;return}let i=t[t.length-1],o=t.slice(0,t.length-1),l=Ht(e,o,Object);for(;l.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),l=Ht(e,o,Object),l?.obj&&typeof l.obj[`${l.k}.${i}`]<"u"&&(l.obj=void 0);l.obj[`${l.k}.${i}`]=n},om=(e,t,n,s)=>{const{obj:a,k:i}=Ht(e,t,Object);a[i]=a[i]||[],a[i].push(n)},Nr=(e,t)=>{const{obj:n,k:s}=Ht(e,t);if(n&&Object.prototype.hasOwnProperty.call(n,s))return n[s]},lm=(e,t,n)=>{const s=Nr(e,n);return s!==void 0?s:Nr(t,n)},Qa=(e,t,n)=>{for(const s in t)s!=="__proto__"&&s!=="constructor"&&(s in e?Y(e[s])||e[s]instanceof String||Y(t[s])||t[s]instanceof String?n&&(e[s]=t[s]):Qa(e[s],t[s],n):e[s]=t[s]);return e},vt=e=>e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var cm={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const dm=e=>Y(e)?e.replace(/[&<>"'\/]/g,t=>cm[t]):e;class um{constructor(t){this.capacity=t,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(t){const n=this.regExpMap.get(t);if(n!==void 0)return n;const s=new RegExp(t);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(t,s),this.regExpQueue.push(t),s}}const mm=[" ",",","?","!",";"],hm=new um(20),pm=(e,t,n)=>{t=t||"",n=n||"";const s=mm.filter(o=>t.indexOf(o)<0&&n.indexOf(o)<0);if(s.length===0)return!0;const a=hm.getRegExp(`(${s.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(e);if(!i){const o=e.indexOf(n);o>0&&!a.test(e.substring(0,o))&&(i=!0)}return i},Pn=(e,t,n=".")=>{if(!e)return;if(e[t])return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0;const s=t.split(n);let a=e;for(let i=0;i<s.length;){if(!a||typeof a!="object")return;let o,l="";for(let c=i;c<s.length;++c)if(c!==i&&(l+=n),l+=s[c],o=a[l],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&c<s.length-1)continue;i+=c-i+1;break}a=o}return a},Wt=e=>e?.replace("_","-"),fm={type:"logger",log(e){this.output("log",e)},warn(e){this.output("warn",e)},error(e){this.output("error",e)},output(e,t){console?.[e]?.apply?.(console,t)}};class Er{constructor(t,n={}){this.init(t,n)}init(t,n={}){this.prefix=n.prefix||"i18next:",this.logger=t||fm,this.options=n,this.debug=n.debug}log(...t){return this.forward(t,"log","",!0)}warn(...t){return this.forward(t,"warn","",!0)}error(...t){return this.forward(t,"error","")}deprecate(...t){return this.forward(t,"warn","WARNING DEPRECATED: ",!0)}forward(t,n,s,a){return a&&!this.debug?null:(Y(t[0])&&(t[0]=`${s}${this.prefix} ${t[0]}`),this.logger[n](t))}create(t){return new Er(this.logger,{prefix:`${this.prefix}:${t}:`,...this.options})}clone(t){return t=t||this.options,t.prefix=t.prefix||this.prefix,new Er(this.logger,t)}}var Xe=new Er;class Vr{constructor(){this.observers={}}on(t,n){return t.split(" ").forEach(s=>{this.observers[s]||(this.observers[s]=new Map);const a=this.observers[s].get(n)||0;this.observers[s].set(n,a+1)}),this}off(t,n){if(this.observers[t]){if(!n){delete this.observers[t];return}this.observers[t].delete(n)}}emit(t,...n){this.observers[t]&&Array.from(this.observers[t].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a.apply(a,[t,...n])})}}class Fs extends Vr{constructor(t,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=t||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(t){this.options.ns.indexOf(t)<0&&this.options.ns.push(t)}removeNamespaces(t){const n=this.options.ns.indexOf(t);n>-1&&this.options.ns.splice(n,1)}getResource(t,n,s,a={}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let l;t.indexOf(".")>-1?l=t.split("."):(l=[t,n],s&&(Array.isArray(s)?l.push(...s):Y(s)&&i?l.push(...s.split(i)):l.push(s)));const c=Nr(this.data,l);return!c&&!n&&!s&&t.indexOf(".")>-1&&(t=l[0],n=l[1],s=l.slice(2).join(".")),c||!o||!Y(s)?c:Pn(this.data?.[t]?.[n],s,i)}addResource(t,n,s,a,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let l=[t,n];s&&(l=l.concat(o?s.split(o):s)),t.indexOf(".")>-1&&(l=t.split("."),a=n,n=l[1]),this.addNamespaces(n),zs(this.data,l,a),i.silent||this.emit("added",t,n,s,a)}addResources(t,n,s,a={silent:!1}){for(const i in s)(Y(s[i])||Array.isArray(s[i]))&&this.addResource(t,n,i,s[i],{silent:!0});a.silent||this.emit("added",t,n,s)}addResourceBundle(t,n,s,a,i,o={silent:!1,skipCopy:!1}){let l=[t,n];t.indexOf(".")>-1&&(l=t.split("."),a=s,s=n,n=l[1]),this.addNamespaces(n);let c=Nr(this.data,l)||{};o.skipCopy||(s=JSON.parse(JSON.stringify(s))),a?Qa(c,s,i):c={...c,...s},zs(this.data,l,c),o.silent||this.emit("added",t,n,s)}removeResourceBundle(t,n){this.hasResourceBundle(t,n)&&delete this.data[t][n],this.removeNamespaces(n),this.emit("removed",t,n)}hasResourceBundle(t,n){return this.getResource(t,n)!==void 0}getResourceBundle(t,n){return n||(n=this.options.defaultNS),this.getResource(t,n)}getDataByLanguage(t){return this.data[t]}hasLanguageSomeTranslations(t){const n=this.getDataByLanguage(t);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var Ja={processors:{},addPostProcessor(e){this.processors[e.name]=e},handle(e,t,n,s,a){return e.forEach(i=>{t=this.processors[i]?.process(t,n,s,a)??t}),t}};const Za=Symbol("i18next/PATH_KEY");function gm(){const e=[],t=Object.create(null);let n;return t.get=(s,a)=>(n?.revoke?.(),a===Za?e:(e.push(a),n=Proxy.revocable(s,t),n.proxy)),Proxy.revocable(Object.create(null),t).proxy}function Tn(e,t){const{[Za]:n}=e(gm());return n.join(t?.keySeparator??".")}const Us={},Hs=e=>!Y(e)&&typeof e!="boolean"&&typeof e!="number";class Pr extends Vr{constructor(t,n={}){super(),am(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],t,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Xe.create("translator")}changeLanguage(t){t&&(this.language=t)}exists(t,n={interpolation:{}}){const s={...n};return t==null?!1:this.resolve(t,s)?.res!==void 0}extractFromKey(t,n){let s=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;s===void 0&&(s=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let i=n.ns||this.options.defaultNS||[];const o=s&&t.indexOf(s)>-1,l=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!pm(t,s,a);if(o&&!l){const c=t.match(this.interpolator.nestingRegexp);if(c&&c.length>0)return{key:t,namespaces:Y(i)?[i]:i};const d=t.split(s);(s!==a||s===a&&this.options.ns.indexOf(d[0])>-1)&&(i=d.shift()),t=d.join(a)}return{key:t,namespaces:Y(i)?[i]:i}}translate(t,n,s){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),t==null)return"";typeof t=="function"&&(t=Tn(t,{...this.options,...a})),Array.isArray(t)||(t=[String(t)]);const i=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:l,namespaces:c}=this.extractFromKey(t[t.length-1],a),d=c[c.length-1];let u=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;u===void 0&&(u=":");const h=a.lng||this.language,m=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(h?.toLowerCase()==="cimode")return m?i?{res:`${d}${u}${l}`,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(a)}:`${d}${u}${l}`:i?{res:l,usedKey:l,exactUsedKey:l,usedLng:h,usedNS:d,usedParams:this.getUsedParamsDetails(a)}:l;const p=this.resolve(t,a);let g=p?.res;const b=p?.usedKey||l,P=p?.exactUsedKey||l,D=["[object Number]","[object Function]","[object RegExp]"],S=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,N=!this.i18nFormat||this.i18nFormat.handleAsObject,T=a.count!==void 0&&!Y(a.count),v=Pr.hasDefaultValue(a),j=T?this.pluralResolver.getSuffix(h,a.count,a):"",L=a.ordinal&&T?this.pluralResolver.getSuffix(h,a.count,{ordinal:!1}):"",$=T&&!a.ordinal&&a.count===0,O=$&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${j}`]||a[`defaultValue${L}`]||a.defaultValue;let A=g;N&&!g&&v&&(A=O);const W=Hs(A),Z=Object.prototype.toString.apply(A);if(N&&A&&W&&D.indexOf(Z)<0&&!(Y(S)&&Array.isArray(A))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const C=this.options.returnedObjectHandler?this.options.returnedObjectHandler(b,A,{...a,ns:c}):`key '${l} (${this.language})' returned an object instead of string.`;return i?(p.res=C,p.usedParams=this.getUsedParamsDetails(a),p):C}if(o){const C=Array.isArray(A),E=C?[]:{},U=C?P:b;for(const _ in A)if(Object.prototype.hasOwnProperty.call(A,_)){const k=`${U}${o}${_}`;v&&!g?E[_]=this.translate(k,{...a,defaultValue:Hs(O)?O[_]:void 0,joinArrays:!1,ns:c}):E[_]=this.translate(k,{...a,joinArrays:!1,ns:c}),E[_]===k&&(E[_]=A[_])}g=E}}else if(N&&Y(S)&&Array.isArray(g))g=g.join(S),g&&(g=this.extendTranslation(g,t,a,s));else{let C=!1,E=!1;!this.isValidLookup(g)&&v&&(C=!0,g=O),this.isValidLookup(g)||(E=!0,g=l);const _=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&E?void 0:g,k=v&&O!==g&&this.options.updateMissing;if(E||C||k){if(this.logger.log(k?"updateKey":"missingKey",h,d,l,k?O:g),o){const x=this.resolve(l,{...a,keySeparator:!1});x&&x.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let I=[];const B=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&B&&B[0])for(let x=0;x<B.length;x++)I.push(B[x]);else this.options.saveMissingTo==="all"?I=this.languageUtils.toResolveHierarchy(a.lng||this.language):I.push(a.lng||this.language);const y=(x,z,H)=>{const ae=v&&H!==g?H:_;this.options.missingKeyHandler?this.options.missingKeyHandler(x,d,z,ae,k,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(x,d,z,ae,k,a),this.emit("missingKey",x,d,z,g)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?I.forEach(x=>{const z=this.pluralResolver.getSuffixes(x,a);$&&a[`defaultValue${this.options.pluralSeparator}zero`]&&z.indexOf(`${this.options.pluralSeparator}zero`)<0&&z.push(`${this.options.pluralSeparator}zero`),z.forEach(H=>{y([x],l+H,a[`defaultValue${H}`]||O)})}):y(I,l,O))}g=this.extendTranslation(g,t,a,p,s),E&&g===l&&this.options.appendNamespaceToMissingKey&&(g=`${d}${u}${l}`),(E||C)&&this.options.parseMissingKeyHandler&&(g=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${d}${u}${l}`:l,C?g:void 0,a))}return i?(p.res=g,p.usedParams=this.getUsedParamsDetails(a),p):g}extendTranslation(t,n,s,a,i){if(this.i18nFormat?.parse)t=this.i18nFormat.parse(t,{...this.options.interpolation.defaultVariables,...s},s.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!s.skipInterpolation){s.interpolation&&this.interpolator.init({...s,interpolation:{...this.options.interpolation,...s.interpolation}});const c=Y(t)&&(s?.interpolation?.skipOnVariables!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let d;if(c){const h=t.match(this.interpolator.nestingRegexp);d=h&&h.length}let u=s.replace&&!Y(s.replace)?s.replace:s;if(this.options.interpolation.defaultVariables&&(u={...this.options.interpolation.defaultVariables,...u}),t=this.interpolator.interpolate(t,u,s.lng||this.language||a.usedLng,s),c){const h=t.match(this.interpolator.nestingRegexp),m=h&&h.length;d<m&&(s.nest=!1)}!s.lng&&a&&a.res&&(s.lng=this.language||a.usedLng),s.nest!==!1&&(t=this.interpolator.nest(t,(...h)=>i?.[0]===h[0]&&!s.context?(this.logger.warn(`It seems you are nesting recursively key: ${h[0]} in key: ${n[0]}`),null):this.translate(...h,n),s)),s.interpolation&&this.interpolator.reset()}const o=s.postProcess||this.options.postProcess,l=Y(o)?[o]:o;return t!=null&&l?.length&&s.applyPostProcessor!==!1&&(t=Ja.handle(l,t,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(s)},...s}:s,this)),t}resolve(t,n={}){let s,a,i,o,l;return Y(t)&&(t=[t]),t.forEach(c=>{if(this.isValidLookup(s))return;const d=this.extractFromKey(c,n),u=d.key;a=u;let h=d.namespaces;this.options.fallbackNS&&(h=h.concat(this.options.fallbackNS));const m=n.count!==void 0&&!Y(n.count),p=m&&!n.ordinal&&n.count===0,g=n.context!==void 0&&(Y(n.context)||typeof n.context=="number")&&n.context!=="",b=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);h.forEach(P=>{this.isValidLookup(s)||(l=P,!Us[`${b[0]}-${P}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(l)&&(Us[`${b[0]}-${P}`]=!0,this.logger.warn(`key "${a}" for languages "${b.join(", ")}" won't get resolved as namespace "${l}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),b.forEach(D=>{if(this.isValidLookup(s))return;o=D;const S=[u];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(S,u,D,P,n);else{let T;m&&(T=this.pluralResolver.getSuffix(D,n.count,n));const v=`${this.options.pluralSeparator}zero`,j=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(m&&(n.ordinal&&T.indexOf(j)===0&&S.push(u+T.replace(j,this.options.pluralSeparator)),S.push(u+T),p&&S.push(u+v)),g){const L=`${u}${this.options.contextSeparator||"_"}${n.context}`;S.push(L),m&&(n.ordinal&&T.indexOf(j)===0&&S.push(L+T.replace(j,this.options.pluralSeparator)),S.push(L+T),p&&S.push(L+v))}}let N;for(;N=S.pop();)this.isValidLookup(s)||(i=N,s=this.getResource(D,P,N,n))}))})}),{res:s,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:l}}isValidLookup(t){return t!==void 0&&!(!this.options.returnNull&&t===null)&&!(!this.options.returnEmptyString&&t==="")}getResource(t,n,s,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(t,n,s,a):this.resourceStore.getResource(t,n,s,a)}getUsedParamsDetails(t={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],s=t.replace&&!Y(t.replace);let a=s?t.replace:t;if(s&&typeof t.count<"u"&&(a.count=t.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!s){a={...a};for(const i of n)delete a[i]}return a}static hasDefaultValue(t){const n="defaultValue";for(const s in t)if(Object.prototype.hasOwnProperty.call(t,s)&&n===s.substring(0,n.length)&&t[s]!==void 0)return!0;return!1}}class Bs{constructor(t){this.options=t,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Xe.create("languageUtils")}getScriptPartFromCode(t){if(t=Wt(t),!t||t.indexOf("-")<0)return null;const n=t.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(t){if(t=Wt(t),!t||t.indexOf("-")<0)return t;const n=t.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(t){if(Y(t)&&t.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(t)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?t.toLowerCase():t)}return this.options.cleanCode||this.options.lowerCaseLng?t.toLowerCase():t}isSupportedCode(t){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(t=this.getLanguagePartFromCode(t)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(t)>-1}getBestMatchFromCodes(t){if(!t)return null;let n;return t.forEach(s=>{if(n)return;const a=this.formatLanguageCode(s);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&t.forEach(s=>{if(n)return;const a=this.getScriptPartFromCode(s);if(this.isSupportedCode(a))return n=a;const i=this.getLanguagePartFromCode(s);if(this.isSupportedCode(i))return n=i;n=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(t,n){if(!t)return[];if(typeof t=="function"&&(t=t(n)),Y(t)&&(t=[t]),Array.isArray(t))return t;if(!n)return t.default||[];let s=t[n];return s||(s=t[this.getScriptPartFromCode(n)]),s||(s=t[this.formatLanguageCode(n)]),s||(s=t[this.getLanguagePartFromCode(n)]),s||(s=t.default),s||[]}toResolveHierarchy(t,n){const s=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],t),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return Y(t)&&(t.indexOf("-")>-1||t.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(t)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(t)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(t))):Y(t)&&i(this.formatLanguageCode(t)),s.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}const Vs={zero:0,one:1,two:2,few:3,many:4,other:5},Ws={select:e=>e===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class ym{constructor(t,n={}){this.languageUtils=t,this.options=n,this.logger=Xe.create("pluralResolver"),this.pluralRulesCache={}}addRule(t,n){this.rules[t]=n}clearCache(){this.pluralRulesCache={}}getRule(t,n={}){const s=Wt(t==="dev"?"en":t),a=n.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:s,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(s,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),Ws;if(!t.match(/-|_/))return Ws;const c=this.languageUtils.getLanguagePartFromCode(t);o=this.getRule(c,n)}return this.pluralRulesCache[i]=o,o}needsPlural(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),s?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(t,n,s={}){return this.getSuffixes(t,s).map(a=>`${n}${a}`)}getSuffixes(t,n={}){let s=this.getRule(t,n);return s||(s=this.getRule("dev",n)),s?s.resolvedOptions().pluralCategories.sort((a,i)=>Vs[a]-Vs[i]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(t,n,s={}){const a=this.getRule(t,s);return a?`${this.options.prepend}${s.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${t}`),this.getSuffix("dev",n,s))}}const Ks=(e,t,n,s=".",a=!0)=>{let i=lm(e,t,n);return!i&&a&&Y(n)&&(i=Pn(e,n,s),i===void 0&&(i=Pn(t,n,s))),i},an=e=>e.replace(/\$/g,"$$$$");class xm{constructor(t={}){this.logger=Xe.create("interpolator"),this.options=t,this.format=t?.interpolation?.format||(n=>n),this.init(t)}init(t={}){t.interpolation||(t.interpolation={escapeValue:!0});const{escape:n,escapeValue:s,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:l,suffixEscaped:c,formatSeparator:d,unescapeSuffix:u,unescapePrefix:h,nestingPrefix:m,nestingPrefixEscaped:p,nestingSuffix:g,nestingSuffixEscaped:b,nestingOptionsSeparator:P,maxReplaces:D,alwaysFormat:S}=t.interpolation;this.escape=n!==void 0?n:dm,this.escapeValue=s!==void 0?s:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?vt(i):o||"{{",this.suffix=l?vt(l):c||"}}",this.formatSeparator=d||",",this.unescapePrefix=u?"":h||"-",this.unescapeSuffix=this.unescapePrefix?"":u||"",this.nestingPrefix=m?vt(m):p||vt("$t("),this.nestingSuffix=g?vt(g):b||vt(")"),this.nestingOptionsSeparator=P||",",this.maxReplaces=D||1e3,this.alwaysFormat=S!==void 0?S:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const t=(n,s)=>n?.source===s?(n.lastIndex=0,n):new RegExp(s,"g");this.regexp=t(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=t(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=t(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(t,n,s,a){let i,o,l;const c=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},d=p=>{if(p.indexOf(this.formatSeparator)<0){const D=Ks(n,c,p,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(D,void 0,s,{...a,...n,interpolationkey:p}):D}const g=p.split(this.formatSeparator),b=g.shift().trim(),P=g.join(this.formatSeparator).trim();return this.format(Ks(n,c,b,this.options.keySeparator,this.options.ignoreJSONStructure),P,s,{...a,...n,interpolationkey:b})};this.resetRegExp();const u=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,h=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:p=>an(p)},{regex:this.regexp,safeValue:p=>this.escapeValue?an(this.escape(p)):an(p)}].forEach(p=>{for(l=0;i=p.regex.exec(t);){const g=i[1].trim();if(o=d(g),o===void 0)if(typeof u=="function"){const P=u(t,i,a);o=Y(P)?P:""}else if(a&&Object.prototype.hasOwnProperty.call(a,g))o="";else if(h){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${g} for interpolating ${t}`),o="";else!Y(o)&&!this.useRawValueToEscape&&(o=Is(o));const b=p.safeValue(o);if(t=t.replace(i[0],b),h?(p.regex.lastIndex+=o.length,p.regex.lastIndex-=i[0].length):p.regex.lastIndex=0,l++,l>=this.maxReplaces)break}}),t}nest(t,n,s={}){let a,i,o;const l=(c,d)=>{const u=this.nestingOptionsSeparator;if(c.indexOf(u)<0)return c;const h=c.split(new RegExp(`${u}[ ]*{`));let m=`{${h[1]}`;c=h[0],m=this.interpolate(m,o);const p=m.match(/'/g),g=m.match(/"/g);((p?.length??0)%2===0&&!g||g.length%2!==0)&&(m=m.replace(/'/g,'"'));try{o=JSON.parse(m),d&&(o={...d,...o})}catch(b){return this.logger.warn(`failed parsing options string in nesting for key ${c}`,b),`${c}${u}${m}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,c};for(;a=this.nestingRegexp.exec(t);){let c=[];o={...s},o=o.replace&&!Y(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const d=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(d!==-1&&(c=a[1].slice(d).split(this.formatSeparator).map(u=>u.trim()).filter(Boolean),a[1]=a[1].slice(0,d)),i=n(l.call(this,a[1].trim(),o),o),i&&a[0]===t&&!Y(i))return i;Y(i)||(i=Is(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${t}`),i=""),c.length&&(i=c.reduce((u,h)=>this.format(u,h,s.lng,{...s,interpolationkey:a[1].trim()}),i.trim())),t=t.replace(a[0],i),this.regexp.lastIndex=0}return t}}const vm=e=>{let t=e.toLowerCase().trim();const n={};if(e.indexOf("(")>-1){const s=e.split("(");t=s[0].toLowerCase().trim();const a=s[1].substring(0,s[1].length-1);t==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):t==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(o=>{if(o){const[l,...c]=o.split(":"),d=c.join(":").trim().replace(/^'+|'+$/g,""),u=l.trim();n[u]||(n[u]=d),d==="false"&&(n[u]=!1),d==="true"&&(n[u]=!0),isNaN(d)||(n[u]=parseInt(d,10))}})}return{formatName:t,formatOptions:n}},Ys=e=>{const t={};return(n,s,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=s+JSON.stringify(i);let l=t[o];return l||(l=e(Wt(s),a),t[o]=l),l(n)}},bm=e=>(t,n,s)=>e(Wt(n),s)(t);class wm{constructor(t={}){this.logger=Xe.create("formatter"),this.options=t,this.init(t)}init(t,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const s=n.cacheInBuiltFormats?Ys:bm;this.formats={number:s((a,i)=>{const o=new Intl.NumberFormat(a,{...i});return l=>o.format(l)}),currency:s((a,i)=>{const o=new Intl.NumberFormat(a,{...i,style:"currency"});return l=>o.format(l)}),datetime:s((a,i)=>{const o=new Intl.DateTimeFormat(a,{...i});return l=>o.format(l)}),relativetime:s((a,i)=>{const o=new Intl.RelativeTimeFormat(a,{...i});return l=>o.format(l,i.range||"day")}),list:s((a,i)=>{const o=new Intl.ListFormat(a,{...i});return l=>o.format(l)})}}add(t,n){this.formats[t.toLowerCase().trim()]=n}addCached(t,n){this.formats[t.toLowerCase().trim()]=Ys(n)}format(t,n,s,a={}){const i=n.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(l=>l.indexOf(")")>-1)){const l=i.findIndex(c=>c.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,l)].join(this.formatSeparator)}return i.reduce((l,c)=>{const{formatName:d,formatOptions:u}=vm(c);if(this.formats[d]){let h=l;try{const m=a?.formatParams?.[a.interpolationkey]||{},p=m.locale||m.lng||a.locale||a.lng||s;h=this.formats[d](l,p,{...u,...a,...m})}catch(m){this.logger.warn(m)}return h}else this.logger.warn(`there was no format function for ${d}`);return l},t)}}const Sm=(e,t)=>{e.pending[t]!==void 0&&(delete e.pending[t],e.pendingCount--)};class jm extends Vr{constructor(t,n,s,a={}){super(),this.backend=t,this.store=n,this.services=s,this.languageUtils=s.languageUtils,this.options=a,this.logger=Xe.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(s,a.backend,a)}queueLoad(t,n,s,a){const i={},o={},l={},c={};return t.forEach(d=>{let u=!0;n.forEach(h=>{const m=`${d}|${h}`;!s.reload&&this.store.hasResourceBundle(d,h)?this.state[m]=2:this.state[m]<0||(this.state[m]===1?o[m]===void 0&&(o[m]=!0):(this.state[m]=1,u=!1,o[m]===void 0&&(o[m]=!0),i[m]===void 0&&(i[m]=!0),c[h]===void 0&&(c[h]=!0)))}),u||(l[d]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(l),toLoadNamespaces:Object.keys(c)}}loaded(t,n,s){const a=t.split("|"),i=a[0],o=a[1];n&&this.emit("failedLoading",i,o,n),!n&&s&&this.store.addResourceBundle(i,o,s,void 0,void 0,{skipCopy:!0}),this.state[t]=n?-1:2,n&&s&&(this.state[t]=0);const l={};this.queue.forEach(c=>{om(c.loaded,[i],o),Sm(c,t),n&&c.errors.push(n),c.pendingCount===0&&!c.done&&(Object.keys(c.loaded).forEach(d=>{l[d]||(l[d]={});const u=c.loaded[d];u.length&&u.forEach(h=>{l[d][h]===void 0&&(l[d][h]=!0)})}),c.done=!0,c.errors.length?c.callback(c.errors):c.callback())}),this.emit("loaded",l),this.queue=this.queue.filter(c=>!c.done)}read(t,n,s,a=0,i=this.retryTimeout,o){if(!t.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:t,ns:n,fcName:s,tried:a,wait:i,callback:o});return}this.readingCalls++;const l=(d,u)=>{if(this.readingCalls--,this.waitingReads.length>0){const h=this.waitingReads.shift();this.read(h.lng,h.ns,h.fcName,h.tried,h.wait,h.callback)}if(d&&u&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,t,n,s,a+1,i*2,o)},i);return}o(d,u)},c=this.backend[s].bind(this.backend);if(c.length===2){try{const d=c(t,n);d&&typeof d.then=="function"?d.then(u=>l(null,u)).catch(l):l(null,d)}catch(d){l(d)}return}return c(t,n,l)}prepareLoading(t,n,s={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();Y(t)&&(t=this.languageUtils.toResolveHierarchy(t)),Y(n)&&(n=[n]);const i=this.queueLoad(t,n,s,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(t,n,s){this.prepareLoading(t,n,{},s)}reload(t,n,s){this.prepareLoading(t,n,{reload:!0},s)}loadOne(t,n=""){const s=t.split("|"),a=s[0],i=s[1];this.read(a,i,"read",void 0,void 0,(o,l)=>{o&&this.logger.warn(`${n}loading namespace ${i} for language ${a} failed`,o),!o&&l&&this.logger.log(`${n}loaded namespace ${i} for language ${a}`,l),this.loaded(t,o,l)})}saveMissing(t,n,s,a,i,o={},l=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${s}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(s==null||s==="")){if(this.backend?.create){const c={...o,isUpdate:i},d=this.backend.create.bind(this.backend);if(d.length<6)try{let u;d.length===5?u=d(t,n,s,a,c):u=d(t,n,s,a),u&&typeof u.then=="function"?u.then(h=>l(null,h)).catch(l):l(null,u)}catch(u){l(u)}else d(t,n,s,a,l,c)}!t||!t[0]||this.store.addResource(t[0],n,s,a)}}}const qs=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:e=>{let t={};if(typeof e[1]=="object"&&(t=e[1]),Y(e[1])&&(t.defaultValue=e[1]),Y(e[2])&&(t.tDescription=e[2]),typeof e[2]=="object"||typeof e[3]=="object"){const n=e[3]||e[2];Object.keys(n).forEach(s=>{t[s]=n[s]})}return t},interpolation:{escapeValue:!0,format:e=>e,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Gs=e=>(Y(e.ns)&&(e.ns=[e.ns]),Y(e.fallbackLng)&&(e.fallbackLng=[e.fallbackLng]),Y(e.fallbackNS)&&(e.fallbackNS=[e.fallbackNS]),e.supportedLngs?.indexOf?.("cimode")<0&&(e.supportedLngs=e.supportedLngs.concat(["cimode"])),typeof e.initImmediate=="boolean"&&(e.initAsync=e.initImmediate),e),dr=()=>{},km=e=>{Object.getOwnPropertyNames(Object.getPrototypeOf(e)).forEach(n=>{typeof e[n]=="function"&&(e[n]=e[n].bind(e))})};class Kt extends Vr{constructor(t={},n){if(super(),this.options=Gs(t),this.services={},this.logger=Xe,this.modules={external:[]},km(this),n&&!this.isInitialized&&!t.isClone){if(!this.options.initAsync)return this.init(t,n),this;setTimeout(()=>{this.init(t,n)},0)}}init(t={},n){this.isInitializing=!0,typeof t=="function"&&(n=t,t={}),t.defaultNS==null&&t.ns&&(Y(t.ns)?t.defaultNS=t.ns:t.ns.indexOf("translation")<0&&(t.defaultNS=t.ns[0]));const s=qs();this.options={...s,...this.options,...Gs(t)},this.options.interpolation={...s.interpolation,...this.options.interpolation},t.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=t.keySeparator),t.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=t.nsSeparator);const a=d=>d?typeof d=="function"?new d:d:null;if(!this.options.isClone){this.modules.logger?Xe.init(a(this.modules.logger),this.options):Xe.init(null,this.options);let d;this.modules.formatter?d=this.modules.formatter:d=wm;const u=new Bs(this.options);this.store=new Fs(this.options.resources,this.options);const h=this.services;h.logger=Xe,h.resourceStore=this.store,h.languageUtils=u,h.pluralResolver=new ym(u,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==s.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),d&&(!this.options.interpolation.format||this.options.interpolation.format===s.interpolation.format)&&(h.formatter=a(d),h.formatter.init&&h.formatter.init(h,this.options),this.options.interpolation.format=h.formatter.format.bind(h.formatter)),h.interpolator=new xm(this.options),h.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},h.backendConnector=new jm(a(this.modules.backend),h.resourceStore,h,this.options),h.backendConnector.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.languageDetector&&(h.languageDetector=a(this.modules.languageDetector),h.languageDetector.init&&h.languageDetector.init(h,this.options.detection,this.options)),this.modules.i18nFormat&&(h.i18nFormat=a(this.modules.i18nFormat),h.i18nFormat.init&&h.i18nFormat.init(this)),this.translator=new Pr(this.services,this.options),this.translator.on("*",(p,...g)=>{this.emit(p,...g)}),this.modules.external.forEach(p=>{p.init&&p.init(this)})}if(this.format=this.options.interpolation.format,n||(n=dr),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const d=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);d.length>0&&d[0]!=="dev"&&(this.options.lng=d[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(d=>{this[d]=(...u)=>this.store[d](...u)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(d=>{this[d]=(...u)=>(this.store[d](...u),this)});const l=Rt(),c=()=>{const d=(u,h)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),l.resolve(h),n(u,h)};if(this.languages&&!this.isInitialized)return d(null,this.t.bind(this));this.changeLanguage(this.options.lng,d)};return this.options.resources||!this.options.initAsync?c():setTimeout(c,0),l}loadResources(t,n=dr){let s=n;const a=Y(t)?t:this.language;if(typeof t=="function"&&(s=t),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return s();const i=[],o=l=>{if(!l||l==="cimode")return;this.services.languageUtils.toResolveHierarchy(l).forEach(d=>{d!=="cimode"&&i.indexOf(d)<0&&i.push(d)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(c=>o(c)),this.options.preload?.forEach?.(l=>o(l)),this.services.backendConnector.load(i,this.options.ns,l=>{!l&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),s(l)})}else s(null)}reloadResources(t,n,s){const a=Rt();return typeof t=="function"&&(s=t,t=void 0),typeof n=="function"&&(s=n,n=void 0),t||(t=this.languages),n||(n=this.options.ns),s||(s=dr),this.services.backendConnector.reload(t,n,i=>{a.resolve(),s(i)}),a}use(t){if(!t)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!t.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return t.type==="backend"&&(this.modules.backend=t),(t.type==="logger"||t.log&&t.warn&&t.error)&&(this.modules.logger=t),t.type==="languageDetector"&&(this.modules.languageDetector=t),t.type==="i18nFormat"&&(this.modules.i18nFormat=t),t.type==="postProcessor"&&Ja.addPostProcessor(t),t.type==="formatter"&&(this.modules.formatter=t),t.type==="3rdParty"&&this.modules.external.push(t),this}setResolvedLanguage(t){if(!(!t||!this.languages)&&!(["cimode","dev"].indexOf(t)>-1)){for(let n=0;n<this.languages.length;n++){const s=this.languages[n];if(!(["cimode","dev"].indexOf(s)>-1)&&this.store.hasLanguageSomeTranslations(s)){this.resolvedLanguage=s;break}}!this.resolvedLanguage&&this.languages.indexOf(t)<0&&this.store.hasLanguageSomeTranslations(t)&&(this.resolvedLanguage=t,this.languages.unshift(t))}}changeLanguage(t,n){this.isLanguageChangingTo=t;const s=Rt();this.emit("languageChanging",t);const a=l=>{this.language=l,this.languages=this.services.languageUtils.toResolveHierarchy(l),this.resolvedLanguage=void 0,this.setResolvedLanguage(l)},i=(l,c)=>{c?this.isLanguageChangingTo===t&&(a(c),this.translator.changeLanguage(c),this.isLanguageChangingTo=void 0,this.emit("languageChanged",c),this.logger.log("languageChanged",c)):this.isLanguageChangingTo=void 0,s.resolve((...d)=>this.t(...d)),n&&n(l,(...d)=>this.t(...d))},o=l=>{!t&&!l&&this.services.languageDetector&&(l=[]);const c=Y(l)?l:l&&l[0],d=this.store.hasLanguageSomeTranslations(c)?c:this.services.languageUtils.getBestMatchFromCodes(Y(l)?[l]:l);d&&(this.language||a(d),this.translator.language||this.translator.changeLanguage(d),this.services.languageDetector?.cacheUserLanguage?.(d)),this.loadResources(d,u=>{i(u,d)})};return!t&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!t&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(t),s}getFixedT(t,n,s){const a=(i,o,...l)=>{let c;typeof o!="object"?c=this.options.overloadTranslationOptionHandler([i,o].concat(l)):c={...o},c.lng=c.lng||a.lng,c.lngs=c.lngs||a.lngs,c.ns=c.ns||a.ns,c.keyPrefix!==""&&(c.keyPrefix=c.keyPrefix||s||a.keyPrefix);const d=this.options.keySeparator||".";let u;return c.keyPrefix&&Array.isArray(i)?u=i.map(h=>(typeof h=="function"&&(h=Tn(h,{...this.options,...o})),`${c.keyPrefix}${d}${h}`)):(typeof i=="function"&&(i=Tn(i,{...this.options,...o})),u=c.keyPrefix?`${c.keyPrefix}${d}${i}`:i),this.t(u,c)};return Y(t)?a.lng=t:a.lngs=t,a.ns=n,a.keyPrefix=s,a}t(...t){return this.translator?.translate(...t)}exists(...t){return this.translator?.exists(...t)}setDefaultNamespace(t){this.options.defaultNS=t}hasLoadedNamespace(t,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const s=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(s.toLowerCase()==="cimode")return!0;const o=(l,c)=>{const d=this.services.backendConnector.state[`${l}|${c}`];return d===-1||d===0||d===2};if(n.precheck){const l=n.precheck(this,o);if(l!==void 0)return l}return!!(this.hasResourceBundle(s,t)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(s,t)&&(!a||o(i,t)))}loadNamespaces(t,n){const s=Rt();return this.options.ns?(Y(t)&&(t=[t]),t.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{s.resolve(),n&&n(a)}),s):(n&&n(),Promise.resolve())}loadLanguages(t,n){const s=Rt();Y(t)&&(t=[t]);const a=this.options.preload||[],i=t.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{s.resolve(),n&&n(o)}),s):(n&&n(),Promise.resolve())}dir(t){if(t||(t=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!t)return"rtl";try{const a=new Intl.Locale(t);if(a&&a.getTextInfo){const i=a.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],s=this.services?.languageUtils||new Bs(qs());return t.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(s.getLanguagePartFromCode(t))>-1||t.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(t={},n){return new Kt(t,n)}cloneInstance(t={},n=dr){const s=t.forkResourceStore;s&&delete t.forkResourceStore;const a={...this.options,...t,isClone:!0},i=new Kt(a);if((t.debug!==void 0||t.prefix!==void 0)&&(i.logger=i.logger.clone(t)),["store","services","language"].forEach(l=>{i[l]=this[l]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},s){const l=Object.keys(this.store.data).reduce((c,d)=>(c[d]={...this.store.data[d]},c[d]=Object.keys(c[d]).reduce((u,h)=>(u[h]={...c[d][h]},u),c[d]),c),{});i.store=new Fs(l,a),i.services.resourceStore=i.store}return i.translator=new Pr(i.services,a),i.translator.on("*",(l,...c)=>{i.emit(l,...c)}),i.init(a,n),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const xe=Kt.createInstance();xe.createInstance=Kt.createInstance;xe.createInstance;xe.dir;xe.init;xe.loadResources;xe.reloadResources;xe.use;xe.changeLanguage;xe.getFixedT;xe.t;xe.exists;xe.setDefaultNamespace;xe.hasLoadedNamespace;xe.loadNamespaces;xe.loadLanguages;const{slice:Nm,forEach:Em}=[];function Pm(e){return Em.call(Nm.call(arguments,1),t=>{if(t)for(const n in t)e[n]===void 0&&(e[n]=t[n])}),e}function Tm(e){return typeof e!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(e))}const Xs=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,Cm=function(e,t){const s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(t);let i=`${e}=${a}`;if(s.maxAge>0){const o=s.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(s.domain){if(!Xs.test(s.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${s.domain}`}if(s.path){if(!Xs.test(s.path))throw new TypeError("option path is invalid");i+=`; Path=${s.path}`}if(s.expires){if(typeof s.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${s.expires.toUTCString()}`}if(s.httpOnly&&(i+="; HttpOnly"),s.secure&&(i+="; Secure"),s.sameSite)switch(typeof s.sameSite=="string"?s.sameSite.toLowerCase():s.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return s.partitioned&&(i+="; Partitioned"),i},Qs={create(e,t,n,s){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),s&&(a.domain=s),document.cookie=Cm(e,t,a)},read(e){const t=`${e}=`,n=document.cookie.split(";");for(let s=0;s<n.length;s++){let a=n[s];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(t)===0)return a.substring(t.length,a.length)}return null},remove(e,t){this.create(e,"",-1,t)}};var Am={name:"cookie",lookup(e){let{lookupCookie:t}=e;if(t&&typeof document<"u")return Qs.read(t)||void 0},cacheUserLanguage(e,t){let{lookupCookie:n,cookieMinutes:s,cookieDomain:a,cookieOptions:i}=t;n&&typeof document<"u"&&Qs.create(n,e,s,a,i)}},Rm={name:"querystring",lookup(e){let{lookupQuerystring:t}=e,n;if(typeof window<"u"){let{search:s}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(s=window.location.hash.substring(window.location.hash.indexOf("?")));const i=s.substring(1).split("&");for(let o=0;o<i.length;o++){const l=i[o].indexOf("=");l>0&&i[o].substring(0,l)===t&&(n=i[o].substring(l+1))}}return n}},_m={name:"hash",lookup(e){let{lookupHash:t,lookupFromHashIndex:n}=e,s;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const i=a.substring(1);if(t){const o=i.split("&");for(let l=0;l<o.length;l++){const c=o[l].indexOf("=");c>0&&o[l].substring(0,c)===t&&(s=o[l].substring(c+1))}}if(s)return s;if(!s&&n>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return s}};let bt=null;const Js=()=>{if(bt!==null)return bt;try{if(bt=typeof window<"u"&&window.localStorage!==null,!bt)return!1;const e="i18next.translate.boo";window.localStorage.setItem(e,"foo"),window.localStorage.removeItem(e)}catch{bt=!1}return bt};var Lm={name:"localStorage",lookup(e){let{lookupLocalStorage:t}=e;if(t&&Js())return window.localStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupLocalStorage:n}=t;n&&Js()&&window.localStorage.setItem(n,e)}};let wt=null;const Zs=()=>{if(wt!==null)return wt;try{if(wt=typeof window<"u"&&window.sessionStorage!==null,!wt)return!1;const e="i18next.translate.boo";window.sessionStorage.setItem(e,"foo"),window.sessionStorage.removeItem(e)}catch{wt=!1}return wt};var Om={name:"sessionStorage",lookup(e){let{lookupSessionStorage:t}=e;if(t&&Zs())return window.sessionStorage.getItem(t)||void 0},cacheUserLanguage(e,t){let{lookupSessionStorage:n}=t;n&&Zs()&&window.sessionStorage.setItem(n,e)}},Dm={name:"navigator",lookup(e){const t=[];if(typeof navigator<"u"){const{languages:n,userLanguage:s,language:a}=navigator;if(n)for(let i=0;i<n.length;i++)t.push(n[i]);s&&t.push(s),a&&t.push(a)}return t.length>0?t:void 0}},Im={name:"htmlTag",lookup(e){let{htmlTag:t}=e,n;const s=t||(typeof document<"u"?document.documentElement:null);return s&&typeof s.getAttribute=="function"&&(n=s.getAttribute("lang")),n}},Mm={name:"path",lookup(e){let{lookupFromPathIndex:t}=e;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof t=="number"?t:0]?.replace("/",""):void 0}},$m={name:"subdomain",lookup(e){let{lookupFromSubdomainIndex:t}=e;const n=typeof t=="number"?t+1:1,s=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(s)return s[n]}};let ei=!1;try{document.cookie,ei=!0}catch{}const ti=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];ei||ti.splice(1,1);const zm=()=>({order:ti,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:e=>e});class ri{constructor(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(t,n)}init(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=t,this.options=Pm(n,this.options||{},zm()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=s,this.addDetector(Am),this.addDetector(Rm),this.addDetector(Lm),this.addDetector(Om),this.addDetector(Dm),this.addDetector(Im),this.addDetector(Mm),this.addDetector($m),this.addDetector(_m)}addDetector(t){return this.detectors[t.name]=t,this}detect(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return t.forEach(s=>{if(this.detectors[s]){let a=this.detectors[s].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(s=>s!=null&&!Tm(s)).map(s=>this.options.convertDetectedLanguage(s)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(t){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(t)>-1||n.forEach(s=>{this.detectors[s]&&this.detectors[s].cacheUserLanguage(t,this.options)}))}}ri.type="languageDetector";const Fm={description:"Stream your favourite torrents instantly with our service, no waiting for downloads, reliable and seamless streaming directly to your browser / VLC Media Player.",topAiringAnime:"Top Airing Anime",topAnime:"Top Anime",continueWatching:"Continue Watching",noWatchHistory:"No anime in your watch history",startWatchingNow:"Start watching an anime right now!",failedTopAiring:"Failed to fetch Top Airing Anime",failedTopAnime:"Failed to fetch Top Anime",errorRecentActivity:"Error fetching Recent Activity"},Um={watching:"Watching",planning:"Planning to watch",completed:"Completed",dropped:"Dropped",paused:"Paused"},Hm={newReleases:"New Releases",browseAnime:"Browse Anime",downloads:"Active Downloads",loginAnilist:"Login With Anilist",archive:"Archive",more:"More",moveProject:"Move to project…",moveFolder:"Move to folder…",advancedOptions:"Advanced options…",logout:"Logout",howToUse:"How to use",language:"Language"},Bm={loading:"Loading...",cancel:"Cancel"},Vm={placeholder:"Search anime, episodes, or users...",noResults:"No results found",searching:"Searching...",invalidQuery:"Invalid search query",enterValidQuery:"Please enter a valid search query"},Wm={episodes:"episodes",score:"Score",popularity:"Popularity",format:"Format",status:"Status",description:"Description",writtenBy:"Written by",errorLoading:"Error loading anime",episodesLabel:"episodes",quality:"Quality:",all:"All",hd:"1080p",sd:"720p",season:"Season",allSeasons:"All Seasons",englishDub:"English Dub",hideWatchedEpisodes:"Hide Watched Episodes",episodesTitle:"Episodes",status_releasing:"Releasing",status_finished:"Finished",status_planned:"Planned",status_cancelled:"Cancelled",status_ongoing:"Ongoing",season_spring:"Spring",season_summer:"Summer",season_fall:"Fall",season_winter:"Winter"},Km={title:"New Releases",loading:"Loading new releases...",error:"Error fetching new releases"},Ym={episode:"Episode",secondsAgo:"seconds ago",minutesAgo:"minutes ago",hoursAgo:"hours ago",justNow:"Just now"},qm={play:"Play",pause:"Pause",stop:"Stop",loading:"Loading video...",streamOnBrowser:"Stream on Browser",openInVLC:"Open in VLC",openInMPV:"Open in MPV",stopDownloadingEpisode:"Stop downloading episode",loadingFiles:"Loading files...",episodes:"Episodes",noFilesFound:"No files found",checkBackend:"Make sure backend is running",tryAgain:"Try Again",torrentAddFailed:"Failed to add torrent",videoStopped:"Video stopped",canSelectNewEpisode:"You can select a new episode",hlsMode:"HLS Mode",directStream:"Direct Stream",adaptiveQuality:"Adaptive Quality",multiAudioSubtitle:"Multi-audio/subtitle support",standardStreaming:"Standard MKV streaming",instantPlay:"Instant play",fixedQuality:"Fixed quality",appleAndroid:"Apple/Android",upscaleFound:"4K Upscale Found!",upscaleActive:"4K Upscale Active!",originalAudio:"4K quality with original audio",standard1080p:"1080p HD",standardQuality:"Standard quality",filesReady:"files ready",noUpscale:"No upscale",adaptiveStreaming:"Adaptive Streaming",directMkvStreaming:"Direct MKV Streaming",instantPlayback:"Instant playback",fullQuality:"Full quality",localBackend:"Local backend",ready:"READY",active:"ACTIVE",auto:"AUTO",vlcLaunched:"VLC launched",mpvLaunched:"MPV launched",playingInVLC:"Playing in VLC",playingInMPV:"Playing in MPV",mpvFailed:"MPV launch failed",mpvNotInstalled:"Make sure MPV is installed",videoLoading:"Loading video...",settings:"Settings",quality:"Quality",subtitle:"Subtitle",subtitleSettings:"Subtitle Settings",fontSize:"Font Size",fontFamily:"Font Family",fontWeight:"Font Weight",strokeWidth:"Stroke Width",shadowIntensity:"Shadow Intensity",height:"Height",textColor:"Text Color",backgroundOpacity:"Background Opacity",resetSettings:"Reset to Default",settingsReset:"Settings reset",defaultSettings:"Restored to default settings",subtitleNotFound:"Subtitle Not Found",noSubtitleInMkv:"No subtitle in MKV",format:"Format",aboveProgressBar:"Right above progress bar",normal:"Normal",bold:"Bold",veryBold:"Very Bold",dark:"Dark",medium:"Medium",light:"Light",none:"None",bottom:"Bottom",middle:"Middle",top:"Top",subtitles:"Subtitles",audioTracks:"Audio Tracks",audioTrack:"Audio Track",off:"Off",allDisabled:"All disabled",subtitleChanged:"Subtitle changed",audioChanged:"Audio track changed",singleAudioTrack:"MKV has only one audio track",singleAudioInfo:"Only one audio track available in MKV",audioNotSupported:"Audio switching not supported",useVlcMpv:"Use VLC/MPV if browser doesn't support",browserNotSupport:"Browser doesn't support multi-audio. Open with VLC/MPV.",openWithVlc:"Open with VLC",subtitleChangeFailed:"Failed to change subtitle",trackNotFound:"Track not found",playerSettings:"Player Settings",audioTrackCount:"audio tracks",singleAudioInMkv:"MKV has only one audio track",audioSwitchNotSupported:"Audio switching not supported",multiAudioNotSupported:"Browser doesn't support multi-audio. Open with VLC/MPV.",shortcuts:"Shortcuts",playPause:"Play/Pause",fullscreen:"Fullscreen",mute:"Mute",seek:"Seek",volume:"Volume",loadingSubtitle:"Loading subtitles...",waitingSubtitle:"Waiting for subtitles",willAutoPlay:"Will auto-play when ready",pleaseWait:"Please wait...",ifNotAutoStart:"If video doesn't auto-start, press F5",playing:"Playing",subtitlesLoaded:"Subtitles loaded successfully",readyToPlay:"Ready to play",clickToPlay:"Click play button to start",settingsRestored:"Subtitle settings restored",settingsAutoSaved:"Settings are saved automatically"},Gm="Error fetching anime",Xm="Couldn't fetch anime",Qm="No description",Jm="Error streaming video",Zm="Couldn't stream the video, make sure the torrent is valid and the Backend Server is running.",eh="Error streaming to VLC",th="Couldn't stop episode download",rh="Error removing the torrent",nh="Couldn't remove the torrent, you can manually remove it by restarting the server.",sh="Error fetching Anilist Profile",ah="Error fetching torrents",ih="Error updating episode on AniList!",oh="Something Went wrong !",lh="Unknown Error",ch="Backend is not running on your local machine",dh="Backend is not running on your local machine or NO files were found in the torrent",uh="Backend is running",mh="Backend is running on your local machine",hh="Backend is not running",ph="Backend is not running on your local machine",fh="Torrent removed successfully",gh="Episode download stopped successfully",yh="The torrent has been removed successfully",xh="Make sure that VLC is installed on your system and correct path is set to it in BACKEND/server.js and the Backend Server is running.",vh="You can manually stop it by restarting the server or by removing the torrent completely.",bh="Get Files",wh="Stop and Remove Anime",Sh="Ping Backend",jh="Error fetching new releases",kh="Could not fetch new releases",Nh="Error fetching Anilist data",Eh="Could not fetch Anilist data",Ph="No video source available",Th={login:"Login",register:"Register",logout:"Logout",username:"Username",email:"Email",password:"Password",confirmPassword:"Confirm Password",rememberMe:"Remember Me",forgotPassword:"Forgot Password",usernameOrEmail:"Username or Email",noAccount:"Don't have an account?",haveAccount:"Already have an account?",dontHaveAccount:"Don't have an account?",alreadyHaveAccount:"Already have an account?",loginSuccess:"Login successful!",registerSuccess:"Registration successful!",logoutSuccess:"Logged out"},Ch={myProfile:"My Profile",editProfile:"Edit Profile",bio:"Bio",bioPlaceholder:"Tell us about yourself...",avatar:"Avatar",banner:"Banner",lastWatched:"Last Watched",watchingNow:"Watching Now",completedAnime:"Completed Anime",favorites:"Favorites",memberSince:"Member Since",lastLogin:"Last login",changeUsername:"Change Username",changePassword:"Change Password",changeEmail:"Change Email",currentPassword:"Current Password",newPassword:"New Password",newUsername:"New Username",newEmail:"New Email",saveChanges:"Save Changes",cancel:"Cancel",updated:"Profile updated successfully",updateSuccess:"Profile updated",updateError:"Error updating profile",username:"Username",email:"Email",emailError:"Please enter a valid email address",emailUpdated:"Email updated successfully",emailUpdateError:"Error updating email",passwordUpdated:"Password changed successfully",passwordUpdateError:"Error changing password",passwordLengthError:"Password must be at least 8 characters",passwordMismatchError:"Passwords do not match",passwordRequirements:"Must contain at least one uppercase, one lowercase, and one number",confirmPassword:"Confirm Password",avatarTypeError:"Please upload a valid image file",formError:"Please fix the errors in the form",noAnime:"No anime added yet",continueWatching:"Continue Watching",episode:"Episode",rating:"Rating",completed:"Completed",completedOn:"Completed on:",noCompletedAnime:"No completed anime yet",totalWatched:"Total Watched",avgProgress:"Average Progress",noWatchHistory:"No watch history yet",profileNotFound:"Profile not found",profileInfo:"Profile Information",accountSettings:"Account Settings",security:"Security",uploadImage:"Upload Image",orEnterUrl:"or",preview:"Preview",currentEmail:"Current email",updatePassword:"Change Password",updateEmail:"Update Email",selectImage:"Select an image"},Ah={required:"This field is required",minLength:"Must be at least {min} characters",maxLength:"Must be at most {max} characters",invalidEmail:"Please enter a valid email address",passwordMismatch:"Passwords do not match",weakPassword:"Password must contain at least one uppercase letter, one lowercase letter, and one number"},Rh={title:"Browse Anime",filters:"Filters",clearAll:"Clear All",sortBy:"Sort By",year:"Year",season:"Season",format:"Format",status:"Status",genres:"Genres",allYears:"All Years",allSeasons:"All Seasons",allFormats:"All Formats",allStatus:"All Status",selected:"Selected",showing:"Showing",anime:"anime",loadMore:"Load More",noResults:"No anime found with selected filters",sortOptions:{popularity:"Popularity (High to Low)",score:"Score (High to Low)",trending:"Trending",favorites:"Favorites",recentlyAdded:"Recently Added",titleAZ:"Title (A-Z)"},seasons:{winter:"Winter",spring:"Spring",summer:"Summer",fall:"Fall"},formats:{tv:"TV",tvShort:"TV Short",movie:"Movie",special:"Special",ova:"OVA",ona:"ONA",music:"Music"},statuses:{airing:"Airing",finished:"Finished",notYetAired:"Not Yet Aired",cancelled:"Cancelled"}},_h={title:"Active Downloads",noActiveTorrents:"No active downloads",startWatching:"Start watching an anime to see downloads here"},Lh={title:"Comments",writeComment:"Write Comment",placeholder:"Write a comment...",post:"Post",reply:"Reply",replyPlaceholder:"Write a reply...",postReply:"Post Reply",loadMore:"Load More",noComments:"No comments yet. Be the first to comment!",commentAdded:"Comment added successfully",replyAdded:"Reply added successfully",commentDeleted:"Comment deleted successfully",loadError:"Error loading comments",addError:"Error adding comment",deleteError:"Error deleting comment",likeError:"Error liking comment",likeSuccess:"Like updated successfully",loginToLike:"You must login to like comments",loginToComment:"Login to comment",profanityWarning:"Please avoid using profanity"},Oh={home:Fm,animeCard:Um,header:Hm,common:Bm,searchBar:Vm,animePage:Wm,newReleases:Km,newReleaseCard:Ym,player:qm,errorFetchingAnime:Gm,couldntFetchAnime:Xm,noDescription:Qm,errorStreamingVideo:Jm,couldntStreamVideo:Zm,errorStreamingToVLC:eh,couldntStopEpisodeDownload:th,errorRemovingTorrent:rh,couldntRemoveTorrent:nh,errorFetchingAnilistProfile:sh,errorFetchingTorrents:ah,errorUpdatingEpisodeOnAnilist:ih,somethingWentWrong:oh,unknownError:lh,backendNotRunning:ch,backendNotRunningOrNoFiles:dh,backendRunning:uh,backendRunningDescription:mh,backendNotRunningTitle:hh,backendNotRunningDescription:ph,torrentRemovedSuccessfully:fh,episodeDownloadStopped:gh,torrentRemovedDescription:yh,vlcErrorDescription:xh,manualStopDescription:vh,getFiles:bh,stopAndRemoveAnime:wh,pingBackend:Sh,errorFetchingNewReleases:jh,newReleasesFetchError:kh,errorFetchingAnilistData:Nh,anilistDataFetchError:Eh,noVideoSource:Ph,auth:Th,profile:Ch,validation:Ah,browse:Rh,downloads:_h,comments:Lh},Dh={description:"Favori torrentlerinizi anında izleyin, indirmeyi beklemeden tarayıcınızda veya VLC Media Player üzerinden güvenilir ve kesintisiz yayın.",topAiringAnime:"En Popüler Yayınlanan Animeler",topAnime:"En Popüler Animeler",continueWatching:"İzlemeye Devam Et",noWatchHistory:"İzleme geçmişinizde anime yok",startWatchingNow:"Hemen bir anime izlemeye başla!",failedTopAiring:"Popüler Yayınlanan Animeler alınamadı",failedTopAnime:"Popüler Animeler alınamadı",errorRecentActivity:"Son aktiviteler alınırken hata oluştu"},Ih={watching:"İzleniyor",planning:"İzlenecek",completed:"Tamamlandı",dropped:"Bırakıldı",paused:"Duraklatıldı"},Mh={newReleases:"Yeni Çıkanlar",browseAnime:"Animeler",downloads:"Aktif İndirmeler",loginAnilist:"Anilist ile Giriş Yap",archive:"Arşiv",more:"Daha Fazla",moveProject:"Projeye taşı…",moveFolder:"Klasöre taşı…",advancedOptions:"Gelişmiş seçenekler…",logout:"Çıkış Yap",howToUse:"Nasıl Kullanılır",language:"Dil"},$h={loading:"Yükleniyor...",cancel:"İptal"},zh={placeholder:"Anime, bölüm veya kullanıcı ara...",noResults:"Sonuç bulunamadı",searching:"Aranıyor...",invalidQuery:"Geçersiz arama sorgusu",enterValidQuery:"Lütfen geçerli bir arama sorgusu girin"},Fh={episodes:"bölüm",score:"Puan",popularity:"Popülerlik",format:"Format",status:"Durum",description:"Açıklama",writtenBy:"Yazan",errorLoading:"Anime yüklenirken hata oluştu",episodesLabel:"bölüm",quality:"Kalite:",all:"Tümü",hd:"1080p",sd:"720p",season:"Sezon",allSeasons:"Tüm Sezonlar",englishDub:"İngilizce Dublaj",hideWatchedEpisodes:"İzlenen Bölümleri Gizle",episodesTitle:"Bölümler",status_releasing:"Yayınlanıyor",status_finished:"Tamamlandı",status_planned:"Planlandı",status_cancelled:"İptal Edildi",status_ongoing:"Devam Ediyor",season_spring:"İlkbahar",season_summer:"Yaz",season_fall:"Sonbahar",season_winter:"Kış"},Uh={title:"Yeni Çıkanlar",loading:"Yeni çıkanlar yükleniyor...",error:"Yeni çıkanlar alınırken hata oluştu"},Hh={episode:"Bölüm",secondsAgo:"saniye önce",minutesAgo:"dakika önce",hoursAgo:"saat önce",justNow:"Şimdi"},Bh={play:"Oynat",pause:"Duraklat",stop:"Durdur",loading:"Video yükleniyor...",streamOnBrowser:"Tarayıcıda Oynat",openInVLC:"VLC'de Aç",openInMPV:"MPV ile Aç",stopDownloadingEpisode:"Bölüm indirmeyi durdur",loadingFiles:"Dosyalar yükleniyor...",episodes:"Bölümler",noFilesFound:"Dosya bulunamadı",checkBackend:"Backend çalıştığından emin olun",tryAgain:"Tekrar Dene",videoStopped:"Video durduruldu",canSelectNewEpisode:"Yeni bölüm seçebilirsiniz",torrentAddFailed:"Torrent eklenemedi",hlsMode:"HLS Modu",directStream:"Direkt Stream",adaptiveQuality:"Otomatik Kalite",multiAudioSubtitle:"Çoklu ses/altyazı desteği",standardStreaming:"Standart MKV streaming",instantPlay:"Anlık başlatma",fixedQuality:"Sabit kalite",appleAndroid:"Apple/Android",upscaleFound:"4K Upscale Bulundu!",upscaleActive:"4K Upscale Aktif!",originalAudio:"Orijinal ses ile 4K kalite",standard1080p:"1080p HD",standardQuality:"Standart kalite",filesReady:"dosya hazır",noUpscale:"Upscale yok",adaptiveStreaming:"Adaptif Streaming",directMkvStreaming:"Direkt MKV Streaming",instantPlayback:"Anında oynatma",fullQuality:"Tam kalite",localBackend:"Yerel backend",ready:"HAZIR",active:"AKTİF",auto:"OTO",vlcLaunched:"VLC başlatıldı",mpvLaunched:"MPV başlatıldı",playingInVLC:"Video VLC'de oynatılıyor",playingInMPV:"Video MPV'de oynatılıyor",mpvFailed:"MPV başlatılamadı",mpvNotInstalled:"MPV kurulu olduğundan emin olun",videoLoading:"Video yükleniyor...",settings:"Ayarlar",quality:"Kalite",subtitle:"Altyazı",subtitleSettings:"Altyazı Ayarları",fontSize:"Boyut",fontFamily:"Yazı Tipi",fontWeight:"Kalınlık",strokeWidth:"Kenar Kalınlığı",shadowIntensity:"Gölge Yoğunluğu",height:"Yükseklik",textColor:"Yazı Rengi",backgroundOpacity:"Arka Plan Opaklığı",resetSettings:"Varsayılana Dön",settingsReset:"Ayarlar sıfırlandı",defaultSettings:"Varsayılan ayarlara dönüldü",subtitleNotFound:"Altyazı Bulunamadı",noSubtitleInMkv:"MKV içinde altyazı yok",format:"Format",aboveProgressBar:"İlerleme çubuğunun hemen üstünde",normal:"Normal",bold:"Kalın",veryBold:"Çok Kalın",dark:"Koyu",medium:"Orta",light:"Az",none:"Yok",bottom:"Aşağı",middle:"Orta",top:"Yukarı",subtitles:"Altyazılar",audioTracks:"Ses Kayıtları",audioTrack:"Ses Kaydı",off:"Kapalı",allDisabled:"Tümü kapalı",subtitleChanged:"Altyazı değiştirildi",audioChanged:"Ses kaydı değiştirildi",singleAudioTrack:"MKV'de tek ses kaydı var",singleAudioInfo:"MKV'de tek ses kaydı mevcut",audioNotSupported:"Ses değişimi desteklenmiyor",useVlcMpv:"Tarayıcı desteklemiyorsa VLC/MPV kullanın",browserNotSupport:"Tarayıcı çoklu ses kaydını desteklemiyor. VLC/MPV ile açın.",openWithVlc:"VLC ile Aç",subtitleChangeFailed:"Altyazı değiştirilemedi",trackNotFound:"Track bulunamadı",playerSettings:"Player Ayarları",audioTrackCount:"adet ses kaydı",singleAudioInMkv:"MKV'de tek ses kaydı var",audioSwitchNotSupported:"Ses değişimi desteklenmiyor",multiAudioNotSupported:"Tarayıcı çoklu ses kaydını desteklemiyor. VLC/MPV ile açın.",shortcuts:"Kısayollar",playPause:"Oynat/Duraklat",fullscreen:"Tam Ekran",mute:"Sessiz",seek:"İleri/Geri",volume:"Ses",loadingSubtitle:"Altyazılar yükleniyor...",waitingSubtitle:"Altyazılar bekleniyor",willAutoPlay:"Hazır olunca otomatik başlayacak",pleaseWait:"Lütfen bekleyin...",ifNotAutoStart:"Eğer video otomatik başlamazsa F5 atın",playing:"Oynatılıyor",subtitlesLoaded:"Altyazılar yüklendi",readyToPlay:"Hazır",clickToPlay:"Oynat butonuna tıklayın",settingsRestored:"Altyazı ayarlarınız yüklendi",settingsAutoSaved:"Ayarlar otomatik kaydediliyor"},Vh="Anime alınırken hata oluştu",Wh="Anime alınamadı",Kh="Açıklama yok",Yh="Video oynatılırken hata oluştu",qh="Video oynatılamadı, torrentin geçerli olduğundan ve Arka Uç Sunucusunun çalıştığından emin olun.",Gh="VLC'ye aktarılırken hata oluştu",Xh="Bölüm indirmesi durdurulamadı",Qh="Torrent kaldırılırken hata oluştu",Jh="Torrent kaldırılamadı, sunucuyu yeniden başlatarak manuel olarak silebilirsiniz.",Zh="Anilist Profili alınırken hata oluştu",ep="Torrentler alınırken hata oluştu",tp="Bölüm Anilist üzerinde güncellenirken hata oluştu!",rp="Bir şeyler ters gitti!",np="Bilinmeyen Hata",sp="Arka uç yerel makinenizde çalışmıyor",ap="Arka uç yerel makinenizde çalışmıyor veya torrentte dosya bulunamadı",ip="Arka uç çalışıyor",op="Arka uç yerel makinenizde çalışıyor",lp="Arka uç çalışmıyor",cp="Arka uç yerel makinenizde çalışmıyor",dp="Torrent başarıyla kaldırıldı",up="Bölüm indirmesi başarıyla durduruldu",mp="Torrent başarıyla kaldırıldı",hp="VLC'nin sisteminizde kurulu olduğundan, yolunun BACKEND/server.js içinde doğru ayarlandığından ve Arka Uç Sunucusunun çalıştığından emin olun.",pp="Sunucuyu yeniden başlatarak veya torrenti tamamen kaldırarak manuel olarak durdurabilirsiniz.",fp="Dosyaları Getir",gp="Animeyi Durdur ve Kaldır",yp="Arka Ucu Ping At",xp="Yeni çıkanlar alınırken hata oluştu",vp="Yeni çıkanlar alınamadı",bp="Anilist verileri alınırken hata oluştu",wp="Anilist verileri alınamadı",Sp="Video kaynağı bulunamadı",jp={login:"Giriş Yap",register:"Kayıt Ol",logout:"Çıkış Yap",username:"Kullanıcı Adı",email:"Email",password:"Şifre",confirmPassword:"Şifreyi Onayla",rememberMe:"Beni Hatırla",forgotPassword:"Şifremi Unuttum",usernameOrEmail:"Kullanıcı Adı veya Email",noAccount:"Hesabınız yok mu?",haveAccount:"Zaten hesabınız var mı?",dontHaveAccount:"Hesabınız yok mu?",alreadyHaveAccount:"Zaten hesabınız var mı?",loginSuccess:"Giriş başarılı!",registerSuccess:"Kayıt başarılı!",logoutSuccess:"Çıkış yapıldı"},kp={title:"Animeler",filters:"Filtreler",clearAll:"Tümünü Temizle",sortBy:"Sıralama",year:"Yıl",season:"Sezon",format:"Format",status:"Durum",genres:"Türler",allYears:"Tüm Yıllar",allSeasons:"Tüm Sezonlar",allFormats:"Tüm Formatlar",allStatus:"Tüm Durumlar",selected:"Seçili",showing:"Gösterilen",anime:"anime",loadMore:"Daha Fazla Yükle",noResults:"Seçili filtrelerle anime bulunamadı",sortOptions:{popularity:"Popülerlik (Yüksekten Düşüğe)",score:"Puan (Yüksekten Düşüğe)",trending:"Trendler",favorites:"Favoriler",recentlyAdded:"Son Eklenenler",titleAZ:"Başlık (A-Z)"},seasons:{winter:"Kış",spring:"İlkbahar",summer:"Yaz",fall:"Sonbahar"},formats:{tv:"TV",tvShort:"TV Kısa",movie:"Film",special:"Özel",ova:"OVA",ona:"ONA",music:"Müzik"},statuses:{airing:"Yayınlanıyor",finished:"Tamamlandı",notYetAired:"Henüz Yayınlanmadı",cancelled:"İptal Edildi"}},Np={myProfile:"Profilim",editProfile:"Profili Düzenle",bio:"Hakkımda",avatar:"Profil Resmi",banner:"Banner",lastWatched:"Son İzlenen",watchingNow:"Şu Anda İzliyor",completedAnime:"Tamamlanan Animeler",favorites:"Favoriler",memberSince:"Üyelik Tarihi",lastLogin:"Son giriş",changeUsername:"Kullanıcı Adını Değiştir",changePassword:"Şifre Değiştir",changeEmail:"Email Değiştir",currentPassword:"Mevcut Şifre",newPassword:"Yeni Şifre",newUsername:"Yeni Kullanıcı Adı",newEmail:"Yeni Email",saveChanges:"Değişiklikleri Kaydet",cancel:"İptal",updated:"Profil başarıyla güncellendi",updateSuccess:"Profil güncellendi",updateError:"Profil güncellenirken hata oluştu",username:"Kullanıcı Adı",email:"Email",emailError:"Geçerli bir email adresi giriniz",emailUpdated:"Email başarıyla güncellendi",emailUpdateError:"Email güncellenirken hata oluştu",passwordUpdated:"Şifre başarıyla değiştirildi",passwordUpdateError:"Şifre değiştirilirken hata oluştu",passwordLengthError:"Şifre en az 8 karakter olmalıdır",passwordMismatchError:"Şifreler eşleşmiyor",passwordRequirements:"En az bir büyük harf, bir küçük harf ve bir rakam içermelidir",confirmPassword:"Şifreyi Onayla",avatarTypeError:"Lütfen geçerli bir resim dosyası yükleyiniz",formError:"Lütfen formdaki hataları düzeltin",noAnime:"Henüz anime eklenmemiş",continueWatching:"İzlemeye Devam Et",episode:"Bölüm",rating:"Puan",completed:"Tamamlanan",completedOn:"Tamamlanma tarihi:",noCompletedAnime:"Henüz tamamlanmış anime yok",totalWatched:"Toplam İzlenen",avgProgress:"Ortalama İlerleme",noWatchHistory:"Henüz izleme geçmişi yok",profileNotFound:"Profil bulunamadı",profileInfo:"Profil Bilgileri",accountSettings:"Hesap Ayarları",security:"Güvenlik",uploadImage:"Resim Yükle",orEnterUrl:"veya",preview:"Önizleme",currentEmail:"Mevcut email",updateEmail:"Email Güncelle",updatePassword:"Şifre Değiştir",selectImage:"Bir resim seçin",bioPlaceholder:"Kendinizden bahsedin..."},Ep={required:"Bu alan zorunludur",minLength:"En az {min} karakter olmalıdır",maxLength:"En fazla {max} karakter olmalıdır",invalidEmail:"Geçerli bir email adresi giriniz",passwordMismatch:"Şifreler eşleşmiyor",weakPassword:"Şifre en az bir büyük harf, bir küçük harf ve bir rakam içermelidir"},Pp={title:"Aktif İndirmeler",noActiveTorrents:"Aktif indirme yok",startWatching:"İndirmeleri görmek için bir anime izlemeye başlayın"},Tp={title:"Yorumlar",writeComment:"Yorum Yap",placeholder:"Bir yorum yaz...",post:"Gönder",reply:"Yanıtla",replyPlaceholder:"Bir yanıt yaz...",postReply:"Yanıtı Gönder",loadMore:"Daha Fazla Yükle",noComments:"Henüz yorum yok. İlk yorumu sen yap!",commentAdded:"Yorum başarıyla eklendi",replyAdded:"Yanıt başarıyla eklendi",commentDeleted:"Yorum başarıyla silindi",loadError:"Yorumlar yüklenirken hata oluştu",addError:"Yorum eklenirken hata oluştu",deleteError:"Yorum silinirken hata oluştu",likeError:"Beğeni işlemi sırasında hata oluştu",likeSuccess:"Beğeni başarıyla güncellendi",loginToLike:"Beğenmek için giriş yapmalısınız",loginToComment:"Yorum yapmak için giriş yapın",profanityWarning:"Küfür etmezsen sevinirim"},Cp={home:Dh,animeCard:Ih,header:Mh,common:$h,searchBar:zh,animePage:Fh,newReleases:Uh,newReleaseCard:Hh,player:Bh,errorFetchingAnime:Vh,couldntFetchAnime:Wh,noDescription:Kh,errorStreamingVideo:Yh,couldntStreamVideo:qh,errorStreamingToVLC:Gh,couldntStopEpisodeDownload:Xh,errorRemovingTorrent:Qh,couldntRemoveTorrent:Jh,errorFetchingAnilistProfile:Zh,errorFetchingTorrents:ep,errorUpdatingEpisodeOnAnilist:tp,somethingWentWrong:rp,unknownError:np,backendNotRunning:sp,backendNotRunningOrNoFiles:ap,backendRunning:ip,backendRunningDescription:op,backendNotRunningTitle:lp,backendNotRunningDescription:cp,torrentRemovedSuccessfully:dp,episodeDownloadStopped:up,torrentRemovedDescription:mp,vlcErrorDescription:hp,manualStopDescription:pp,getFiles:fp,stopAndRemoveAnime:gp,pingBackend:yp,errorFetchingNewReleases:xp,newReleasesFetchError:vp,errorFetchingAnilistData:bp,anilistDataFetchError:wp,noVideoSource:Sp,auth:jp,browse:kp,profile:Np,validation:Ep,downloads:Pp,comments:Tp};xe.use(ri).use(yl).init({resources:{en:{translation:Oh},tr:{translation:Cp}},fallbackLng:"en",interpolation:{escapeValue:!1}});dn.createRoot(document.getElementById("root")).render(r.jsx(wl,{i18n:xe,children:r.jsx(Tl,{children:r.jsx(jl,{children:r.jsx(sm,{})})})}));
